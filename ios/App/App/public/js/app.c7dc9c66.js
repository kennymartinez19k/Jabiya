(function(e){function t(t){for(var r,c,i=t[0],l=t[1],s=t[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function c(e){return i.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom","stencil-polyfills-css-shim":"stencil-polyfills-css-shim","stencil-polyfills-dom":"stencil-polyfills-dom"}[e]||e)+"."+{"chunk-02c995b5":"90d2af25","chunk-09155df3":"52876540","chunk-09162720":"5fa9ec89","chunk-097e0872":"97eaa347","chunk-0e93a01c":"7c8be212","chunk-106fab1a":"a2194329","chunk-1bc223c0":"68ac1b42","chunk-1bff95de":"6335095d","chunk-1dbc15a2":"5bbc8af9","chunk-21a76241":"5db3fd0a","chunk-25d83ca8":"ae77f3fe","chunk-2d0a463b":"181a281c","chunk-2d0aba8a":"4752aaed","chunk-2d0ac931":"667708a1","chunk-2d0be2dc":"3a262168","chunk-2d0c073f":"017f6960","chunk-2d0c211b":"b0b6c231","chunk-2d0cf315":"8bdd27d5","chunk-2d0d43da":"b14f9e1d","chunk-2d0da04a":"620f425b","chunk-2d0e2170":"d0dba97c","chunk-2d0e5812":"730e6176","chunk-2d208e4e":"0802bfa8","chunk-2d213189":"2b11f265","chunk-2d217def":"a644b19b","chunk-2d217e6a":"9d5e5387","chunk-2d218068":"4ad272c9","chunk-2d21a9aa":"51f415cb","chunk-2d21da73":"1dd5d4ed","chunk-2d222cca":"eaa1fa6a","chunk-2d22895d":"006e634b","chunk-2d230c96":"27db3aba","chunk-2d23721e":"b3beb5de","chunk-2d237942":"a670aab4","chunk-2d237b00":"17ee064a","chunk-30dd9750":"fb1fe266","chunk-37f2300e":"2b375e96","chunk-3ed29de3":"1276ef40","chunk-41c0f7a4":"b1c70fb5","chunk-462c869e":"f3907a37","chunk-47245a33":"ca01aa9b","chunk-4739acd0":"11f12e18","chunk-485adc83":"9e8ca448","chunk-53b1137a":"b0fff6bf","chunk-541ea42d":"cb739116","chunk-54bbd082":"aaf76913","chunk-59d4c87c":"d2c0dc6c","chunk-5a8ac886":"dcd170d4","chunk-5ff96a24":"09081d93","chunk-69eb8776":"24c2de04","chunk-6d375f34":"fff43d43","chunk-7548ca2d":"1e259580","chunk-79f1dac7":"b3b5eaff","chunk-8bb7f81e":"1c060df2","chunk-a9395c36":"eab30296","chunk-d0e8aa0a":"995b91d7","chunk-d8413eac":"2d2a414f","chunk-e5275ddc":"75509abe","chunk-eaa2b130":"56fe9f30","polyfills-core-js":"12be3461","polyfills-dom":"662760da","stencil-polyfills-css-shim":"95cbdafc","stencil-polyfills-dom":"f9377d9e","chunk-2d2297f7":"52f02239","chunk-2d2073d6":"9e36930f","chunk-2d0b33e3":"2e69defc","chunk-2d0b9280":"199a57da","chunk-2d0baac9":"ecbd8a2b","chunk-2d21a589":"3dace732","chunk-2d2376e6":"a05b70ee"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var s=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0ab0":function(e,t,n){"use strict";n("26a6")},"0d18":function(e,t,n){"use strict";n("5bd9")},"0d32":function(e,t,n){e.exports=n.p+"img/online-shopping.90885ae8.png"},"0e91":function(e,t,n){"use strict";n("21ca")},"0edd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAQAAABecRxxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmAQ0PHie51G7bAAAHMElEQVR42u3Zvc+eZR3H4V8Bg/E1BF8SoaQkyAopA5tOgDEubowkTmwSZQMGZhY3mCAdYIWxTDDhUtiFxBarRCEOEDW1GJgJ91MKzxXPi+dzHH/BdzivT87zvmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaDu1esB17zw7D87puW2+tXoKXMO/5/JcnvPz5uoh1+frEIDvze/nkTm9egZ8Ce/OC/PMfLR6xhfZfwAenafnB6tHwFfw/jw5z60ecW37DsDN8+w8snoEHMNL85v5z+oRR9tzAL455+dnq0fAMb0+D82V1SOOcuPqAdfw7Px69QQ4tjNzx7y8esRR9huAR+fJ1RNgE/fMe3Nh9YjD9voE+O68Mz9aPQI28v7cNR+uHnHIDasHHOFxnz8nyA/nd6snHLbPG8CpueR/f06Uv87p+WT1iM/b5w3gPp8/J8xtc+/qCYfsMwAPrB4Am3tw9YBD9hmAO1YPgM3t8lTvMwA/WT0ANrfLU73PANyyegBs7tbVAw7ZZwCA/wsBgDABgDABgDABgDABgDABgDABgDABgLCbVg/YwjfmzOoJ5Fycq6snbOBEBODM/Gn1BHLunrdXT9iAJwCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCECQCE3bR6wBYuzt2rJ5BzcfWATZyIAFydt1dPgK8lTwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAI22cA/rl6AGzug9UDDtlnAP62egBsbpenep8BeHf1ANjcLk/1PgPw6uoBsLldnupTqwcc4c9zZvUE2NCluXM+WT3i8/Z5A5g5t3oAbOr5PX7++70BfGfemR+vHgEb+cf8dD5cPeKQG1cPOMJ/56P51eoRsJHfzhurJxy21wDMXJjb5+zqEbCBc/PU6glH2esTYGbm5jk/P189Ao7ptfnFXFk94ih7/RFwZubKPDTPrx4Bx/Li/HK/n/+enwAzM/+bV+a9uX++vXoIfAV/n8fmifl49Yxr2XcAZmYuzHNzde6c768eAl/CpfnDPDx/XD3ji+z5N4DPOjsPzOm53W2AXfvXXJ6/zKvz1uohAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHA9PgVOZlVd56Q4AgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wMS0xM1QxNTozMDozOSswMDowMFmVJs8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDEtMTNUMTU6MzA6MzkrMDA6MDAoyJ5zAAAAAElFTkSuQmCC"},"0fd8":function(e,t,n){"use strict";n("7e22")},1558:function(e,t,n){e.exports=n.p+"img/check-list.636d3b23.png"},1620:function(e,t,n){"use strict";n("356f")},"17f4":function(e,t,n){},2103:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAllBMVEX///8WFhZvb28AAAATExMYGBi5ubmXl5eIiIhfX1/ExMTb29v5+fn19fVqamrv7++ysrLV1dV1dXVJSUnCxs2AgYIxMTHN0dpZWVnk5OQjIyPW1tZBQUEzMzMLCwtsbGygoKCkqrits8IoKixRUVFPUVeKj5o5OTl8fHxERESfn5+tra3MzMyQkJCGhoYpKi1sb3h6fojOt8MvAAAKjElEQVR4nO2d65qiuBZAQS4K4VLAkUO41gycQUqsmXn/lztJAAVELbsTAb+sH9VCW42rk+y9k6AKAofD4XA4HJoYhmnQYW6TKUzo6MftbvtBA1V3gL0sTaCeilDCxFZm0cA9HWs4t9YZsNUUKZVFTBpv3A0NMiSpLsRxW4ipeEaOqQgSyc23OrccAgZKz4+uIuJkzy2o5pI4Iq0oGmZuPa/gMUyVsaGcFs9JPPh7fUY/45jLYz+sKAdu2wD7n+Ded3RnVFSTdEIQKSpao3j8z084PmjEw2wdFXhXY7AbiiFuFuvw359xuN+I2fdcWSO7JYgUS4ptuLG+5hH8uC2IFD3ST/eHH/BIECnO00/D6UHYopBokw0ZH7dnH+POIfglXeWJQbQJNTrlW9OIc8RT724TIsXEome42b1eUA/vC1KubVzn5Ya7qVw/bEQxoNhPj68WNLQHnZTyUMxOr54RR9XDNkT9NKfXiC/P+moylFEmSb0fJLufcXj1QPwcBppUSieRvF9f1BjmyZfX31/9ZJiKlbv9/Pq85uuo/yLq5/egFnBfPd3f9oZhGm8Bg0vY6r6vOKNh6rGqGsEuW4JhmrAri0FvXjWboSJtGV5GteY3THOT4WWMSyPOZahIbCc2R21+Q7YFY70AQ7aZGHBDZnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWnBDdnBDWizQ0CyV8JrubgYYpzEUjNA7oZ/uNZvd6BbEJRqm0gTdu5egIilQMKXURT+Da4rN6M6OJRoqUpr7PZI87RlWYYUNpQ36qWna8O68TAvcFbShKIVfunpB/ywvhqau6iY2DAA2dPXIiS7om5UY+sNbQSPvYtg+R5IqBxsehrfFQrdYiWEtCHaHIDiNoYkfo/MmMYzPhobZsjLDymvQQGsIrKoyBBhUAbICABqtoX1q3sB2+F6ZYRdEk6g1dNBoNNpY2j6TGMJMIwTaSg3Ls6GniMiwVEpkSPpka7hpDDVr7Yamo6PThqM7qH8mYRNL38qwj9GLNO9lCHGAMSAEvWzxVoY2KlmQkhsEpA3t4v0MRSmOSFAlhjDvG642loZOzzCUKiCACp9HdY8tBdjQKjBBEazMEHYIA8MGxYFoQNpSuYeD6mc9hjfqUlvpDJtDSdyvtC7NVdADqjE2NCCo48THHdSPa0DaUMqA3cdxVzK3SL2ijyeSunTjFap+RFXbUVcLbwOwYbwbsLdWYShPz/HbujSUQogzfokjjRQWwym+FmxWYHhjFcNBfdVsDc3OUPIsbcAa2vASRfsIxLBrQ/wco3mmPWb0ry3R8AYDw5+zRMNzaxi9x7at98ahcN1ipj399qkFGppenmD8AFeeftJS+unF0Cyb877WvTMTng77yess0bCLNHEtQH8Yb3qxtKGKOpHMCyavs0TDrnApVViXMj5SFPxW78awlMoaRugEPi97Og5CqNM6e8tdS6RBGb9BroKijnRFCj8cxAcZh0bkqFYR6OCIDp1IDYoMTf93h60DwX6//z6MP1hgyYZNGkS1aE4GWxNLEVGM69IaHaLXH5JFfqtABaqBEj7K+CtY1b8yDEeGlRSeDXP82LQCYriSjN8aOmgQ4j9z3dbjrqY5Txobw+4xMtSyTbaWmqY1NARAHBKAG+2xIS5KseEa6tLGsAYqSYaeCtTA982BoVJDHHhIklTQTOqwOe8ffq/G0Cu0o67XOoqWwYeuCwPD1AsqNAXR62OIH5+c3mxydJ3lGpKML5DVp0ssHUEiDUK789EzSzb0a8MkazM5wA+aJbYBthGRlZvKFLDj5KfrLtMwr8mShKegKILKNCkM0QOjKVmgiWKsEhm4EEfn0ZiENjxYeFs/y07X044lGsrtShQgW79QaRPjGXDO+F0stYviQLb19+swjP2C1NMg8Ev06qukLMvExIv5DXqQVCh5BGXTbVEhbidtxt+DNdSlgqM7pPLCm02oEHVqDH6pWBXJemqNzpt1rZ7bUPa+iaF1WENdeotzLD3vkNpnQylpqzZUiC+/LsUbTGNAu04jI6QEtptQdpriQwc6ir9bU11adFv4PaqmpolITkddt6osgHfzEapWBTW0jRUZ3llN7F59cy9GQ5RIPum36zEU8aR+QN+QpHUzlT2HPDYMlB6T1RnmKrzet2hXhBPiA9p9C/KRbis0nNx7atdLlXEslVZpiNJfd78aMLq7TZBhHelV7kH8t8DoDBPf0/HT1mboNftPngZ7hmhK9VE7SMbzMtAaKmqto8M1ZYtb90SRjB+Tgq6JpeeMb5Lt/sZwHXP86Xuiks7QMGyyugFbQwOSw9Zw+TXNzXsxbAMo2DCK8eobnlvYZjM/9AG5CQzPLa6miGsyJLNhfLdJf70078fStcyebhjifXylNWzX2lDJFraGJgSR654iuILZ0y1DoOEJ4cCwjMu0NXSCpISwPrkrmD09jKVRPFgvbQzx8jGacmSVtbpIk4CeYSqVOt4qVWpbLfFh285EOIVmtNf2q2nDbmpo92saaNdVnKS4f+Kf5+egMGND4GenVaxiPKhLw0vnlEa/KJW71cRSfXB3RV1d2tBpDPPmbSaDFrOl8JskxgFLNETTQfxVM2dE+Tw/RAdNLVpDPA7ltOh9wrItKZqbrWHf4s4cv+O8Xlr1+rMtpVXgrSGWVnniX2EKILicj20hCnLfz7VeG5qKXxzcFbx3TQDOBCha9s6j8tskh6Dvgw7J3VPDf22BhnThhuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuzghrTghuy4GH4yvY6+AEOL6XW+ZjcU5ec+M+hJbHf2bx5HjbhjeJmPBXx7vCjn7K5du5sFGIpp+cHoIvUhW4ShmIYuePwbTwM/3f5Hts9piO+RLd0dVY7HnWVtNksxFBVx6rbZ3yEe+c1tKIoKXdLK3SzMkDJp4mbvbSiH796GsjgWfDdDMbXGjfh2hsHbG3pvb1i+vaH/7obX6eLtDJW5M/6X8twrnqjMHihqw0Z0X234GT4lOPWGtvT+b4zShct2Te8aNXlKsPzfNcldxbQYVqYH5/GLokpUPTEQ0+rPKap7iuPZxTfLBa8pDO1+Jxsg/fXnH9f8+Zd0z3CYELPtnQ9XZMPu522oSP9MtuE/0p1oI/uDJsxYrQXdRn8i1Mjhv39d82947z9JzgfDkMlK0AO8J7qprPydj/lbudsL5LA/u7BYLsre4vNeH7t+wdc8+A2lnxC1V+cKQvhEI/4CSi8hWoc5BIWPe6GQAkXPsJ7FUMiYKsqXGaL1OY+gADyWinLcGVoTn5fxItT7hddvGpZdKty/umC7YBxzdpMoOWkSYnaYaRA2HMP0yWnUzw19sq6fubMKoo6asxqLco5TvnWIHr8ItsBAYTMY5VBzM/c0/tChOdgWYspgOMph4O5ePbG/AdhqikRZUk6lcK/OliWuAOopCCcWKn6dMDgtyA9jQkc/bk9U9n9P26PuwOnvf5oX4/wF1L/J1FcIcDgcDofD+Q3+D1dQg2ceQQoNAAAAAElFTkSuQmCC"},"21ca":function(e,t,n){},2672:function(e){e.exports=JSON.parse('{"c":{"transporter":"Transporter","driver":"Driver","provider":"Provider"},"e":{"transporter":"Transporter","driver":"Driver","provider":"Provider"},"a":{"transporter":"Coordinador de Transporte"},"b":{"container":"Container Pickup/Delivery","b2b":"B2B Delivery"},"d":{"production":"https://production.flai.com.do/orchestrator","preprod":"https://preprod.flai.com.do/orchestrator"}}')},"26a6":function(e,t,n){},2706:function(e,t,n){},"28a1":function(e,t,n){"use strict";n("44ba")},"2bfc":function(e,t,n){e.exports=n.p+"img/firma.bb356524.png"},"2f44":function(e,t,n){"use strict";n("7a8c")},"31d4":function(e,t,n){"use strict";n("17f4")},"356f":function(e,t,n){},"3cd3":function(e,t,n){},"3fea":function(e,t,n){},"44ba":function(e,t,n){},4564:function(e,t,n){"use strict";n("d92c")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="4678"},4854:function(e,t,n){var r={"./ion-icon.entry.js":["2ec6","chunk-2d0be2dc"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="4854",e.exports=o},"49ae":function(e,t,n){e.exports=n.p+"img/online-icon.564ee267.png"},"4d70":function(e,t,n){"use strict";n("897f")},"4db4":function(e,t,n){"use strict";n("564c")},"564c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("5530"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e9c4"),n("5502")),a=n("7a23"),c={class:"uk-flex app"},i={class:"container-app"};function l(e,t,n,r,o,l){var s=Object(a["resolveComponent"])("side-bar"),u=Object(a["resolveComponent"])("app-header"),d=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[o.hideSideBar?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,class:"sideBar"})),Object(a["createElementVNode"])("div",i,[l.currentPage?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,class:"header",nameComponent:l.currentName},null,8,["nameComponent"])),Object(a["createVNode"])(d,{class:Object(a["normalizeClass"])(["view-header",{view:!l.currentPage}]),onSetNameHeader:t[0]||(t[0]=function(e){return l.setName(e)})},null,8,["class"])])])}var s=n("1da1"),u=(n("96cf"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("49ae")),d=n.n(u),m=n("b027"),p=n.n(m),b=n("cd5c"),v=n.n(b),f=function(e){return Object(a["pushScopeId"])("data-v-1f542e05"),e=e(),Object(a["popScopeId"])(),e},O={class:"uk-navbar-left"},g={style:{width:"50px"}},h={key:0,class:"status-server"},j={key:0,src:d.a,alt:""},k={key:1,src:p.a,alt:""},E={class:"uk-margin-remove web-font-medium",style:{"font-size":"14px",margin:"0px 10px !important"}},S=f((function(){return Object(a["createElementVNode"])("a",{class:"hide-menu-icon",href:"#"},null,-1)})),x={id:"offcanvas-overlay","uk-offcanvas":"overlay: true"},y={class:"uk-offcanvas-bar uk-padding-remove"},N={class:"info-user"},C=f((function(){return Object(a["createElementVNode"])("img",{src:"https://cdn-icons-png.flaticon.com/512/236/236831.png",style:{width:"35% !important"},alt:"",srcset:""},null,-1)})),w={class:"uk-margin-remove web-font-small",style:{margin:"5px 0px !important"}},V={class:"uk-tecgin-remove web-font-small"},D={class:"uk-list nav-opt uk-list-divider"};function I(e,t,n,r,o,c){var i,l,s,u=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",{class:Object(a["normalizeClass"])(["uk-navbar uk-navbar-container",{"is-ios":o.isMobile}])},[Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",g,[o.iconType?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",h,[e.server?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",j)):Object(a["createCommentVNode"])("",!0),e.server?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",k))])),o.iconType?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1,icon:o.iconType,onClick:t[0]||(t[0]=function(e){return c.setDistributePage(o.action)}),style:{"font-size":"20px",margin:"0px 15px"}},null,8,["icon"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("h6",E,Object(a["toDisplayString"])(c.titlePage),1),Object(a["createElementVNode"])("a",{class:"uk-navbar-toggle",style:{"min-height":"55px !important",padding:"0px 15px !important"},"uk-navbar-toggle-icon":"",onClick:t[1]||(t[1]=function(){return c.openMenu&&c.openMenu.apply(c,arguments)}),href:"#"}),S,Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("div",y,[Object(a["createElementVNode"])("img",{src:v.a,class:"close-navbar uk-offcanvas-close",alt:"",onClick:t[2]||(t[2]=function(){return c.hideMenu&&c.hideMenu.apply(c,arguments)}),srcset:""}),Object(a["createElementVNode"])("div",N,[C,Object(a["createElementVNode"])("h4",w,Object(a["toDisplayString"])(null===(i=o.userData)||void 0===i?void 0:i.firstName)+" "+Object(a["toDisplayString"])(null===(l=o.userData)||void 0===l?void 0:l.lastName),1),Object(a["createElementVNode"])("h6",V,Object(a["toDisplayString"])(null===(s=o.userData)||void 0===s?void 0:s.email),1)]),Object(a["createElementVNode"])("ul",D,[Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[3]||(t[3]=function(e){return c.setCurrentPage("home")})},"Tus Viajes"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[4]||(t[4]=function(e){return c.setCurrentPage("settings")})},"Configuración"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[5]||(t[5]=function(e){return c.setCurrentPage("version")})},"Version app"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[6]||(t[6]=function(e){return c.setCurrentPage("sign-in")})},"Cerrar sesión")])])])])],2)}n("ac1f"),n("466d"),n("dca8");var R=n("2672"),B=Object.freeze(R["c"]),A=Object.freeze(R["e"]),L=Object.freeze(R["a"]),T=Object.freeze(R["b"]),Q=Object.freeze(R["d"]),M=n("8323"),P=n.n(M),_={props:{nameComponent:String},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["userData","server"])),{},{titlePage:function(){return this.nameComponent}}),watch:{$route:function(e){"home"==e.name?(this.action="sign-in",this.iconType=!1):"load-status"==e.name?(this.action="home",this.iconType="arrow-left"):"scan-order"==e.name?(this.action="orders",this.iconType="arrow-left"):"orders"==e.name?(this.action="load-status",this.iconType="arrow-left"):(this.action="back",this.iconType="arrow-left")},server:function(e){this.serverStatus=e}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.userData=JSON.parse(localStorage.getItem("userInfo")),e.nameComponent&&(e.titlePage=e.nameComponent),n=function(){var e=[/iPhone/i,/iPad/i,/iPod/i];return e.some((function(e){return navigator.userAgent.match(e)}))},e.isMobile=n(),console.log(e.isMobile,"this.isMobile");case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{userType:A,iconType:"arrow-left",action:"sign-in",positionSticky:!1,userData:null,serverStatus:!0,isMobile:!1}},methods:{openMenu:function(){this.positionSticky=!0,P.a.offcanvas("#offcanvas-overlay").show()},hideMenu:function(){this.positionSticky=!1,P.a.offcanvas("#offcanvas-overlay").hide()},setCurrentPage:function(e){this.hideMenu(),"sign-in"==e&&(this.$store.commit("resetData"),this.$router.push({name:e}).catch((function(){}))),e?this.$router.push({name:e}).catch((function(){})):(this.$router.push({name:e}).catch((function(){})),this.hideMenu())},setDistributePage:function(e){"sign-in"==e&&(this.$store.commit("resetData"),this.$router.push({name:e}).catch((function(){}))),"delivery-routes"==this.$route.name||"orders"==this.$route.name?this.$router.push({name:"load-status"}).catch((function(){})):"manage-orders"==this.$route.name?this.$router.push({name:"home"}):"delivery-actions-auto"==this.$route.name?this.$router.push({name:"load-status"}):"deliveryActions"==this.$route.name?this.$router.push({name:"delivery-routes"}):"back"==e?this.$router.go(-1):(this.$router.push({name:e}).catch((function(){})),this.hideMenu())}}},q=(n("9262"),n("6b0d")),F=n.n(q);const z=F()(_,[["render",I],["__scopeId","data-v-1f542e05"]]);var $=z,U=[];function J(e){U.push(e)}function Y(){return U.shift()}var G=n("7f0b"),H={data:function(){return{localStorage:new G["a"],queueId:"Queue"}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.localStorage.create(),t.next=3,e.localStorage.get(e.queueId);case 3:if(t.sent){t.next=5;break}e.localStorage.set("Queue","[]");case 5:case"end":return t.stop()}}),t)})))()},methods:{enqueue:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,t.localStorage.get(t.queueId);case 3:return n.t1=n.sent,r=n.t0.parse.call(n.t0,n.t1),r.push(e),n.next=8,t.localStorage.set(t.queueId,JSON.stringify(r));case 8:case"end":return n.stop()}}),n)})))()},dequeue:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,e.localStorage.get(e.queueId);case 3:return t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),r=n.shift(),t.next=8,e.localStorage.set(e.queueId,JSON.stringify(n));case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))()},peek:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,e.localStorage.get(e.queueId);case 3:return t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",(null===n||void 0===n?void 0:n.length)>0?n[0]:void 0);case 6:case"end":return t.stop()}}),t)})))()},all:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,e.localStorage.get(e.queueId);case 3:return t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",n.length);case 6:case"end":return t.stop()}}),t)})))()},clear:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.localStorage.clear();case 1:case"end":return t.stop()}}),t)})))()}}},K={data:function(){return{user:null,container:{LoadStatus:{expectingApprovalProvider:{message:"Aprobar/Rechazar $ (Flai)",pastMessage:"Aprobó el Viaje $ Flai",route:""},expectingApproval:{message:"Aceptar/Rechazar Viaje (Chofer)",pastMessage:"Aceptó el Viaje (Chofer)",route:"confirm-trip"},driverArrival:{message:"Registrar LLegada a Recoger",pastMessage:"Llegó a Recoger",route:""},approved:{message:"Montar Viaje",pastMessage:"Monto el Viaje",route:"drayage-orden"},startRoute:{message:"Iniciar / Continuar Ruta",pastMessage:"Comenzo la Ruta",route:""},delivered:{message:"Entregar Viaje",pastMessage:"Contenedor Entregado",route:"delivery-actions-auto"},returnContainer:{message:"Retornar Contenedor",astMessage:"Contenedor Retornado",route:"return-container"}},pick:"Recoger en",deliver:"Entregar en"},b2b:{LoadStatus:{expectingApprovalProvider:{message:"Aprobar/Rechazar $ (Flai)",pastMessage:"Aprobó el Viaje $ Flai",route:""},expectingApproval:{message:"Aceptar/Rechazar Viaje (Chofer)",pastMessage:"Aceptó el Viaje (Chofer)",route:"confirm-trip"},driverArrival:{message:"Registrar LLegada a Recoger",pastMessage:"Llegó a Recoger",route:""},approved:{message:"Montar Viaje",pastMessage:"Monto el Viaje",route:"drayage-orden"},startRoute:{message:"Iniciar / Continuar Ruta",pastMessage:"Comenzo la Ruta",route:""},delivered:{message:"Entregar Viaje",pastMessage:"Viaje Entregado",route:"delivery-actions-auto"},returnContainer:{message:"Retornar Viaje",astMessage:"Viaje Retornado",route:"return-container"}},pick:"Warehouse",deliver:"Entregar en"}}},methods:{setProfile:function(e){"Container Pickup/Delivery"==e.loadType&&localStorage.setItem("currentProfile",JSON.stringify(this.container)),"B2B Delivery"==e.loadType&&localStorage.setItem("currentProfile",JSON.stringify(this.b2b))},setStatus:function(e){if("Container Pickup/Delivery"==(null===e||void 0===e?void 0:e.loadType)){var t,n,r,o,a,c,i,l,s,u,d,m,p,b,v,f;if("Defining Load"==(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text))return"Definiendo Carga";if("Driver selection in progress"==(null===e||void 0===e||null===(n=e.loadingStatus)||void 0===n?void 0:n.text))return"Esperando Asignación del Chofer";if("Denied Approval"==(null===e||void 0===e||null===(r=e.loadingStatus)||void 0===r?void 0:r.text)&&"REJECTED"==(null===e||void 0===e||null===(o=e.approvers[0])||void 0===o?void 0:o.status))return"Rechazado por Flai Admin";if("Denied Approval"==(null===e||void 0===e||null===(a=e.loadingStatus)||void 0===a?void 0:a.text)&&"REJECTED"==(null===e||void 0===e||null===(c=e.approvers[1])||void 0===c?void 0:c.status))return"Rechazado por Chofer";if("Loading Truck"==(null===e||void 0===e||null===(i=e.loadingStatus)||void 0===i?void 0:i.text))return"Cargando Vehiculo";if("Expecting Approval"==(null===e||void 0===e||null===(l=e.loadingStatus)||void 0===l?void 0:l.text)&&(null===e||void 0===e||null===(s=e.approvers[0])||void 0===s||!s.status))return"Esperando Aprobación $ Flai";if("Expecting Approval"==(null===e||void 0===e||null===(u=e.loadingStatus)||void 0===u?void 0:u.text)&&null!==e&&void 0!==e&&null!==(d=e.approvers[0])&&void 0!==d&&d.status){var O=JSON.parse(localStorage.getItem("userInfo"));return O.userType==A.driver?"Esperando que Aceptes este Viaje":"Esperando Chofer Acepte Viaje"}if("Approved"==(null===e||void 0===e||null===(m=e.loadingStatus)||void 0===m?void 0:m.text))return"Viaje Aprobado";if("Driver Arrival"==(null===e||void 0===e||null===(p=e.loadingStatus)||void 0===p?void 0:p.text))return"Chofer Llegó a Recoger";if("Dispatched"==(null===e||void 0===e||null===(b=e.loadingStatus)||void 0===b?void 0:b.text))return localStorage.getItem("sendInfo".concat(e.loadMapId))?"Enviando Informacion":"Listo para Entregar";if("Loading truck"==(null===e||void 0===e||null===(v=e.loadingStatus)||void 0===v?void 0:v.text))return"Cargando Vehiculo";if("Delivered"==(null===e||void 0===e||null===(f=e.loadingStatus)||void 0===f?void 0:f.text))return"Viaje Entregado"}else{var g,h,j,k,E,S,x,y,N,C,w,V,D,I,R,B;if("Defining Load"==(null===e||void 0===e||null===(g=e.loadingStatus)||void 0===g?void 0:g.text))return"Definiendo Carga";if("Driver selection in progress"==(null===e||void 0===e||null===(h=e.loadingStatus)||void 0===h?void 0:h.text))return"Esperando Asignación del Chofer";if("Denied Approval"==(null===e||void 0===e||null===(j=e.loadingStatus)||void 0===j?void 0:j.text)&&"REJECTED"==(null===e||void 0===e||null===(k=e.approvers[0])||void 0===k?void 0:k.status))return"Rechazado por Flai Admin";if("Denied Approval"==(null===e||void 0===e||null===(E=e.loadingStatus)||void 0===E?void 0:E.text)&&"REJECTED"==(null===e||void 0===e||null===(S=e.approvers[1])||void 0===S?void 0:S.status))return"Rechazado por Chofer";if("Loading Truck"==(null===e||void 0===e||null===(x=e.loadingStatus)||void 0===x?void 0:x.text))return"Cargando Vehiculo";if("Expecting Approval"==(null===e||void 0===e||null===(y=e.loadingStatus)||void 0===y?void 0:y.text)&&(null===e||void 0===e||null===(N=e.approvers[0])||void 0===N||!N.status))return"Esperando Aprobación $ Flai";if("Expecting Approval"==(null===e||void 0===e||null===(C=e.loadingStatus)||void 0===C?void 0:C.text)&&null!==e&&void 0!==e&&null!==(w=e.approvers[0])&&void 0!==w&&w.status)return"Esperando Chofer Acepte Viaje";if("Approved"==(null===e||void 0===e||null===(V=e.loadingStatus)||void 0===V?void 0:V.text))return"Viaje Aprobado";if("Driver Arrival"==(null===e||void 0===e||null===(D=e.loadingStatus)||void 0===D?void 0:D.text))return"Chofer Llegó a Recoger";if("Dispatched"==(null===e||void 0===e||null===(I=e.loadingStatus)||void 0===I?void 0:I.text))return localStorage.getItem("sendInfo".concat(e.loadMapId))?"Enviando Informacion":"Listo para Entregar";if("Loading truck"==(null===e||void 0===e||null===(R=e.loadingStatus)||void 0===R?void 0:R.text))return"Cargando Vehiculo";if("Delivered"==(null===e||void 0===e||null===(B=e.loadingStatus)||void 0===B?void 0:B.text))return"Viaje Entregado"}}}},W=n("ed95"),X=n("69af"),Z=function(e){return Object(a["pushScopeId"])("data-v-5e32362f"),e=e(),Object(a["popScopeId"])(),e},ee={class:"uk-padding-remove"},te={class:"info-user"},ne=Z((function(){return Object(a["createElementVNode"])("img",{src:"https://cdn-icons-png.flaticon.com/512/236/236831.png",style:{width:"35% !important"},alt:"",srcset:""},null,-1)})),re={class:"uk-margin-remove title web-font-small",style:{margin:"5px 0px !important"}},oe={class:"title web-font-small"},ae={class:"uk-list nav-opt uk-list-divider"};function ce(e,t,n,r,o,c){var i,l,s;return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ee,[Object(a["createElementVNode"])("div",te,[ne,Object(a["createElementVNode"])("h4",re,Object(a["toDisplayString"])(null===(i=e.userData)||void 0===i?void 0:i.firstName)+" "+Object(a["toDisplayString"])(null===(l=e.userData)||void 0===l?void 0:l.lastName),1),Object(a["createElementVNode"])("h6",oe,Object(a["toDisplayString"])(null===(s=e.userData)||void 0===s?void 0:s.email),1)]),Object(a["createElementVNode"])("ul",ae,[Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[0]||(t[0]=function(e){return c.setCurrentPage("home")})},"Tus Viajes"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[1]||(t[1]=function(e){return c.setCurrentPage("settings")})},"Configuración"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[2]||(t[2]=function(e){return c.setCurrentPage("version")})},"Version app"),Object(a["createElementVNode"])("li",{class:"opt web-font-small",onClick:t[3]||(t[3]=function(e){return c.setCurrentPage("sign-in")})},"Cerrar sesión")])])}var ie={computed:Object(r["a"])({},Object(o["b"])(["userData"])),mounted:function(){this.$store.commit("setUserData")},methods:{setCurrentPage:function(e){"sign-in"==e&&(this.$store.commit("resetData"),this.$router.push({name:e}).catch((function(){}))),this.$router.push({name:e}).catch((function(){}))}}};n("31d4");const le=F()(ie,[["render",ce],["__scopeId","data-v-5e32362f"]]);var se=le,ue={data:function(){return{noHead:["sign-in","sign-up","recover-password"],nameOrder:null,localStorage:new G["a"],localStorageGps:new G["a"],isServerUp:!0,connection:null,proofQueue:[],intervalForGps:0,step:0,lastLocation:{latitude:0,longitude:0},hasUbicationServer:!1,hideSideBar:!0}},watch:{$route:function(e){this.hideSideBar="sign-in"==e.name||"redirect"==e.name,"scan-order"===e.name&&"deliveryActions"===e.name||this.stopScan()}},components:{AppHeader:$,sideBar:se},mixins:[H,K],computed:{currentPage:function(){var e=this;return this.noHead.some((function(t){return t==e.$route.name}))},currentName:function(){if(!this.currentPage){var e,t,n,r=null===(e=this.$route.matched[0])||void 0===e||null===(t=e.components)||void 0===t||null===(n=t.default)||void 0===n?void 0:n.alias;return r||this.nameOrder}return""}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.localStorageGps.create(),e.setUrl(),e.getInfo(),e.localStorage.set("sending","false"),e.localStorage.set("serverUp","true"),n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=!0,a=5,c=regeneratorRuntime.mark((function t(){var o,c,i,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=JSON.parse(localStorage.getItem("userInfo")),t.next=3,n(2e3);case 3:if(e.intervalForGps+=1,c=JSON.parse(localStorage.getItem("DeliveryCharges")),e.intervalForGps>a&&(localStorage.getItem("gps ".concat(null===c||void 0===c?void 0:c.loadMapId))||JSON.parse(localStorage.getItem("gpsProvider")))&&(e.intervalForGps=0,e.location(c).then((function(t){if(location){var n,a,i,l=Object(r["a"])({},t);if(Math.abs((null===l||void 0===l?void 0:l.latitude)-(null===(n=e.lastLocation)||void 0===n?void 0:n.latitude))>3e-5||Math.abs((null===l||void 0===l?void 0:l.longitude)-(null===(a=e.lastLocation)||void 0===a?void 0:a.longitude))>3e-5)e.lastLocation.latitude=null===l||void 0===l?void 0:l.latitude,e.lastLocation.longitude=null===l||void 0===l?void 0:l.longitude,e.$services.gpsServices.updateLocation(o.id,null===l||void 0===l?void 0:l.latitude,null===l||void 0===l?void 0:l.longitude,null===c||void 0===c||null===(i=c.bay_id)||void 0===i?void 0:i._id)}}))),!(U.length>0)){t.next=13;break}return i=Y(),localStorage.removeItem("queueIsEmpty"),t.next=11,e.enqueue(i);case 11:t.next=15;break;case 13:localStorage.removeItem("allOrderScanned"),localStorage.setItem("queueIsEmpty",JSON.stringify(!0));case 15:return t.next=17,e.localStorage.get("serverUp");case 17:return e.isServerUp=t.sent,l=void 0,t.prev=19,t.next=22,e.$services.loadsServices.serverStatus();case 22:l=t.sent,t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](19),l=!1;case 28:if(JSON.parse(e.isServerUp)&&l){t.next=32;break}l?(e.localStorage.set("serverUp","true"),e.$store.commit("setServer",!0)):e.$store.commit("setServer",!1),t.next=58;break;case 32:return e.$store.commit("setServer",!0),e.localStorage.set("serverUp","true"),t.next=36,e.peek();case 36:if(s=t.sent,!s){t.next=57;break}return e.$store.commit("changeQueueStatus",!1),t.prev=39,t.next=42,e.$services.requestServices.request(s);case 42:return u=t.sent,u&&e.dequeue(),t.next=46,e.localStorage.set("serverUp",JSON.stringify(!0));case 46:e.$store.commit("setServer",!0),t.next=55;break;case 49:return t.prev=49,t.t1=t["catch"](39),"Network Error"!=t.t1.message&&(e.$store.commit("changeRequestStatus",!0),e.dequeue()),t.next=54,e.localStorage.set("serverUp",JSON.stringify(!1));case 54:e.$store.commit("setServer",!1);case 55:t.next=58;break;case 57:e.$store.commit("changeQueueStatus",!0);case 58:case"end":return t.stop()}}),t,null,[[19,25],[39,49]])}));case 9:if(!o){t.next=13;break}return t.delegateYield(c(),"t0",11);case 11:t.next=9;break;case 13:case"end":return t.stop()}}),t)})))()},methods:{setName:function(e){this.nameOrder=e},setUrl:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("setting"));case 2:n=t.sent,e.$services.singInServices.setURL(n),e.$services.loadsServices.setURL(n),e.$services.loadsScanServices.setURL(n),e.$services.invoicesSevices.setURL(n),e.$services.deliverServices.setURL(n),e.$services.gpsServices.setURL(n),e.$services.driverVehicleAssignment.setURL(n),e.$services.exceptionServices.setURL(n),e.$services.manageOrders.setURL(n);case 12:case"end":return t.stop()}}),t)})))()},stopScan:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{W["a"].showBackground(),W["a"].stopScan()}catch(t){}case 1:case"end":return e.stop()}}),e)})))()},getInfo:function(){var e=JSON.parse(localStorage.getItem("setting"));this.$store.commit("setSettings",e)},location:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e&&void 0!==e&&null!==(n=e.Vehicles[0])&&void 0!==n&&n.gpsProvider&&"Flai Mobile App"!=(null===e||void 0===e||null===(r=e.Vehicles[0])||void 0===r?void 0:r.gpsProvider)){t.next=13;break}return t.prev=1,t.next=4,X["a"].getCurrentPosition();case 4:return o=t.sent,t.abrupt("return",{latitude:o.coords.latitude,longitude:o.coords.longitude});case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:t.next=14;break;case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};n("4db4");const de=F()(ue,[["render",l]]);var me=de,pe={state:{current:{}},mutations:{setCurrent:function(e,t){e.current=t}},actions:{},getters:{current:function(e){return e.current}}},be=pe,ve={state:{load:null,allLoadsStore:[],products:[],startRoute:!0,detailsLoads:[]},mutations:{setloadStore:function(e,t){console.log(t,"loadStore"),e.load=t},setStartRoute:function(e,t){e.startRoute=t},setAllLoadStore:function(e,t){e.allLoadsStore=t},setDetailsLoadsStore:function(e,t){e.detailsLoads=t},setloadProductStore:function(e,t){e.products=t}},actions:{setData:function(e,t){var n=e.commit;n("setloadStore",t)}},getters:{loadStore:function(e){return e.load},allLoadsStore:function(e){return e.allLoadsStore},products:function(e){return e.products},startRoute:function(e){return e.startRoute},detailsLoadsStore:function(e){return e.detailsLoads}}},fe=ve,Oe={state:{textException:null,digitalFirm:null,exceptions:null},mutations:{setTextException:function(e,t){e.textException=t},setExceptions:function(e,t){e.exceptions=t},setDigitalFirm:function(e,t){e.digitalFirm=t}},actions:{},getters:{exceptionStore:function(e){return e.textException},causeExceptionsStore:function(e){return e.exceptions},digitalFirmStore:function(e){return e.digitalFirm}}},ge=Oe,he={state:{userData:null},mutations:{setUserData:function(e){e.userData=JSON.parse(localStorage.getItem("userInfo"))}},getters:{userData:function(e){return e.userData}}},je=he,ke={state:{scanOrder:null,registrationForScan:null,imagesStructure:null,orderDetails:[]},mutations:{scanOrder:function(e,t){e.scanOrder=t},setStructureToScan:function(e,t){e.registrationForScan=t},setOrderDetails:function(e,t){e.orderDetails=t},setImagiElement:function(e,t){e.imagesStructure=t}},actions:{changeLoadScannedInStore:function(e,t){var n=e.commit;n("setStructureToScan",t);var r=JSON.stringify(t.name);localStorage.setItem(r,JSON.stringify(t))}},getters:{orderScan:function(e){return e.scanOrder},languageStore:function(e){return e.language},structureToScan:function(e){return e.registrationForScan},orderDetailsStore:function(e){return e.orderDetails},imagesStore:function(e){return e.imagesStructure}}},Ee=ke,Se={state:{settings:{maps:!1,url:"https://production.flai.com.do/orchestrator"},server:!1},mutations:{setSettings:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t?(e.settings=t,localStorage.setItem("setting",JSON.stringify(e.settings))):(e.settings=JSON.parse(localStorage.getItem("setting")),localStorage.setItem("setting",JSON.stringify(e.settings)));case 1:case"end":return n.stop()}}),n)})))()},setLanguageStore:function(e,t){e.language=t},setServer:function(e,t){e.server=t}},actions:{SettingStorage:function(e){localStorage.getItem("setting")||localStorage.setItem("setting",JSON.stringify(e.state.settings))}},getters:{settingsStore:function(e){return e.settings},languageStore:function(e){return e.language},server:function(e){return e.server}}},xe=Se,ye={state:{invoicesId:null,isChangeQuantity:{changeQuantity:null,exception:!1,order_num:null},isSelectedInvoices:null,invoiceDownload:{status:!1,order:null},summaryInvoice:{orderId:null,summarys:[]},invoiceDetails:{}},mutations:{getOrdersToInvoicesId:function(e,t){e.invoicesId=t},getChageQuantityToProduct:function(e,t){e.isChangeQuantity=t},getSelectedInvoices:function(e,t){e.isSelectedInvoices=t},getInvoiceDownload:function(e,t){e.invoiceDownload=t},getSummaryInvoice:function(e,t){e.summaryInvoice=t},getInvoiceDetails:function(e,t){e.invoiceDetails=t}},actions:{},getters:{invoicesIdStore:function(e){return e.invoicesId},isChangeQuantityStore:function(e){return e.isChangeQuantity},isSelectedInvoicesStore:function(e){return e.isSelectedInvoices},invoiceDownloadStore:function(e){return e.invoiceDownload},summaryInvoiceStore:function(e){return e.summaryInvoice},invoiceDetailsStore:function(e){return e.invoiceDetails}}},Ne=ye,Ce={state:{listOrders:null,order:null},mutations:{setListOrders:function(e,t){e.listOrders=t},editOrder:function(e,t){e.order=t}},getters:{listOrdersStore:function(e){return e.listOrders},orderManageStore:function(e){return e.order}}},we=Ce,Ve={state:function(){return Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},be.state),fe.state),ge.state),je.state),Ee.state),xe.state),Ne.state),we.state),{},{profile:{container:!0},isQueueEmpty:!1,isRequestError:!1})},mutations:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({resetData:function(e){e.userData=null;var t=localStorage.getItem("rememberData"),n=localStorage.getItem("rememberPassword"),r=JSON.parse(localStorage.getItem("setting"));localStorage.clear(),t&&n&&(localStorage.setItem("rememberData",t),localStorage.setItem("rememberPassword",n),localStorage.setItem("setting",JSON.stringify(r)))},changeQueueStatus:function(e,t){e.isQueueEmpty=t},changeRequestStatus:function(e,t){e.isRequestError=t}},be.mutations),fe.mutations),ge.mutations),je.mutations),Ee.mutations),xe.mutations),Ne.mutations),we.mutations),actions:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},be.actions),fe.actions),ge.actions),je.actions),xe.actions),Ee.actions),Ne.actions),getters:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},be.getters),fe.getters),ge.getters),je.getters),Ee.getters),xe.getters),Ne.getters),we.getters),{},{isQueueEmpty:function(e){return e.isQueueEmpty},isRequestError:function(e){return e.isRequestError}})},De=Ve,Ie=n("6c02");function Re(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("loads");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(i)])}var Be=function(e){return Object(a["pushScopeId"])("data-v-ab141b1a"),e=e(),Object(a["popScopeId"])(),e},Ae={class:""},Le={"uk-margin":"",class:"sub-header"},Te={class:"uk-pagination"},Qe=Be((function(){return Object(a["createElementVNode"])("span",{href:"#"},[Object(a["createElementVNode"])("span",{"uk-pagination-previous":""}),Object(a["createElementVNode"])("span",{"uk-pagination-previous":""})],-1)})),Me=[Qe],Pe={style:{padding:"0px"}},_e={class:"uk-text-meta uk-margin-remove-top date"},qe={for:"date",class:"uk-text-bold uk-text-uppercase web-font-small",style:{"font-size":"14px"}},Fe=Be((function(){return Object(a["createElementVNode"])("span",{href:"#"},[Object(a["createElementVNode"])("span",{"uk-pagination-next":""}),Object(a["createElementVNode"])("span",{"uk-pagination-next":""})],-1)})),ze=[Fe],$e=Be((function(){return Object(a["createElementVNode"])("span",null," Refrescar",-1)})),Ue={class:"section"},Je={key:0,style:{height:"50px",width:"100%"}},Ye=Be((function(){return Object(a["createElementVNode"])("span",null,"No Tiene Viajes Asignados Para Este Día",-1)})),Ge=[Ye],He={class:"uk-card uk-card-default uk-width-1-2@m container"},Ke=["onClick"],We={class:"uk-badge"},Xe={class:"uk-flex status-load"},Ze={class:"uk-text-bold web-font-small"},et={class:"uk-flex uk-flex-between uk-flex-middle"},tt={style:{"margin-top":"32px !important"}},nt={class:"uk-flex web-font-small"},rt={class:"uk-flex uk-flex-middle info-Order blue-text web-font-small"},ot=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold position-text"},"No de Orden: ",-1)})),at={key:0},ct={key:0},it={key:0},lt={class:"uk-flex uk-flex-middle info-Order blue-text web-font-small"},st=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold position-text"},"Chofer: ",-1)})),ut={class:"uk-flex uk-flex-middle info-Order blue-text web-font-small"},dt=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold position-text"},"Vehiculo: ",-1)})),mt={class:"uk-flex uk-flex-middle web-font-small"},pt=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Cantidad de Productos: ",-1)})),bt={class:"uk-flex uk-flex-middle web-font-small"},vt=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Tipo: ",-1)})),ft={class:"uk-flex uk-flex-middle web-font-small"},Ot=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Recogida: ",-1)})),gt={key:1,class:"uk-flex uk-flex-middle web-font-small"},ht=Be((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Entrega: ",-1)})),jt={class:"start-load"},kt=Be((function(){return Object(a["createElementVNode"])("div",{class:"uk-flex uk-flex-between"},null,-1)})),Et={style:{height:"50px"}},St=Be((function(){return Object(a["createElementVNode"])("span",null,"No Tiene Viajes Asignados Para Este Día",-1)})),xt=[St],yt={class:"popup"};function Nt(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("ion-loading"),l=Object(a["resolveComponent"])("Datepicker"),s=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ae,[Object(a["createVNode"])(i,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Cargando Viajes...",duration:o.timeOut,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("header",null,[Object(a["createElementVNode"])("div",Le,[Object(a["createElementVNode"])("ul",Te,[Object(a["createElementVNode"])("li",{onClick:t[1]||(t[1]=function(e){return c.reloadNewDate(-1)})},Me),Object(a["createElementVNode"])("li",{onClick:t[3]||(t[3]=function(e){return c.setCalendar()})},[Object(a["createElementVNode"])("label",Pe,[Object(a["createVNode"])(l,{clearable:!1,ref:"calendar",showNowButton:"true",nowButtonLabel:"AHORA",autoApply:"true",locale:"es-419",id:"calendar",modelValue:o.dateSelected,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.dateSelected=e})},null,8,["modelValue"]),Object(a["createElementVNode"])("p",_e,[Object(a["createElementVNode"])("label",qe,Object(a["toDisplayString"])(o.dateMoment),1)])])]),Object(a["createElementVNode"])("li",{onClick:t[4]||(t[4]=function(e){return c.reloadNewDate(1)})},ze)]),Object(a["createElementVNode"])("span",{onClick:t[5]||(t[5]=function(e){return c.reloadData()}),class:"refresh-reload web-font-small"},[Object(a["createVNode"])(s,{icon:"redo-alt",class:Object(a["normalizeClass"])(["reload",{"reload-event":o.reloadEvent}])},null,8,["class"]),$e])])]),Object(a["createElementVNode"])("div",Ue,[0==o.assignedLoads?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Je,Ge)):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.loadsToDisplay,(function(e,t){var n,r,i,l,u,d,m,p,b,v,f,O,g;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"item-section",key:t},[Object(a["createElementVNode"])("div",He,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["load-default-status",{"load-delivered":"Delivered"==(null===e||void 0===e||null===(n=e.loadingStatus)||void 0===n?void 0:n.text),"load-assigned":"Driver selection in progress"==(null===e||void 0===e||null===(r=e.loadingStatus)||void 0===r?void 0:r.text)||"Expecting Approval"==(null===e||void 0===e||null===(i=e.loadingStatus)||void 0===i?void 0:i.text)&&!(null!==e&&void 0!==e&&null!==(l=e.approvers[0])&&void 0!==l&&l.status),"load-rejected":"Denied Approval"==(null===e||void 0===e||null===(u=e.loadingStatus)||void 0===u?void 0:u.text)}])},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"load-edges":(null===e||void 0===e?void 0:e.loadMapId)===c.loadInProgress},"uk-card uk-card-body item-body"]),onClick:function(t){return c.setLoad(e)}},[Object(a["createElementVNode"])("span",We,Object(a["toDisplayString"])(t+1),1),Object(a["createElementVNode"])("p",Xe,[Object(a["createElementVNode"])("span",Ze,Object(a["toDisplayString"])(c.loadStatus(e)),1)]),Object(a["createElementVNode"])("div",et,[Object(a["createElementVNode"])("div",tt,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("p",nt,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.loadNumber),1)])]),Object(a["createElementVNode"])("div",rt,[ot,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===e||void 0===e?void 0:e.Orders,(function(t,n){var r;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:t},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.order_num),1),(null===e||void 0===e||null===(r=e.Orders)||void 0===r?void 0:r.length)>1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",at,", ")):Object(a["createCommentVNode"])("",!0)],512)),[[a["vShow"],n<3]])})),128)),(null===e||void 0===e||null===(d=e.Orders)||void 0===d?void 0:d.length)>3?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ct,"...")):Object(a["createCommentVNode"])("",!0)]),(null===(m=o.userInfo)||void 0===m?void 0:m.userType)!=(null===(p=o.userType)||void 0===p?void 0:p.driver)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",it,[Object(a["createElementVNode"])("div",lt,[st,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===e||void 0===e?void 0:e.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.driver),1)})),128))]),Object(a["createElementVNode"])("div",ut,[dt,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===e||void 0===e?void 0:e.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.brand)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.model)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.color)+", Placa: "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.license_no),1)})),128))])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",mt,[pt,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.productQuantity(e)),1)]),Object(a["createElementVNode"])("div",bt,[vt,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.ordenIsReturn(e)),1)]),Object(a["createElementVNode"])("div",ft,[Ot,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e||null===(b=e.dateTime)||void 0===b?void 0:b.date)+" "+Object(a["toDisplayString"])(c.setLocaleDate(null===e||void 0===e||null===(v=e.loadingStatus)||void 0===v?void 0:v.slotStartTime)),1)]),"Driver selection in progress"!==(null===e||void 0===e||null===(f=e.loadingStatus)||void 0===f?void 0:f.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gt,[ht,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e||null===(O=e.dateTime)||void 0===O?void 0:O.date)+" "+Object(a["toDisplayString"])(c.setLocaleDate(null===e||void 0===e||null===(g=e.loadingStatus)||void 0===g?void 0:g.slotEndTime)),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",jt,[Object(a["createVNode"])(s,{icon:"arrow-right",style:{"font-size":"20px"}})])]),kt],10,Ke),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",Et,xt,512),[[a["vShow"],(null===e||void 0===e?void 0:e.length)<=1]])],2)])],512)),[[a["vShow"],o.assignedLoads>0]])})),128))]),Object(a["createElementVNode"])("div",yt,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["popuptext",{show:o.showPopUp}]),id:"myPopup"},"Hubo un Error al Enviar, Reintete de Nuevo!",2)])])}n("159b"),n("99af"),n("7db0"),n("4e82");var Ct=n("d867"),wt=n("c1df"),Vt=n.n(wt),Dt=(n("898b"),n("c740"),n("4de4"),n("d4ec")),It=n("bee2"),Rt=function(){function e(t,n){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore=n}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"getToken",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem("auth"),e.next=3,this.http.post("".concat(this.settingsLocalStore.url,"/exo/authenticate"),t);case 3:return n=e.sent,localStorage.setItem("auth",n.data.data.cookie[0]),localStorage.setItem("userInfo",JSON.stringify(n.data.data)),e.abrupt("return",n.data.data);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Bt=Rt,At=n("bc3a"),Lt=n.n(At),Tt=Lt.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL,credential:"same-origin",headers:{"Content-Type":"application/json"}});Tt.interceptors.request.use((function(e){var t=localStorage.getItem("auth");return e.headers.auth=t,e}));var Qt=Tt,Mt=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"getOrdersByLoadId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,this.http.get("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"?fields=Orders"));case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.message),"Request failed with status code 401"==e.t0.message&&LE.push({name:"sign-in"});case 11:return e.abrupt("return",n.data.Orders);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLoadDetails",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,r=null,e.prev=2,e.next=5,this.http.get("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t));case 5:return n=e.sent,o=n.data.warehouse,e.next=9,this.http.get("".concat(this.settingsLocalStore.url,"/exo/warehouses/").concat(o));case 9:r=e.sent,n.data.warehouse=r.data,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](2),console.log(e.t0.message),"Request failed with status code 401"==e.t0.message&&LE.push({name:"sign-in"});case 17:return e.abrupt("return",n.data);case 18:case"end":return e.stop()}}),e,this,[[2,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLoadsbyDate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:new Date,n=new Date(t).getTime()-new Date(t).getTime()%864e5,r={},e.prev=3,e.next=6,this.http.get("".concat(this.settingsLocalStore.url,"/exo/loads/?date=").concat(n));case 6:r=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0.message),"Request failed with status code 401"==e.t0.message&&LE.push({name:"sign-in"});case 13:return e.abrupt("return",r.data);case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"acceptOrRejectLoad",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o,a,c){var i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={actionName:"confirmOrder",params:{version:n,approverId:r,status:o,vehicle_id:c,type:a}},l={},e.prev=2,e.next=5,this.http.post("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"/actions"),i);case 5:l=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0.message);case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t,n,r,o,a,c){return e.apply(this,arguments)}return t}()},{key:"serverStatus",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("".concat(this.settingsLocalStore.url,"/ping"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Pt=Mt,_t=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"driverArrival",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={actionName:"driverArrival",params:{statusType:"Arrival"}},e.next=3,this.http.post("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"/actions"),n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getProduct",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("".concat(this.settingsLocalStore.url,"/exo/orders/").concat(t,"/products"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"scanProduct",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o,a){var c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c={actionName:"loadBox",params:{loadScanningCounter:r,boxId:n,qrCode:a}},e.next=3,this.http.post("".concat(this.settingsLocalStore.url,"/exo/orders/").concat(t,"/products/").concat(o,"/actions"),c);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o,a){return e.apply(this,arguments)}return t}()},{key:"completeLoad",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={actionName:"completeLoadProcess",params:{loadFractionNumber:"".concat(n,"/").concat(n," ")}},e.next=3,this.http.post("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"/actions"),r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),qt=_t,Ft=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"getLoginInvoices",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={jsonrpc:"2.0",params:{login:"809123121",password:"admin"}},e.next=3,this.http.post("https://jabiyaerp.flai.com.do/api/auth/sign_in",t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInvoices",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.post("https://jabiyaerp.flai.com.do/api/order?from=Diciembre 11, 2020&to=Noviembre 11, 2022",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),zt=Ft,$t=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"postImages",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o){var a,c,i,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={images:t,lat:n,lng:r},c=this.settingsLocalStore.url+"/exo/orders/"+o+"/images",i=localStorage.getItem("auth"),l={"Content-Type":"multipart/form-data",auth:i},s={headers:l,method:"post",formInfo:a,url:c},J(s);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}()},{key:"deliverProduct",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o,a){var c,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t,n,r,o,a),c={actionName:"deliverBox",params:{loadScanningCounter:r,boxId:n,qrCode:a}},i="".concat(this.settingsLocalStore.url,"/exo/orders/").concat(t,"/products/").concat(o,"/actions"),l={method:"post",url:i,body:c},J(l);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o,a){return e.apply(this,arguments)}return t}()}]),e}(),Ut=$t,Jt=function(){function e(t){Object(Dt["a"])(this,e),this.http=t}return Object(It["a"])(e,[{key:"request",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new FormData,!t.formInfo){e.next=20;break}r=t.formInfo,o=r.images,a=r.lng,c=r.lat,i=null,l=0;case 5:if(!(l<o.length)){e.next=18;break}return i=o[l],e.next=9,fetch(i);case 9:return s=e.sent,e.next=12,s.blob();case 12:u=e.sent,d="item ".concat(l),n.append("images",u,d);case 15:l++,e.next=5;break;case 18:n.append("lat",c),n.append("lng",a);case 20:if("post"!==t.method){e.next=62;break}if(!t.headers){e.next=43;break}if(!t.body||!n){e.next=29;break}return e.next=25,this.http.post(t.url,t.body,n,t.headers);case 25:return m=e.sent,e.abrupt("return",m);case 29:if(!t.body){e.next=36;break}return e.next=32,this.http.post(t.url,t.body,t.headers);case 32:return p=e.sent,e.abrupt("return",p);case 36:if(!n){e.next=41;break}return e.next=39,this.http.post(t.url,n,t.headers);case 39:return b=e.sent,e.abrupt("return",b);case 41:e.next=62;break;case 43:if(!t.body||!n){e.next=50;break}return e.next=46,this.http.post(t.url,t.body,n);case 46:return v=e.sent,e.abrupt("return",v);case 50:if(!t.body){e.next=57;break}return e.next=53,this.http.post(t.url,t.body);case 53:return f=e.sent,e.abrupt("return",f);case 57:if(!n){e.next=62;break}return e.next=60,this.http.post(t.url,n);case 60:return O=e.sent,e.abrupt("return",O);case 62:if("patch"!==t.method){e.next=74;break}if(!t.headers){e.next=70;break}return e.next=66,this.http.patch(t.url,t.body,t.headers);case 66:return g=e.sent,e.abrupt("return",g);case 70:return e.next=72,this.http.patch(t.url,t.body);case 72:return h=e.sent,e.abrupt("return",h);case 74:if("get"!==t.method){e.next=86;break}if(!t.headers){e.next=82;break}return e.next=78,this.http.get(t.url,t.headers);case 78:return j=e.sent,e.abrupt("return",j);case 82:return e.next=84,this.http.get(t.url,t.headers);case 84:return k=e.sent,e.abrupt("return",k);case 86:if("put"!==t.method){e.next=98;break}if(!t.headers){e.next=94;break}return e.next=90,this.http.put(t.url,t.body,t.headers);case 90:return E=e.sent,e.abrupt("return",E);case 94:return e.next=96,this.http.put(t.url,t.body);case 96:return S=e.sent,e.abrupt("return",S);case 98:return e.abrupt("return",void 0);case 99:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Yt=Jt,Gt=n("ade3"),Ht=function e(){Object(Dt["a"])(this,e),Object(Gt["a"])(this,"dequeue",(function(){var e=JSON.parse(H.methods.getLocalStorage(this.queueId)),t=e.shift();return H.methods.setLocalStorage(this.queueId,JSON.stringify(e)),t})),Object(Gt["a"])(this,"enqueue",(function(e){var t=JSON.parse(H.methods.getLocalStorage(this.queueId));t.push(e),localStorage.setItem(this.queueId,JSON.stringify(t))})),Object(Gt["a"])(this,"isEmpty",(function(){var e=JSON.parse(localStorage.getItem(this.queueId));return 0==(null===e||void 0===e?void 0:e.length)})),Object(Gt["a"])(this,"peek",(function(){var e=JSON.parse(localStorage.getItem(this.queueId));return(null===e||void 0===e?void 0:e.length)>0?e[0]:void 0})),Object(Gt["a"])(this,"length",(function(){var e=JSON.parse(localStorage.getItem(this.queueId));return e.length})),this.queueId="Queue",localStorage.getItem("Queue")||localStorage.setItem("Queue","[]")},Kt=Ht,Wt=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"updateLocation",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={lat:n,lng:r,manufacturerName:"samsung",modelNo:"SM-N970U",serialNo:"unknown",battery:"67",GPSAccuracy:"18",imei:"",color:"blue",bayId:o},this.http.post("".concat(this.settingsLocalStore.url,"/exo/drivers/").concat(t,"/locations"),a).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}()},{key:"updateFirstLocation",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={lat:n,lng:r,manufacturerName:"samsung",modelNo:"SM-N970U",serialNo:"unknown",battery:"67",GPSAccuracy:"18",imei:"",color:"red",bayId:o},this.http.post("".concat(this.settingsLocalStore.url,"/exo/drivers/").concat(t,"/locations/first"),a).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r,o){return e.apply(this,arguments)}return t}()},{key:"getTokenGps",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new FormData,t.append("apikey","f3b5dc73aceff4bf1439f4f6367f0905"),t.append("token",""),t.append("username","roa57113@gmail.com"),t.append("password","exo@dmin"),n={"Content-Type":"multipart/form-data"},Lt.a.post("http://api.redgps.com/api/v1/gettoken",t,n).then((function(e){console.log(e)})).catch((function(e){console.log(e.response.data)}));case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Xt=Wt,Zt=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"createGps",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,i,l,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=localStorage.getItem("auth"),c=JSON.parse(localStorage.getItem("setting")),i={headers:{auth:a,hostname:c.url}},l={driverId:null===t||void 0===t||null===(n=t.Vehicles[0])||void 0===n?void 0:n.driver_id._id,vehicleGpsId:null===t||void 0===t||null===(r=t.Vehicles[0])||void 0===r?void 0:r.gpsId,loadMapId:t.loadMapId,bayId:t.bay_id._id,gpsProvider:null===t||void 0===t||null===(o=t.Vehicles[0])||void 0===o?void 0:o.gpsProvider},console.log(i),Lt.a.post("http://flai.hopto.org/gps-provider/status-vehicle",l,i).then((function(){s.startGps(l.vehicleGpsId)})).catch((function(e){console.log(e.message)}));case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGps",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=localStorage.getItem("auth"),r={headers:{auth:n}},o={action:"startGps"},Lt.a.put("http://flai.hopto.org/gps-provider/status-vehicle/".concat(t),o,r).then((function(e){var t;console.log(e,"res"),localStorage.setItem("gpsProvider ".concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.loadMapId),JSON.stringify(!0))})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopGps",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=localStorage.getItem("auth"),r={headers:{auth:n}},o={action:"stopGps"},Lt.a.put("http://flai.hopto.org/gps-provider/status-vehicle/".concat(t),o,r).then((function(e){var t;localStorage.setItem("gpsProvider ".concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.loadMapId),JSON.stringify(!1))})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVehicleGpsId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,Lt.a.get("http://flai.hopto.org/gps-provider/status-vehicle");case 4:return n=e.sent,console.log(n),e.abrupt("return",n.data.find((function(e){return e.vehicleGpsId==t})));case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),en=Zt,tn=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"getDriverAndVehicle",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,this.http.get("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"/availableTransports"));case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.message);case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"postDriverVehicleAssignment",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.http.post("".concat(this.settingsLocalStore.url,"/exo/loads/").concat(t,"/drivers"),n);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),nn=tn,rn=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"putExceptions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={reason:n.type,note:n.note},o="".concat(this.settingsLocalStore.url,"/exo/orders/").concat(t,"/exceptions"),a={method:"put",body:r,url:o},J(a),this.$store.commit("setExceptions",{note:null,type:null}),this.$store.commit("getChageQuantityToProduct",{exception:!1,changeQuantity:null,order_num:null});case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getExceptionsDetails",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("".concat(this.settingsLocalStore.url,"/exo/exceptions"));case 2:return t=e.sent,e.abrupt("return",t.data.reasons);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),on=rn,an=function(){function e(t){Object(Dt["a"])(this,e),this.http=t,this.settingsLocalStore}return Object(It["a"])(e,[{key:"setURL",value:function(e){this.settingsLocalStore=e}},{key:"getOrders",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/order?take=150",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOrdersFilter",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,o,a,c,i,l){var s,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u={method:"get",uri:'trk/order?take=70&query={\n                "expectedDateTxt":'.concat(JSON.stringify(t),',\n                "order_num":').concat(JSON.stringify(n),', \n                "status": ').concat(JSON.stringify(o),', \n                "client_name": ').concat(JSON.stringify(r),',\n                "customer.name": ').concat(JSON.stringify(a),', \n                "loadDetails.loadNumber": ').concat(JSON.stringify(c),', \n                "serviceType": ').concat(JSON.stringify(l),', \n                "loadDetails.driverName": ').concat(JSON.stringify(i),"\n            }"),data:{}},e.prev=1,e.next=4,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",u);case 4:d=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0);case 10:return e.abrupt("return",null===(s=d)||void 0===s?void 0:s.data);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t,n,r,o,a,c,i,l){return e.apply(this,arguments)}return t}()},{key:"orderNumIsDuplicated",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"get",uri:"trk/order-num/".concat(t),data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCustomers",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/customer",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getServicesType",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/serviceType",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWarehouse",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/warehouse",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCity",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/city",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSector",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get",uri:"trk/sector",data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",t);case 3:return n=e.sent,e.abrupt("return",n.data.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProductForShipper",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"get",uri:"trk/productForShipper?shipperId=".concat(t),data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",n);case 3:return r=e.sent,e.abrupt("return",r.data.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getClientName",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={method:"get",uri:"trk/clientList?client_name=".concat(t),data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",r);case 3:return o=e.sent,e.abrupt("return",null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.Result);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createOrder",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,i,l,s,u,d,m,p,b,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=[],l=0;l<t.products.length;l++)s=t.products[l],u={"product.qrCode":s.qrCode,"product.scanOneByOne":s.scanOneByOne,"product.quantity":s.quantity,"product.unitVolume":"".concat(s.volume),"product.unitWeight":s.weight,"product.volume":"".concat(s.volume),"product.weight":s.weight},i.push(u);return d={order_num:null===t||void 0===t||null===(n=t.generalData)||void 0===n?void 0:n.order_num,expected_date:null===t||void 0===t||null===(r=t.generalData)||void 0===r?void 0:r.expected_date,expected_time:"17:07",warehouse:null===t||void 0===t||null===(o=t.generalData)||void 0===o?void 0:o.warehouse,isReturn:null===t||void 0===t||null===(a=t.generalData)||void 0===a?void 0:a.isReturn,hasAssociatedOrder:null===t||void 0===t||null===(c=t.generalData)||void 0===c?void 0:c.hasAssociatedOrder,serviceType:t.generalData.serviceType,client_id:t.client.Official_ID,client_name:t.client.client_name,email:t.client.email,countryCode:t.client.phoneCountryCode,phone:t.client.phone,customer:t.client.customer,zone:"",address:t.client.address,sector:t.client.sector,city:t.client.city,province:t.client.province,zipCode:t.client.zipCode,latitude:t.client.latitude,longitude:t.client.longitude,status:"Created",products:i,volume:0,no_of_boxes:0,weight:0,comment_by:"".concat(t.client.email),created_by:"".concat(t.client.email),created_group:"EXO",createdAt:new Date,oldFilesFromOrder:t.files},m=localStorage.getItem("auth"),p=JSON.stringify(d),b=new FormData,b.append("order",p),v={"Content-Type":"multipart/form-data",auth:m},e.next=10,this.http.post("https://991d-179-52-157-140.ngrok.io/exo/ordersV2",b,v);case 10:return f=e.sent,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteOrder",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"delete",uri:"trk/order/".concat(t),data:{}},e.next=3,this.http.post("https://preprod.flai.com.do/orchestrator/exo/requests",n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),cn=an,ln={singInServices:new Bt(Qt),loadsServices:new Pt(Qt),loadsScanServices:new qt(Qt),invoicesSevices:new zt(Qt),deliverServices:new Ut(Qt),requestServices:new Yt(Qt),queueServices:new Kt,gpsServices:new Xt(Qt),gpsProviderServices:new en(Qt),driverVehicleAssignment:new nn(Qt),exceptionServices:new on(Qt),manageOrders:new cn(Qt)},sn={data:function(){return{profile:T,myLocation:null,load:null,localStorageGps:new G["a"],localStorage:new G["a"],lastLocation:{latitude:0,longitude:0},user:null,setting:null,hasUbicationServer:!1}},mixins:[H],mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("SettingStorage"),e.setting=JSON.parse(localStorage.getItem("setting")),e.user=JSON.parse(localStorage.getItem("userInfo")),e.localStorageGps.create(),e.localStorage.create();case 5:case"end":return t.stop()}}),t)})))()},methods:{changeRouteLoads:function(e){var t=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:null,o.loadType!==n.profile.container){r.next=19;break}if("Expecting Approval"==e&&LE.push({name:"confirm-trip"}),"Driver Arrival"!=e){r.next=6;break}return r.next=6,n.driverArrival(o);case 6:if("Approved"!=e){r.next=9;break}return r.next=9,n.uploadTrip(o);case 9:if("Dispatched"!=e){r.next=12;break}return r.next=12,n.startLoadRoute(o);case 12:if("Deliver-Load"==e&&(o.scanningRequired?LE.push({name:"delivery-routes"}):LE.push({name:"delivery-actions-auto"})),"return-container"==e&&LE.push({name:"return-container"}),"Delivered"!=e){r.next=17;break}return r.next=17,n.removeInfoInStorage(o);case 17:r.next=33;break;case 19:if("Expecting Approval"==e&&LE.push({name:"confirm-trip"}),"Driver Arrival"!=e){r.next=23;break}return r.next=23,n.driverArrival(o);case 23:if("Approved"!=e){r.next=26;break}return r.next=26,n.uploadTrip(o);case 26:if("Dispatched"!=e){r.next=29;break}return r.next=29,n.startLoadRoute(o);case 29:if("Deliver-Load"==e&&LE.push({name:"delivery-routes"}),"Delivered"!=e){r.next=33;break}return r.next=33,n.removeInfoInStorage(o);case 33:case"end":return r.stop()}}),r)})))()},driverArrival:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.load=e,n.next=3,ln.loadsScanServices.driverArrival(t.load.loadMapId);case 3:if(n.prev=3,localStorage.setItem("gps ".concat(t.load.loadMapId),!0),"Flai Mobile App"!=t.load.Vehicles[0].gpsProvider&&null!==(r=t.load)&&void 0!==r&&null!==(o=r.Vehicles[0])&&void 0!==o&&o.gpsProvider){n.next=13;break}return n.next=8,JSON.parse(localStorage.getItem("ubication"));case 8:l=n.sent,ln.gpsServices.updateFirstLocation(null===(a=t.user)||void 0===a?void 0:a.id,null===l||void 0===l?void 0:l.latitude,null===l||void 0===l?void 0:l.longitude,null===(c=t.load)||void 0===c||null===(i=c.bay_id)||void 0===i?void 0:i._id),t.localStorage.set("serverUp","true"),n.next=15;break;case 13:return n.next=15,ln.gpsProviderServices.createGps(t.load);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](3),t.localStorage.set("serverUp","false");case 20:case"end":return n.stop()}}),n,null,[[3,17]])})))()},uploadTrip:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("Flai Mobile App"!=e.Vehicles[0].gpsProvider&&e.Vehicles[0].gpsProvider){n.next=4;break}localStorage.removeItem("gps ".concat(e.loadMapId)),n.next=7;break;case 4:return localStorage.removeItem("gps ".concat(e.loadMapId)),n.next=7,ln.gpsProviderServices.stopGps(e.Vehicles[0].gpsId);case 7:if((null===e||void 0===e?void 0:e.loadType)!=(null===(r=t.profile)||void 0===r?void 0:r.b2b)||null!==e&&void 0!==e&&e.scanningRequired){n.next=12;break}return n.next=10,t.uploadOrDownload(e);case 10:n.next=13;break;case 12:(null===e||void 0===e?void 0:e.loadType)==(null===(o=t.profile)||void 0===o?void 0:o.b2b)&&null!==e&&void 0!==e&&e.scanningRequired&&LE.push({name:"orders"});case 13:if((null===e||void 0===e?void 0:e.loadType)!=(null===(a=t.profile)||void 0===a?void 0:a.container)||null!==e&&void 0!==e&&e.scanningRequired){n.next=18;break}return n.next=16,t.uploadOrDownload(e);case 16:n.next=19;break;case 18:(null===e||void 0===e?void 0:e.loadType)==(null===(c=t.profile)||void 0===c?void 0:c.container)&&null!==e&&void 0!==e&&e.scanningRequired&&LE.push({name:"orders"});case 19:case"end":return n.stop()}}),n)})))()},startLoadRoute:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.setting.maps){n.next=3;break}return n.next=3,t.setMap(e);case 3:if(localStorage.setItem("gps ".concat(null===e||void 0===e?void 0:e.loadMapId),!0),"Flai Mobile App"!=(null===e||void 0===e||null===(r=e.Vehicles[0])||void 0===r?void 0:r.gpsProvider)&&null!==e&&void 0!==e&&null!==(o=e.Vehicles[0])&&void 0!==o&&o.gpsProvider){n.next=8;break}console.log("flai"),n.next=10;break;case 8:return n.next=10,ln.gpsProviderServices.startGps(null===e||void 0===e||null===(a=e.Vehicles[0])||void 0===a?void 0:a.gpsId);case 10:localStorage.setItem("startRoute".concat(e.loadMapId),JSON.stringify(!0));case 11:case"end":return n.stop()}}),n)})))()},setMap:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.Orders.find((function(e){return!e.isReturn})),r?(o=r.latitude,a=r.longitude):(o=e.warehouse.location.lat,a=e.warehouse.location.lng),n.next=4,t.location();case 4:t.myLocation=n.sent,t.myLocation&&window.open("https://www.google.com/maps/dir/".concat(t.myLocation.latitude,",").concat(t.myLocation.longitude,"/").concat(o,",").concat(a,"/"));case 6:case"end":return n.stop()}}),n)})))()},location:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X["a"].getCurrentPosition();case 3:return t=e.sent,e.abrupt("return",{latitude:t.coords.latitude,longitude:t.coords.longitude});case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},loadStatus:function(e){var t,n,r,o,a,c,i;return"Expecting Approval"!=(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text)||null!==e&&void 0!==e&&e.approvers[0].status?"Expecting Approval"==(null===e||void 0===e||null===(n=e.loadingStatus)||void 0===n?void 0:n.text)&&null!==e&&void 0!==e&&e.approvers[0].status?"Esperando Aprobación del Chofer":"Approved"==(null===e||void 0===e||null===(r=e.loadingStatus)||void 0===r?void 0:r.text)?"Viaje Aprobado":"Driver Arrival"==(null===e||void 0===e||null===(o=e.loadingStatus)||void 0===o?void 0:o.text)?"Chofer Llegó a Recoger":"Dispatched"==(null===e||void 0===e||null===(a=e.loadingStatus)||void 0===a?void 0:a.text)?"Listo para Entregar":"Loading truck"==(null===e||void 0===e||null===(c=e.loadingStatus)||void 0===c?void 0:c.text)?"Cargando Vehiculo":"Delivered"==(null===e||void 0===e||null===(i=e.loadingStatus)||void 0===i?void 0:i.text)?(localStorage.removeItem("sendInfo".concat(e.loadMapId)),"Viaje Entregado"):void 0:"Esperando Aprobación $ Flai"},setGps:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(n=e.load)||void 0===n||!n.loadMapId){t.next=6;break}return t.next=3,localStorage.getItem("gps ".concat(null===(r=e.load)||void 0===r?void 0:r.loadMapId));case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})))()},uploadOrDownload:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return localStorage.removeItem("gps ".concat(e.loadMapId)),n.next=3,t.setLoadTruck(e);case 3:return r=n.sent,n.next=6,t.$services.loadsScanServices.completeLoad(e.loadMapId,r);case 6:return localStorage.setItem("uploadStorage".concat(t.load.loadMapId),JSON.stringify(!0)),o=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.next=10,o(2e3);case 10:case"end":return n.stop()}}),n)})))()},setLoadTruck:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0,o=0;case 2:if(!(o<e.Orders.length)){n.next=33;break}return a=e.Orders[o],n.next=6,t.$services.loadsScanServices.getProduct(a._id);case 6:c=n.sent,Object.assign(e.Orders[o],c[0]),i=c.find((function(e){return e})),r+=a.no_of_boxes,l=0;case 11:if(!(l<i.products.length)){n.next=30;break}if(s=i.products[l],"no"!==s.scanOneByOne){n.next=19;break}return s.loadScanningCounter=s.quantity,n.next=17,t.$services.loadsScanServices.scanProduct(i._id,s._id,s.loadScanningCounter,s.product._id,s.qrCode);case 17:n.next=27;break;case 19:u=0;case 20:if(!(u<=s.quantity)){n.next=27;break}return s.loadScanningCounter+=u,n.next=24,t.$services.loadsScanServices.scanProduct(i._id,s._id,s.loadScanningCounter,s.product._id,s.qrCode);case 24:u++,n.next=20;break;case 27:l++,n.next=11;break;case 30:o++,n.next=2;break;case 33:return n.abrupt("return",r);case 34:case"end":return n.stop()}}),n)})))()},removeInfoInStorage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.load=e,s=JSON.parse(localStorage.getItem("gpsProvider ".concat(t.load.loadMapId))),"Flai Mobile App"!=t.load.Vehicles[0].gpsProvider&&null!==(r=t.load)&&void 0!==r&&null!==(o=r.Vehicles[0])&&void 0!==o&&o.gpsProvider){n.next=6;break}localStorage.removeItem("gps ".concat(t.load.loadMapId)),n.next=10;break;case 6:if(!s){n.next=10;break}return n.next=9,ln.gpsProviderServices.stopGps(t.load.Vehicles[0].gpsId);case 9:localStorage.removeItem("gps ".concat(t.load.loadMapId));case 10:localStorage.removeItem("loadStatus".concat(null===(a=t.load)||void 0===a?void 0:a.loadMapId)),localStorage.removeItem("startRoute".concat(null===(c=t.load)||void 0===c?void 0:c.loadMapId)),localStorage.removeItem("deliverLoad".concat(null===(i=t.load)||void 0===i?void 0:i.loadMapId)),localStorage.removeItem("uploadStorage".concat(null===(l=t.load)||void 0===l?void 0:l.loadMapId));case 14:case"end":return n.stop()}}),n)})))()},setStructure:function(e){var t=arguments;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l,s,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(r=t.length>1&&void 0!==t[1]?t[1]:[],o=t.length>2&&void 0!==t[2]?t[2]:[],a=t.length>3&&void 0!==t[3]?t[3]:null,c=t.length>4&&void 0!==t[4]?t[4]:null,i=t.length>5&&void 0!==t[5]?t[5]:null,s=0,u=function(t){var n=null===e||void 0===e?void 0:e.products[t],u=e.order_num,d=e._id,m=n.name,p=n.qrCode,b=n.quantity,v=n.scanOneByOne,f=n.loadScanningCounter;if(null!==i)if(n.name==(null===c||void 0===c?void 0:c.productId)&&null!==a){var O,g=i.findIndex((function(e){return e.productId==n.name}));b=(null===(O=i[g])||void 0===O?void 0:O.productQuantity)-a}else if(i.findIndex((function(e){return e.productId==n.name&&!e.isRewardLine}))>=0){var h,j,k=i.findIndex((function(e){return e.productId==n.name}));b=(null===(h=i[k])||void 0===h?void 0:h.productQuantity)-(null===(j=i[k])||void 0===j?void 0:j.productQuantityToInvoice)}l={order_num:u,name:m,_id:d,qrCode:p,quantity:b,scanOneByOne:v,loadScanningCounter:f},r.unshift(l),r.forEach((function(e){var t=e.qrCode,n=e.loadScanningCounter,a=e.order_num,c=r.filter((function(t){return t.qrCode==e.qrCode}));c&&c.forEach((function(e){s+=e.quantity}));var i={order_num:a,qrCode:t,totalOfOrders:s,loadScanningCounter:n};o.unshift(i),s=0}));var E=[];o.forEach((function(e){var t=E.find((function(t){return t.qrCode==e.qrCode}));t?e.totalOfOrders>t.totalOfOrders&&(t.totalOfOrders=e.totalOfOrders):E.push(e)})),o=E},d=0;d<e.products.length;d++)u(d);return n.abrupt("return",{firstStructure:r,secondStructure:o});case 9:case"end":return n.stop()}}),n)})))()},setUrl:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("setting"));case 2:n=t.sent,e.$services.singInServices.setURL(n),e.$services.loadsServices.setURL(n),e.$services.loadsScanServices.setURL(n),e.$services.invoicesSevices.setURL(n),e.$services.deliverServices.setURL(n),e.$services.gpsServices.setURL(n),e.$services.driverVehicleAssignment.setURL(n),e.$services.exceptionServices.setURL(n);case 11:case"end":return t.stop()}}),t)})))()},translateOrderStatus:function(e){return"Assigned"==e?"Asignada":"en-route"==e?"En Ruta":"Delivered"==e?"Entregada":"Delivered with exceptions"==e?"Entregada Con Excepciones":"Created"==e?"Creada":void 0}}},un=n("ef2e"),dn=(n("dfc8"),{components:{IonLoading:Ct["a"],Datepicker:un["a"]},mixins:[sn,K,H],alias:"Cargas Disponibles",data:function(){return{userType:A,userPosition:L,loaded:!1,dateAvalaible:[],date:new Date,dateMoment:null,assignedLoads:-1,timeOut:25e3,userInfo:{},reloadEvent:!0,gets:null,posts:null,counter:0,loadsToDisplay:[],waitingMessage:!0,calendar:null,dateSelected:new Date,showPopUp:!1}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.calendar=e.$refs.calendar,e.$store.commit("setUserData"),e.$store.commit("setSettings",!1),e.userInfo=JSON.parse(localStorage.getItem("userInfo")),Vt.a.locale("en"),window.location.href="#Hoy",t.next=8,e.currentDate();case 8:setInterval((function(){e.reloadEvent||(e.reloadEvent=!0,e.currentDate())}),1e4);case 9:case"end":return t.stop()}}),t)})))()},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["allLoadsStore","settings","userData","loadStore","isQueueEmpty","isRequestError"])),{},{loadInProgress:function(){return JSON.parse(localStorage.getItem("loadInProgress"))}}),watch:{dateSelected:function(e){this.currentDate({calendar:!0,dateCalendar:e})},loadStore:function(e){this.loadsToDisplay=e},isQueueEmpty:function(e){var t;e&&(null===(t=this.loadsToDisplay)||void 0===t||t.forEach((function(e){localStorage.removeItem("sendInfo".concat(e.loadMapId))})))},isRequestError:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return this.showPopUp=!0,n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.next=5,n(5e3);case 5:this.showPopUp=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:{setOpe:function(e){var t=this;this.loaded=e,setTimeout((function(){t.loaded=!1}),2e3)},currentDate:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a,c,i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w,V,D,I,R,B,A,L,T,Q,M,P,_,q,F,z,$,U,J,Y,G,H;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,t.loads=[],null!==a&&void 0!==a&&a.calendar?(c=null===a||void 0===a?void 0:a.dateCalendar,t.date=c):localStorage.getItem("dateCheck")&&"number"!==typeof a?(c=localStorage.getItem("dateCheck"),t.date=new Date(c)):a?(c=t.date.setDate(t.date.getDate()+a),t.date=new Date(c)):c=t.date,i=Vt()(c).format("MM/DD/YYYY"),s=JSON.parse(localStorage.getItem("allLoads")),n.prev=5,n.next=8,t.$services.loadsServices.getLoadsbyDate(i);case 8:l=n.sent,a&&(t.waitingMessage=!0),t.setOpen(t.waitingMessage),i===Vt()(new Date).format("MM/DD/YYYY")?t.dateMoment="Hoy":t.dateMoment=i,n.next=21;break;case 14:return n.prev=14,n.t0=n["catch"](5),console.log(n.t0,"no actualizo"),t.setOpen(!1),"Network Error"==n.t0.message&&(t.reloadEvent=!1,t.waitingMessage=!1,t.loadsToDisplay=JSON.parse(localStorage.getItem("allLoads")),t.assignedLoads=null===(u=t.loadsToDisplay)||void 0===u?void 0:u.length,d=localStorage.getItem("dateCheck"),m=new Date(d),m=Vt()(d).format("MM/DD/YYYY"),m===Vt()(new Date).format("MM/DD/YYYY")?t.dateMoment="Hoy":t.dateMoment=m),"Request failed with status code 401"==n.t0.message&&console.log("unautorizo"),n.abrupt("return");case 21:localStorage.setItem("dateCheck",i),p=[],b=0;case 24:if(!(b<(null===(v=l)||void 0===v?void 0:v.length))){n.next=43;break}return _=Object(r["a"])({},l[b]),q=localStorage.getItem(JSON.stringify(_)),q&&"Approved"!==(null===_||void 0===_||null===(f=_.loadingStatus)||void 0===f?void 0:f.text)&&"Loading Truck"!==(null===_||void 0===_||null===(O=_.loadingStatus)||void 0===O?void 0:O.text)&&localStorage.removeItem(JSON.stringify(null===_||void 0===_?void 0:_.loadMapId)),F=void 0,n.prev=29,n.next=32,t.$services.loadsServices.getLoadDetails(null===_||void 0===_?void 0:_.loadMapId);case 32:F=n.sent,n.next=38;break;case 35:n.prev=35,n.t1=n["catch"](29),console.log(n.t1);case 38:Object.assign(_,F),"Driver selection in progress"===(null===(g=F)||void 0===g||null===(h=g.loadingStatus)||void 0===h?void 0:h.text)&&(null===(j=t.userInfo)||void 0===j?void 0:j.userType)===(null===(k=t.userType)||void 0===k?void 0:k.driver)||(null===(E=F)||void 0===E||null===(S=E.approvers[0])||void 0===S||!S.status)&&"Expecting Approval"===(null===(x=F)||void 0===x||null===(y=x.loadingStatus)||void 0===y?void 0:y.text)&&(null===(N=t.userInfo)||void 0===N?void 0:N.userType)!==(null===(C=t.userType)||void 0===C?void 0:C.provider)||"Denied Approval"===(null===(w=F)||void 0===w||null===(V=w.loadingStatus)||void 0===V?void 0:V.text)&&"REJECTED"==(null===(D=F)||void 0===D||null===(I=D.approvers[0])||void 0===I?void 0:I.status)&&(null===(R=t.userInfo)||void 0===R?void 0:R.userType)!==(null===(B=t.userType)||void 0===B?void 0:B.provider)||"Denied Approval"===(null===(A=F)||void 0===A||null===(L=A.loadingStatus)||void 0===L?void 0:L.text)&&"REJECTED"==(null===(T=F)||void 0===T||null===(Q=T.approvers[1])||void 0===Q?void 0:Q.status)&&(null===(M=t.userInfo)||void 0===M?void 0:M.userType)===(null===(P=t.userType)||void 0===P?void 0:P.driver)||p.push(F);case 40:b++,n.next=24;break;case 43:t.setOpen(!1),z=localStorage.getItem("dateCheck"),$=Vt()(new Date(z)).format("MM/DD/YYYY"),$!=i||JSON.stringify(p)==JSON.stringify(s)&&0!==(null===(o=t.loadsToDisplay)||void 0===o?void 0:o.length)||(t.waitingMessage=!1,t.loadsToDisplay=[].concat(p),t.assignedLoads=null===(U=t.loadsToDisplay)||void 0===U?void 0:U.length,t.$store.commit("setAllLoadStore",t.loadsToDisplay),localStorage.setItem("allLoads",JSON.stringify(t.loadsToDisplay))),t.sortLoads(),t.reloadEvent=!1,J=0;case 50:if(!(J<(null===(Y=t.loadsToDisplay)||void 0===Y?void 0:Y.length))){n.next=59;break}if(H=t.loadsToDisplay[J],"Delivered"!==(null===H||void 0===H||null===(G=H.loadingStatus)||void 0===G?void 0:G.text)){n.next=55;break}return n.next=55,t.IsDelivered(H);case 55:t.isQueueEmpty&&localStorage.removeItem("sendInfo".concat(null===H||void 0===H?void 0:H.loadMapId));case 56:J++,n.next=50;break;case 59:console.log(t.loadsToDisplay);case 60:case"end":return n.stop()}}),n,null,[[5,14],[29,35]])})))()},reset:function(){this.gets=null,this.posts=null},setLoad:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.setProfile(e),t.$store.commit("setloadStore",e),e.firstOrdenInfo=e.Orders[0],localStorage.setItem("currentLoad",JSON.stringify(e)),t.$store.commit("setDetailsLoadsStore",e),"Expecting Approval"==e.loadingStatus.text?t.$router.push({name:"load-status"}).catch((function(){})):t.$router.push({name:"details-load"}).catch((function(){}));case 6:case"end":return n.stop()}}),n)})))()},changeRoute:function(e){this.$router.push({name:e}).catch((function(){}))},loadIsReject:function(e){var t,n;return"Approved"!=(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text)||null===e||void 0===e||null===(n=e.approvers)||void 0===n||!n.some((function(e){return"ACCEPTED"!=e.status}))},loadIsAccepted:function(e){var t,n;return!("Approved"!=(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text)||null===e||void 0===e||null===(n=e.approvers)||void 0===n||!n.every((function(e){return"ACCEPTED"==e.status})))},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},loadStatus:function(e){return this.setStatus(e)},setLocaleDate:function(e){return Vt()(e).format("LT")},ordenIsReturn:function(e){var t;if((null===e||void 0===e?void 0:e.loadType)===(null===(t=this.profile)||void 0===t?void 0:t.b2b))return"B2B";var n,r=null===e||void 0===e||null===(n=e.Orders)||void 0===n?void 0:n.find((function(e){return e}));return null!==r&&void 0!==r&&r.isReturn?"Devolver Contenedor":"Entregar Contenedor"},isReturnLoad:function(e){return e.Orders.find((function(e){return e.isReturn}))},IsDelivered:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="Delivered",n.next=3,t.changeRouteLoads(r,e);case 3:case"end":return n.stop()}}),n)})))()},reloadData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.reloadEvent||(this.reloadEvent=!0,this.currentDate(e))},reloadNewDate:function(e){this.reloadEvent=!0,this.currentDate(e)},sortLoads:function(){var e;null===(e=this.loadsToDisplay)||void 0===e||e.sort((function(e,t){var n,r,o,a;return e=new Date(null===(n=e)||void 0===n||null===(r=n.loadingStatus)||void 0===r?void 0:r.slotStartTime).getHours(),t=new Date(null===(o=t)||void 0===o||null===(a=o.loadingStatus)||void 0===a?void 0:a.slotStartTime).getHours(),e-t}))},productQuantity:function(e){var t,n=0;return null===e||void 0===e||null===(t=e.Orders)||void 0===t||t.forEach((function(e){n+=e.no_of_boxes})),n},setCalendar:function(){this.calendar.openMenu()}}});n("be63");const mn=F()(dn,[["render",Nt],["__scopeId","data-v-ab141b1a"]]);var pn=mn,bn={alias:"Tus Viajes",components:{Loads:pn},methods:{}};const vn=F()(bn,[["render",Re]]);var fn=vn,On=n("cf05"),gn=n.n(On),hn=function(e){return Object(a["pushScopeId"])("data-v-f40794b0"),e=e(),Object(a["popScopeId"])(),e},jn={class:"uk-flex uk-flex-center uk-flex-column uk-flex-wrap cnt"},kn={class:"form-container uk-card uk-card-default uk-padding-remove uk-card-large uk-card-body uk-width-1-3@s"},En={class:"uk-margin uk-width-1-3 setting"},Sn={class:"uk-form-controls"},xn=["value"],yn=["value"],Nn=hn((function(){return Object(a["createElementVNode"])("img",{class:"logo",src:gn.a,alt:""},null,-1)})),Cn=hn((function(){return Object(a["createElementVNode"])("h4",{class:"uk-text-light"},"Entrar a su cuenta",-1)})),wn=hn((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-muted",style:{"margin-bottom":"30px",display:"block"}},"Ingrese su número de móvil y contraseña y presione iniciar sesión para ingresar a su cuenta",-1)})),Vn={class:"uk-margin uk-text-left input-item"},Dn=hn((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-emphasis",for:"email"},"No. de Identificación / Teléfono / Email ",-1)})),In={class:"uk-input uk-flex form-login",style:{"align-items":"center"}},Rn={class:"uk-margin uk-text-left input-item"},Bn=hn((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-emphasis",for:"companyData"},"Contraseña",-1)})),An={class:"uk-input uk-flex form-login",style:{"align-items":"center"}},Ln=["type"],Tn={class:"uk-margin uk-flex uk-flex-between input-item"},Qn={class:"terms uk-text-light"},Mn=Object(a["createTextVNode"])("Recordar contraseña"),Pn={key:0,class:"uk-alert-warning","uk-alert":""};function _n(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("Loading"),l=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(i,{class:"loading-position",active:o.loaded,color:"rgb(86, 76, 175)",loader:"spinner",width:100,"background-color":"rgba(252, 252, 252, 0.7)"},null,8,["active"]),Object(a["createElementVNode"])("div",jn,[Object(a["createElementVNode"])("form",kn,[Object(a["createElementVNode"])("div",En,[Object(a["createElementVNode"])("div",Sn,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.settings.url=e}),class:"uk-select",id:"form-stacked-select"},[Object(a["createElementVNode"])("option",{value:o.urlEnum.preprod,selected:""},"Preprod Flai",8,xn),Object(a["createElementVNode"])("option",{value:o.urlEnum.production},"Production Flai",8,yn)],512),[[a["vModelSelect"],o.settings.url]])])]),Nn,Cn,wn,Object(a["createElementVNode"])("div",Vn,[Dn,Object(a["createElementVNode"])("div",In,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"uk-form-width-medium formLogin","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.login.email=e}),type:"text",placeholder:"",required:""},null,512),[[a["vModelText"],o.login.email]]),Object(a["createVNode"])(l,{icon:"envelope",style:{"font-size":"15px"}})])]),Object(a["createElementVNode"])("div",Rn,[Bn,Object(a["createElementVNode"])("div",An,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"uk-form-width-medium","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.login.password=e}),type:o.type,style:{width:"100%"},placeholder:"Contraseña",required:""},null,8,Ln),[[a["vModelDynamic"],o.login.password]]),Object(a["createVNode"])(l,{icon:o.iconType,onClick:c.showPassword,style:{"font-size":"15px"}},null,8,["icon","onClick"])])]),Object(a["createElementVNode"])("div",Tn,[Object(a["createElementVNode"])("label",Qn,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.rememberPassword=e}),style:{"margin-right":"5px"},class:"uk-checkbox",type:"checkbox",checked:""},null,512),[[a["vModelCheckbox"],o.rememberPassword]]),Mn])]),o.showError?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pn,[Object(a["createElementVNode"])("a",{class:"uk-alert-close",onClick:t[4]||(t[4]=function(e){return o.showError=!1}),"uk-close":""}),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(o.showErrorText),1)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("button",{type:"button",class:Object(a["normalizeClass"])([{disabled:o.disabled},"uk-button uk-button-purple uk-width-1-1 uk-margin-small-bottom input-item-btn"]),onClick:t[5]||(t[5]=function(e){return c.changeRoute("home")}),style:{"margin-top":"15px"}}," Iniciar sesión ",2),Object(a["createElementVNode"])("button",{type:"button",class:"uk-button uk-button-purple uk-width-1-1 uk-margin-small-bottom",onClick:t[6]||(t[6]=function(t){return e.printTest()}),style:{"margin-top":"15px"}}," Print ")])])],64)}var qn=n("9062"),Fn=n.n(qn),zn=n("e5dd"),$n={components:{Loading:Fn.a},mixins:[H,sn],data:function(){return{role:B,userType:A,urlEnum:Q,loaded:!1,type:"password",iconType:"eye",showError:null,disabled:!1,showErrorText:null,login:{email:"",password:""},rememberPassword:!0,AutoLogin:{email:"",password:""},activeOrNot:null,geo:null,settings:{maps:!1,url:"https://production.flai.com.do/orchestrator"}}},watch:{settings:{handler:function(){this.$store.commit("setSettings",this.settings),this.setUrl()},deep:!0},"login.email":function(e){e&&(this.showError=!1)},"login.password":function(e){e&&(this.showError=!1)}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.getItem("setting")&&(e.settings.url=JSON.parse(localStorage.getItem("setting")).url),t.next=3,e.resetLocalStorage();case 3:return e.$store.commit("setSettings",e.settings),e.setUrl(),JSON.parse(localStorage.getItem("rememberData"))&&(e.rememberPassword=!0,e.login.email=JSON.parse(localStorage.getItem("rememberData")),e.login.password=JSON.parse(localStorage.getItem("rememberPassword"))),n=null,t.prev=7,t.next=10,e.$services.exceptionServices.getExceptionsDetails();case 10:n=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](7),console.log(t.t0);case 16:n&&localStorage.setItem("detailsException",JSON.stringify(n)),e.getInvoicesPrint();case 18:case"end":return t.stop()}}),t,null,[[7,13]])})))()},computed:Object(r["a"])({},Object(o["b"])(["userData"])),methods:{changeRoute:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("settings-out"!=e){n.next=3;break}return t.$router.push({name:e}).catch((function(){})),n.abrupt("return");case 3:"home"==e&&""!==t.login.email&&""!==t.login.password&&(t.loaded=!0,t.AutoLogin.email=String(t.login.email),t.AutoLogin.password=String(t.login.password)),t.disabled=!0,t.$services.singInServices.getToken(t.AutoLogin).then((function(n){var r,o,a;t.loaded=!0,t.$store.commit("setUserData"),t.rememberPassword&&(localStorage.setItem("rememberData",JSON.stringify(t.login.email)),localStorage.setItem("rememberPassword",JSON.stringify(t.login.password))),(null===n||void 0===n?void 0:n.role)==(null===(r=t.role)||void 0===r?void 0:r.transporter)&&(null===n||void 0===n?void 0:n.userType)==(null===(o=t.userType)||void 0===o?void 0:o.transporter)&&(null===n||void 0===n?void 0:n.position)==(null===(a=t.positionSPN)||void 0===a?void 0:a.transporter)?t.$router.push({name:"transporter-load"}).catch((function(){})):n&&t.$router.push({name:e}).catch((function(){}))})).catch((function(e){t.loaded=!1,t.disabled=!1,"Request failed with status code 401"===e.message?t.showErrorText="Error al introducir los datos":"Network Error"===e.message?t.showErrorText="Error de conexion, verifique que este conectado":(console.log(e.message),t.showErrorText="Error"),t.showError=!0}));case 6:case"end":return n.stop()}}),n)})))()},showPassword:function(){"password"===this.type?(this.type="text",this.iconType="eye-slash"):(this.type="password",this.iconType="eye")},active:function(){this.activeOrNot=!!navigator.geolocation},resetLocalStorage:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},OpenPdf:function(){zn["a"].open({url:"https://jabiyaerp.flai.com.do/api/invoice/report?invoice_ids=270,271"})}}};n("0ab0");const Un=F()($n,[["render",_n],["__scopeId","data-v-f40794b0"]]);var Jn=Un,Yn=n("a09c"),Gn=n.n(Yn),Hn=n("f0c8"),Kn=n.n(Hn),Wn=function(e){return Object(a["pushScopeId"])("data-v-15669153"),e=e(),Object(a["popScopeId"])(),e},Xn={class:"container"},Zn={class:"stiky"},er={class:"web-font-small",style:{"font-size":"13px","font-weight":"500"}},tr={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},nr={class:"uk-flex uk-flex-wrap web-font-small"},rr={style:{"margin-right":"10px !important"}},or=Wn((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),ar=Wn((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),cr=Wn((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),ir={class:"allScreen"},lr={key:0},sr={class:"title-action web-font-small",style:{margin:"5px 0px"}},ur={key:0},dr={key:1},mr=Wn((function(){return Object(a["createElementVNode"])("img",{src:Gn.a,style:{width:"10%","max-width":"40px"}},null,-1)})),pr={key:0,style:{"font-size":"14px"}},br={key:1,style:{"font-size":"13px"}},vr=Wn((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Ordenes: ",-1)})),fr={key:0},Or={key:0},gr={key:2,class:"uk-flex uk-flex-center",style:{"margin-top":"10px"}},hr=["disabled"],jr={key:1,style:{width:"100%","font-size":"30px"}},kr=Wn((function(){return Object(a["createElementVNode"])("img",{src:Kn.a,style:{width:"35px"},alt:""},null,-1)})),Er={style:{"font-size":"14px"},class:"uk-margin-remove"},Sr={key:2,style:{width:"100%","font-size":"30px"}},xr={class:"uk-margin-remove"},yr={key:0},Nr={key:1},Cr={key:2,id:"list-completed",style:{width:"95%",padding:"15px 0px",margin:"0px 10px"}},wr={class:"uk-list uk-list-divider",style:{"list-style":"none"}},Vr=Wn((function(){return Object(a["createElementVNode"])("strong",null,"No. de Orden:",-1)})),Dr={class:"uk-width-1-1"},Ir=Object(a["createTextVNode"])(" Destino:  "),Rr=Wn((function(){return Object(a["createElementVNode"])("div",{class:"uk-flex uk-flex-column completed-card"},[Object(a["createElementVNode"])("img",{src:Kn.a,class:"icon-checked",alt:""}),Object(a["createElementVNode"])("span",null,"Completado")],-1)})),Br={class:"box-orden"},Ar={key:0},Lr={class:"modal"},Tr={class:""},Qr={style:{"font-size":"15px"}},Mr=Wn((function(){return Object(a["createElementVNode"])("span",{id:"total-quantity"},null,-1)})),Pr=Object(a["createTextVNode"])(")"),_r={class:"uk-text-right uk-flex uk-flex-around",style:{"margin-top":"20px !important"}},qr=["disabled"],Fr={key:0};function zr(e,t,n,r,o,c){var i,l,s,u,d=Object(a["resolveComponent"])("font-awesome-icon"),m=Object(a["resolveComponent"])("StreamBarcodeReader");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xn,[Object(a["createElementVNode"])("div",Zn,[Object(a["createElementVNode"])("p",er,Object(a["toDisplayString"])(null===(i=e.loadStore)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",tr,[Object(a["createElementVNode"])("div",nr,[Object(a["createElementVNode"])("p",rr,[or,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(e.loadStore)),1)]),ar,Object(a["createElementVNode"])("p",null,[cr,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null!==(l=e.loadStore)&&void 0!==l&&l.firstOrdenInfo?null===(s=e.loadStore)||void 0===s||null===(u=s.firstOrdenInfo)||void 0===u?void 0:u.sector:e.loadStore.Orders[0].sector),1)])])])]),Object(a["createElementVNode"])("div",ir,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["cont uk-card uk-card-default uk-card-hover uk-card-body",{statusError:"reject"==o.statusOrders,statusCheck:"approve"==o.statusOrders,webView:!o.isMobile}]),style:{"z-index":"1",padding:"15px 0px !important"}},["start"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lr,[Object(a["createElementVNode"])("p",sr,[o.isMobile?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ur," Escanee Ordenes ")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",dr," Introduzca su QrCode para cargar al camion ")),mr]),o.orders.length<=1&&o.isMobile?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",pr,"Escanee su QrCode para cargar al camion")):o.isMobile?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",br,[vr,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e,t){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e,class:"font-weight-medium"},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.order_num),1),t<o.orders.length-1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",fr,", ")):Object(a["createCommentVNode"])("",!0)],512)),[[a["vShow"],t<3]])})),128)),o.orders.length>3?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Or,",....")):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),o.isMobile?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gr,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.webQrCode=e}),ref:"email",onKeyup:t[1]||(t[1]=Object(a["withKeys"])((function(e){return c.uploadProducts(o.webQrCode)}),["enter"])),class:"uk-input uk-width-1-4 web-font-small"},null,544),[[a["vModelText"],o.webQrCode]]),Object(a["createElementVNode"])("button",{disabled:0==o.webQrCode.length,onClick:t[2]||(t[2]=function(e){return c.uploadProducts(o.webQrCode)}),class:"uk-button uk-button-primary web-font-small",style:{"margin-left":"5px"}},"Enviar",8,hr)]))])):Object(a["createCommentVNode"])("",!0),"approve"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jr,[kr,Object(a["createElementVNode"])("h6",Er,Object(a["toDisplayString"])(c.completedOrder),1)])):Object(a["createCommentVNode"])("",!0),"reject"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Sr,[Object(a["createElementVNode"])("h6",xr,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.messageReject)+" ",1),Object(a["createVNode"])(d,{icon:"ban",style:{color:"#be1515"}})])])):Object(a["createCommentVNode"])("",!0)],2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["result-scan",{checkScreen:o.checkOrder,banScreen:"reject"==o.statusOrders,finishCheck:"approve"==o.statusOrders}])},["approve"!=o.statusOrders||e.checkOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yr)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",null,[o.checkOrder?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:Object(a["normalizeClass"])([{animationCheck:o.checkOrder},"check-all-Screen"])},null,2)):Object(a["createCommentVNode"])("",!0)]),"reject"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Nr,[Object(a["createVNode"])(d,{icon:"ban",class:"ban"})])):Object(a["createCommentVNode"])("",!0),"approve"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cr,[Object(a["createElementVNode"])("ul",wr,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e,class:"article uk-card uk-card-default uk-card-body"},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("p",null,[Vr,Object(a["createTextVNode"])("   "+Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("p",Dr,[Ir,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.sector),1)])]),Rr])})),128))])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("ul",Br,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.firstStructureLoad,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e,class:Object(a["normalizeClass"])({completedOrden:e.completedScanned,inProgressOrden:e.scanProgress}),style:{}}," ",2)})),128))])],2),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(a["Transition"],{name:"modal"},{default:Object(a["withCtx"])((function(){return[o.isOpen?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ar,[Object(a["createElementVNode"])("div",{class:"overlay",onClick:t[7]||(t[7]=Object(a["withModifiers"])((function(e){o.isOpen=!1}),["self"]))},[Object(a["createElementVNode"])("div",Lr,[Object(a["createElementVNode"])("div",Tr,[Object(a["createElementVNode"])("button",{class:"uk-modal-close-default",onClick:t[3]||(t[3]=function(e){return c.scanOrder()}),type:"button","uk-close":""}),Object(a["createElementVNode"])("p",Qr,[Object(a["createTextVNode"])("Cantidad (hasta el máximo de "+Object(a["toDisplayString"])(o.totalLimitOfBoxes-o.totalBoxesScanned)+" ",1),Mr,Pr]),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",id:"quantity","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.quantityForScan=e}),class:"uk-input"},null,512),[[a["vModelText"],o.quantityForScan]]),Object(a["createElementVNode"])("p",_r,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-default uk-modal-close",style:{margin:"0px 10px"},onClick:t[5]||(t[5]=function(e){return c.scanOrder()}),type:"button"},"Cancelar"),Object(a["createElementVNode"])("button",{disabled:o.quantityForScan<=0,class:"uk-button uk-button-primary uk-modal-close",onClick:t[6]||(t[6]=function(e){return c.sendQuantityForScan()}),type:"button"},"Guardar",8,qr)])])])])])):Object(a["createCommentVNode"])("",!0)]})),_:1})]),o.showScanner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Fr,[Object(a["createVNode"])(m,{onDecode:c.onDecode,onLoaded:c.onLoaded},null,8,["onDecode","onLoaded"])])):Object(a["createCommentVNode"])("",!0)])])}n("d81d");var $r=n("c0c4"),Ur=n("f337"),Jr={components:{StreamBarcodeReader:Ur["a"]},mixins:[sn],data:function(){return{isOpen:!1,checkOrder:!1,camera:"auto",statusOrders:"start",quantityForScan:null,infoForScan:{},cont:0,orders:[],firstStructureLoad:[],secondStructureLoad:[],load:[],showScanConfirmation:!1,location1:{latitude:null,longitude:null},counterScanned:0,totalBoxesScanned:null,totalLimitOfBoxes:null,messageReject:null,modalDiv:null,btnDiv:null,spanDiv:null,webQrCode:"",isMobile:!1,showScanner:!1,loadedScanner:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["orderScan","loadStore","allLoadsStore","structureToScan"])),{},{completedOrder:function(){return this.firstStructureLoad.every((function(e){return e.completedScanned}))?"TODAS LAS ORDENES HAN SIDO CARGADAS":"LA ORDEN HA SIDO CARGADA"}}),watch:{isOpen:function(e){e||this.scanOrder()},$route:function(e){"scan-order"==e.name&&this.stopScan()},quantityForScan:function(e){e>this.totalLimitOfBoxes-this.totalBoxesScanned&&(this.quantityForScan=this.totalLimitOfBoxes-this.totalBoxesScanned)},firstStructureLoad:{handler:function(e){e&&(this.firstStructureLoad.forEach((function(e){e.completedScanned=e.loadScanningCounter>=e.quantity,e.scanProgress=e.loadScanningCounter>0&&!e.completedScanned})),this.firstStructureLoad.every((function(e){return e.completedScanned}))&&this.verifiedLoad())},deep:!0},secondStructureLoad:{handler:function(e){e&&this.secondStructureLoad.forEach((function(e){e.completedScanned=e.loadScanningCounter>=e.quantity,e.scanProgress=e.loadScanningCounter>0&&!e.completedScanned}))},deep:!0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{n=function(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))},e.isMobile=n()&&screen.width<900}catch(c){alert(c.message)}W["a"].prepare(),e.load=Object(r["a"])({},e.loadStore),e.orders=e.orderScan,e.firstStructureLoad=e.structureToScan.firstStructure,e.secondStructureLoad=e.structureToScan.secondStructure,e.orders.map((function(e){return e.completedScanned=!1})),o=[],a=[],e.firstStructureLoad.forEach((function(t){var n=e.firstStructureLoad.find((function(e){return e.qrCode===t.qrCode&&e.quantity===t.quantity&&e.order_num==t.order_num}));n||(n=t),n.completedScanned=n.loadScanningCounter==n.quantity,n.scanProgress=n.loadScanningCounter>0&&!n.completedScanned,o.push(n)})),e.secondStructureLoad.forEach((function(t){var n=e.secondStructureLoad.find((function(e){return e.qrCode===t.qrCode&&e.totalOfOrders===t.totalOfOrders}));n||(n=t),n.completedScanned=n.loadScanningCounter==n.totalOfOrders,n.scanProgress=n.loadScanningCounter>0&&!n.completedScanned,a.push(n)})),e.firstStructureLoad=o,e.secondStructureLoad=a,e.secondStructureLoad.every((function(e){return e.completedScanned}))?e.verifiedLoad():e.scanOrder();case 14:case"end":return t.stop()}}),t)})))()},methods:{uploadProducts:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l,s,u,d,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.totalBoxesScanned=0,t.totalLimitOfBoxes=0,t.quantityForScan=null,r=t.firstStructureLoad.find((function(t){return t.qrCode==e&&t.loadScanningCounter<t.quantity&&!t.completedScanned})),!r){n.next=31;break}if(o=t.secondStructureLoad.find((function(e){return e.qrCode==r.qrCode})),!(o.loadScanningCounter>=o.totalOfOrders)){n.next=13;break}t.messageReject="Ya estan escaneadas todas las productos con este qrcode",t.statusOrders="reject",$r["a"].vibrate(1e3),setTimeout((function(){t.statusOrders="start",t.scanOrder()}),1e3),n.next=29;break;case 13:if(a=t.load.Orders.filter((function(e){return e.order_num===r.order_num})),a=a.find((function(e){return e})),c=a.products.find((function(t){return(null===t||void 0===t?void 0:t.qrCode)==e&&(null===t||void 0===t?void 0:t.quantity)==r.quantity&&r.order_num==a.order_num})),"no"!==(null===c||void 0===c?void 0:c.scanOneByOne)){n.next=27;break}l=0,s=0,u=t.firstStructureLoad.filter((function(t){return"no"==t.scanOneByOne&&t.qrCode==e})),u.forEach((function(e){l+=null===e||void 0===e?void 0:e.quantity,s+=null===e||void 0===e?void 0:e.loadScanningCounter})),t.totalBoxesScanned=s,t.totalLimitOfBoxes=l,t.isOpen=!0,t.infoForScan={orderId:a._id,boxId:null===c||void 0===c?void 0:c._id,loadScanningCounter:null===c||void 0===c?void 0:c.loadScanningCounter,productId:null===c||void 0===c?void 0:c.product,productQrCode:null===c||void 0===c?void 0:c.qrCode,quantity:null===c||void 0===c?void 0:c.quantity,scanOneByOne:!1,orderNum:null===(i=a)||void 0===i?void 0:i.order_num},n.next=29;break;case 27:return n.next=29,t.setMessageConfirmation(null===(d=a)||void 0===d?void 0:d._id,null===c||void 0===c?void 0:c._id,null===c||void 0===c?void 0:c.loadScanningCounter,null===c||void 0===c?void 0:c.product,null===c||void 0===c?void 0:c.qrCode,null===c||void 0===c?void 0:c.quantity,!0,null===(m=a)||void 0===m?void 0:m.order_num);case 29:n.next=32;break;case 31:t.secondStructureLoad.some((function(t){return t.qrCode==e}))?(t.messageReject="Ya estan escaneados todos los productos con este qrcode",t.statusOrders="reject",$r["a"].vibrate(1e3),setTimeout((function(){t.statusOrders="start",t.scanOrder()}),1e3)):(t.messageReject="Error, producto no reconocido",t.statusOrders="reject",$r["a"].vibrate(1e3),setTimeout((function(){t.statusOrders="start",t.scanOrder()}),1e3));case 32:case"end":return n.stop()}}),n)})))()},setMessageConfirmation:function(e,t,n,r,o,a,c,i,l){var u=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,s,d,m,p,b,v,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=u.firstStructureLoad.findIndex((function(e){return e.qrCode===o&&e.order_num==i&&!(null!==e&&void 0!==e&&e.completedScanned)})),s=u.secondStructureLoad.findIndex((function(e){return e.qrCode==o})),!c){n.next=9;break}return u.firstStructureLoad[a].loadScanningCounter+=1,u.secondStructureLoad[s].loadScanningCounter+=1,n.next=7,u.$services.loadsScanServices.scanProduct(e,t,null===(d=u.firstStructureLoad[a])||void 0===d?void 0:d.loadScanningCounter,r,o);case 7:n.next=24;break;case 9:if(b=(null===(m=u.firstStructureLoad[a])||void 0===m?void 0:m.quantity)-(null===(p=u.firstStructureLoad[a])||void 0===p?void 0:p.loadScanningCounter),!(l>b)){n.next=20;break}return v=l-b,u.secondStructureLoad[s].loadScanningCounter+=b,u.firstStructureLoad[a].loadScanningCounter+=b,n.next=16,u.$services.loadsScanServices.scanProduct(e,t,u.firstStructureLoad[a].loadScanningCounter,r,o);case 16:return n.next=18,u.distributeProductScan(v,o,i);case 18:n.next=24;break;case 20:return u.firstStructureLoad[a].loadScanningCounter+=l,u.secondStructureLoad[s].loadScanningCounter+=l,n.next=24,u.$services.loadsScanServices.scanProduct(e,t,u.firstStructureLoad[a].loadScanningCounter,r,o);case 24:return u.quantityForScan=null,f={firstStructure:u.firstStructureLoad,secondStructure:u.secondStructureLoad,name:u.load.loadMapId},n.next=28,u.$store.dispatch("changeLoadScannedInStore",f);case 28:u.verifiedLoad();case 29:case"end":return n.stop()}}),n)})))()},scanOrder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.totalBoxesScanned=0,e.totalLimitOfBoxes=0,e.quantityForScan=null,e.isOpen=!1,e.statusOrders="start",e.showScanner=!0;case 6:case"end":return t.stop()}}),t)})))()},sendQuantityForScan:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isOpen=!1,n=e.infoForScan,r=n.orderId,o=n.boxId,a=n.loadScanningCounter,c=n.productId,i=n.productQrCode,l=n.quantity,s=n.scanOneByOne,u=n.orderNum,t.next=4,e.setMessageConfirmation(r,o,a,c,i,l,s,u,e.quantityForScan);case 4:e.quantityForScan=null;case 5:case"end":return t.stop()}}),t)})))()},distributeProductScan:function(e,t,n){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var a,c,i,l,s,u,d,m,p;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=r.firstStructureLoad.find((function(e){return e.qrCode==t&&e.loadScanningCounter<e.quantity&&!e.completedScanned})),!a){o.next=21;break}if(l=r.firstStructureLoad.findIndex((function(e){return e.qrCode===t&&e.loadScanningCounter<e.quantity&&!e.completedScanned})),s=r.secondStructureLoad.findIndex((function(e){return e.qrCode==a.qrCode})),u=r.load.Orders.filter((function(e){return e._id==a._id})),u=u.find((function(e){return e})),d=u.products.find((function(e){return e.qrCode==t&&a.quantity==e.quantity})),m=(null===(c=r.firstStructureLoad[l])||void 0===c?void 0:c.quantity)-(null===(i=r.firstStructureLoad[l])||void 0===i?void 0:i.loadScanningCounter),!(e>m)){o.next=17;break}return p=e-m,r.secondStructureLoad[s].loadScanningCounter+=m,r.firstStructureLoad[l].loadScanningCounter+=m,o.next=14,r.$services.loadsScanServices.scanProduct(u._id,d._id,r.firstStructureLoad[l].loadScanningCounter,d.product,t);case 14:p>0&&r.distributeProductScan(p,t,n),o.next=21;break;case 17:return r.firstStructureLoad[l].loadScanningCounter+=e,r.secondStructureLoad[s].loadScanningCounter+=e,o.next=21,r.$services.loadsScanServices.scanProduct(u._id,null===d||void 0===d?void 0:d._id,r.firstStructureLoad[l].loadScanningCounter,null===d||void 0===d?void 0:d.product,t);case 21:case"end":return o.stop()}}),o)})))()},stopScan:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showScanner=!1;case 1:case"end":return t.stop()}}),t)})))()},checkPermission:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].checkPermission({force:!0});case 2:if(n=t.sent,!n.granted){t.next=6;break}return e.status=!0,t.abrupt("return",!0);case 6:return e.status=!1,t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})))()},changeRoute:function(e){this.$router.push({name:e}).catch((function(){}))},verifiedLoad:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.checkOrder=!0,setTimeout(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkOrder=!1,!e.firstStructureLoad.every((function(e){return e.completedScanned}))){t.next=24;break}return e.statusOrders="approved",localStorage.removeItem("LoadScanned"),n=0,e.load.Orders.forEach((function(e){return n+=e.no_of_boxes})),t.next=8,e.$services.loadsServices.getLoadDetails(e.load.loadMapId);case 8:if(r=t.sent,o=[],r.Orders.forEach((function(e){o.push(e.products.every((function(e){return e.loadScanningCounter>=e.quantity})))})),e.stopScan(),e.$store.commit("setOrderDetails",[]),!o.every((function(e){return 1==e}))){t.next=21;break}return localStorage.removeItem("allProducts".concat(e.load.loadMapId)),t.next=17,e.$services.loadsScanServices.completeLoad(e.load.loadMapId,n);case 17:localStorage.removeItem(JSON.stringify(e.load.loadMapId)),e.$router.push({name:"load-status"}).catch((function(){})),t.next=22;break;case 21:e.$router.push({name:"orders"});case 22:t.next=25;break;case 24:e.scanOrder();case 25:case"end":return t.stop()}}),t)}))),1e3);case 2:case"end":return t.stop()}}),t)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e}));return null===n||void 0===n?void 0:n.name},updateData:function(e,t,n,r,o,a){var c=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var l,s,u,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("scan-order"!=c.$route.name){i.next=20;break}return i.next=3,c.$services.loadsServices.getLoadDetails(c.load.loadMapId);case 3:if(l=i.sent,"Dispatched"!=l.loadingStatus.text){i.next=9;break}c.firstStructureLoad.forEach((function(e){e.loadScanningCounter=e.quantity})),c.verifiedLoad(),i.next=20;break;case 9:s=null,u=regeneratorRuntime.mark((function i(u){var d,m,p,b,v,f;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(d=l.Orders[u],!c.firstStructureLoad.some((function(e){return e.order_num==d.order_num}))){i.next=9;break}return i.next=4,c.setStructure(d);case 4:for(m=i.sent,p=function(i){var l=m.firstStructure[i];c.firstStructureLoad.forEach((function(c){c.qrCode==l.qrCode&&(null===c||void 0===c?void 0:c.quantity)===(null===l||void 0===l?void 0:l.quantity)&&(l.loadScanningCounter!=c.loadScanningCounter&&(c.loadScanningCounter=l.loadScanningCounter),l.qrCode==r&&l.quantity==o&&l.boxId==t&&(s={orderId:e,boxId:t,loadScanningCounter:l.loadScanningCounter,productId:n,qrCode:r,quantity:o,scanOneByOne:a}))}))},b=0;b<m.firstStructure.length;b++)p(b);for(v=function(e){var t=m.secondStructure[e];c.secondStructureLoad.forEach((function(e){e.qrCode==t.qrCode&&(e.loadScanningCounter=t.loadScanningCounter)}))},f=0;f<m.secondStructure.length;f++)v(f);case 9:case"end":return i.stop()}}),i)})),d=0;case 12:if(!(d<l.Orders.length)){i.next=17;break}return i.delegateYield(u(d),"t0",14);case 14:d++,i.next=12;break;case 17:if(s){i.next=19;break}return i.abrupt("return",!1);case 19:return i.abrupt("return",s);case 20:case"end":return i.stop()}}),i)})))()},askQuantity:function(){return this.totalLimitOfBoxes-this.totalBoxesScanned},onDecode:function(e){this.loadedScanner&&(this.showScanner=!1,this.uploadProducts(e),this.loadedScanner=!1)},onLoaded:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=3,n(1e3);case 3:e.loadedScanner=!0;case 4:case"end":return t.stop()}}),t)})))()}}};n("c6a5");const Yr=F()(Jr,[["render",zr],["__scopeId","data-v-15669153"]]);var Gr=Yr,Hr=function(e){return Object(a["pushScopeId"])("data-v-6e04a61c"),e=e(),Object(a["popScopeId"])(),e},Kr={class:"uk-flex uk-flex-column cnt"},Wr={class:"stiky"},Xr={style:{"font-size":"13px","font-weight":"500"},class:"web-font-small"},Zr={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},eo={class:"uk-flex uk-flex-wrap web-font-small"},to={style:{"margin-right":"10px !important"}},no=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),ro=Hr((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),oo=Hr((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),ao={class:"container-main"},co={"uk-margin":"",class:"sub-header"},io={class:"filter-checkbox"},lo=Hr((function(){return Object(a["createElementVNode"])("span",{class:"filter-message web-font-small"}," Ver Ordenes:   Pendientes ",-1)})),so={class:"onoffswitch"},uo=Hr((function(){return Object(a["createElementVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch"},null,-1)})),mo=Hr((function(){return Object(a["createElementVNode"])("span",{class:"filter-message web-font-small"}," Todas ",-1)})),po={class:"uk-padding-small container-item",style:{"margin-bottom":"96px !important"}},bo={class:"uk-flex select-all web-font-small"},vo=Object(a["createTextVNode"])("   "),fo=Hr((function(){return Object(a["createElementVNode"])("label",{for:"all-orders"},[Object(a["createTextVNode"])(" "),Object(a["createElementVNode"])("strong",{class:"web-font-small"},"Seleccionar Todas las Ordenes")],-1)})),Oo={key:0,class:"order-select"},go=["onClick","onUpdate:modelValue"],ho={key:1,class:"order-completed"},jo={class:"uk-text-left info-user"},ko={class:"btn uk-flex"},Eo={class:"uk-flex uk-flex-column uk-text-left"},So={key:0,style:{display:"flex",position:"relative",top:"-4px",color:"green"}},xo=Hr((function(){return Object(a["createElementVNode"])("strong",{class:"web-font-small"},"Completado ",-1)})),yo={class:"uk-width-1-1 web-font-small"},No=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),Co={style:{"margin-right":"10px !important"},class:"web-font-small"},wo=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),Vo={class:"uk-flex uk-flex-wrap web-font-small"},Do=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),Io=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium uk-margin-medium-left"},"Escaneadas: ",-1)})),Ro={class:"uk-width-1-1 web-font-small"},Bo=Hr((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Destino: ",-1)})),Ao={style:{width:"100%"}},Lo={"uk-accordion":"",class:"uk-margin-remove uk-padding-remove"},To={class:"uk-margin-remove"},Qo=Hr((function(){return Object(a["createElementVNode"])("a",{class:"uk-accordion-title web-font-small",href:"#"},"Mostrar/Ocultar Productos",-1)})),Mo={class:"uk-accordion-content uk-margin-remove uk-padding-remove"},Po=Object(a["createStaticVNode"])('<div class="details-product" data-v-6e04a61c><p class="item web-font-small" data-v-6e04a61c><span class="font-weight-medium" data-v-6e04a61c>Producto: </span></p><p class="item web-font-small" data-v-6e04a61c><span class="font-weight-medium" data-v-6e04a61c>Codigo QR: </span></p><p class="item web-font-small" data-v-6e04a61c><span class="font-weight-medium" data-v-6e04a61c>Escaneadas: </span></p></div>',1),_o={class:"item"},qo={class:"item"},Fo={class:"item"},zo={class:"button-opt"},$o=["disabled"];function Uo(e,t,n,r,o,c){var i,l,s,u,d,m,p=Object(a["resolveComponent"])("ion-loading"),b=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Kr,[Object(a["createVNode"])(p,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:e.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",Wr,[Object(a["createElementVNode"])("p",Xr,Object(a["toDisplayString"])(null===(i=e.loadStore)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",Zr,[Object(a["createElementVNode"])("div",eo,[Object(a["createElementVNode"])("p",to,[no,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(e.loadStore)),1)]),ro,Object(a["createElementVNode"])("p",null,[oo,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null!==(l=e.loadStore)&&void 0!==l&&l.firstOrdenInfo?null===(s=e.loadStore)||void 0===s||null===(u=s.firstOrdenInfo)||void 0===u?void 0:u.sector:null===(d=e.loadStore)||void 0===d||null===(m=d.Orders[0])||void 0===m?void 0:m.sector),1)])])])]),Object(a["createElementVNode"])("div",ao,[Object(a["createElementVNode"])("header",null,[Object(a["createElementVNode"])("div",co,[Object(a["createElementVNode"])("div",io,[lo,Object(a["createElementVNode"])("div",so,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.filterOrders=e}),name:"onoffswitch",class:"onoffswitch-checkbox",id:"myonoffswitch",tabindex:"0"},null,512),[[a["vModelCheckbox"],o.filterOrders]]),uo]),mo])])]),Object(a["createElementVNode"])("div",po,[Object(a["createElementVNode"])("div",bo,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox",class:"uk-checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.selectAllOrders=e}),id:"all-orders"},null,512),[[a["vModelCheckbox"],o.selectAllOrders]]),vo,fo]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.ordersToDisplay,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card item-upload uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:null===e||void 0===e?void 0:e.completed,"order-status":(null===e||void 0===e?void 0:e.totalOrdersScanned)===(null===e||void 0===e?void 0:e.totalQuantity)}])},[(null===e||void 0===e?void 0:e.totalOrdersScanned)!==(null===e||void 0===e?void 0:e.totalQuantity)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Oo,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{onClick:function(t){return c.orderForScan(e)},"onUpdate:modelValue":function(t){return e.isSelected=t},type:"checkbox",class:"uk-checkbox"},null,8,go),[[a["vModelCheckbox"],e.isSelected]])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ho,[Object(a["createVNode"])(b,{icon:"check"})])),Object(a["createElementVNode"])("div",jo,[Object(a["createElementVNode"])("div",ko,[Object(a["createElementVNode"])("div",Eo,[e.completed?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",So,[xo,Object(a["createVNode"])(b,{icon:"check",style:{"font-size":"14px",margin:"3px"}})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",yo,[No,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.client_name),1)])])]),Object(a["createElementVNode"])("p",Co,[wo,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("div",Vo,[Object(a["createElementVNode"])("p",null,[Do,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.no_of_boxes),1)]),Object(a["createElementVNode"])("p",null,[Io,Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])({"order-delivered":"Delivered"===(null===e||void 0===e?void 0:e.status)})},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.totalOrdersScanned)+"/"+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.totalQuantity),3)])]),Object(a["createElementVNode"])("p",Ro,[Bo,Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(b,{icon:"map-marker-alt"}),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.address),1)])])]),Object(a["createElementVNode"])("div",Ao,[Object(a["createElementVNode"])("ul",Lo,[Object(a["createElementVNode"])("li",To,[Qo,Object(a["createElementVNode"])("div",Mo,[Po,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.products,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e.id,class:"details-product web-font-small"},[Object(a["createElementVNode"])("p",_o,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1),Object(a["createElementVNode"])("p",qo,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.qrCode),1),Object(a["createElementVNode"])("p",Fo,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.loadScanningCounter)+"/"+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.quantity),1)])})),128))])])])])],2)})),128))])]),Object(a["createElementVNode"])("div",zo,[Object(a["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(e){return c.scan()}),disabled:!0===o.showButton,class:"uk-button uk-button-primary"}," Escanear y Cargar Camion ",8,$o)])])}var Jo={alias:"Montar Viaje",mixins:[sn],components:{IonLoading:Ct["a"]},data:function(){return{status:null,showButton:!0,load:null,completed:"background-color: #2a307c !important",orders:null,listOfOrders:[],listOfOrderTotal:[],listOrderDetails:[],selectAllOrders:!1,ordersToDisplay:[],filterOrders:!1}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},computed:Object(r["a"])({},Object(o["b"])(["loadStore","orderScan","loads","allLoadsStore","products","structureToScan","orderDetailsStore"])),watch:{selectAllOrders:function(e){var t=this;1==e?this.orders.forEach((function(e){e.isSelected||(e.isSelected=!0,t.orderForScan(e))})):this.orders.every((function(e){return e.isSelected}))&&(this.orders.map((function(e){return e.isSelected=!1})),this.orders.forEach((function(e){t.listOrderDetails=t.listOrderDetails.filter((function(t){return t.order_num!=e.order_num})),t.listOfOrders=t.listOfOrders.filter((function(t){return t.order_num!=e.order_num})),t.listOfOrderTotal=t.listOfOrderTotal.filter((function(t){return t.order_num!=e.order_num}))})))},orders:{handler:function(e){e.every((function(e){return 1==e.isSelected}))?this.selectAllOrders=!0:this.selectAllOrders=!1},deep:!0},listOfOrders:{handler:function(e){0===e.length?this.showButton=!0:this.showButton=!1},deep:!0},filterOrders:function(e){this.filterByOrders(e)}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),t.prev=1,t.next=4,e.$services.loadsServices.getLoadDetails(e.loadStore.loadMapId);case 4:e.load=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.load=e.loadStore;case 10:e.orders=e.load.Orders,e.filterOrders=e.orders.every((function(e){return"Delivered"==e.status})),e.load.firstOrdenSector=null===(n=e.orders[0])||void 0===n?void 0:n.sector,e.orderObj(),e.setOpen(!1),e.orders.map((function(e){e.totalQuantity=0,e.totalOrdersScanned=0,e.products.forEach((function(t){e.totalQuantity+=t.quantity,e.totalOrdersScanned+=t.loadScanningCounter}))})),e.orderDetailsStore&&e.orderDetailsStore.forEach((function(t){e.orders.forEach((function(n){n.order_num!==t.order_num||n.products.every((function(e){return e.loadScanningCounter>=e.quantity}))?n.isSelected=!1:(n.isSelected=!0,e.orderForScan(n))}))})),e.filterByOrders(!1);case 18:case"end":return t.stop()}}),t,null,[[1,7]])})))()},methods:{orderObj:function(){this.orders.sort((function(e){return 1==e.completed?1:-1}))},scan:function(){var e=this;this.$emit("setNameHeader","Escaneo Corrido"),this.$store.commit("scanOrder",this.listOrderDetails),this.$store.commit("setOrderDetails",this.listOrderDetails);for(var t=[],n={firstStructure:this.listOfOrders,secondStructure:this.listOfOrderTotal},r=function(n){var r=e.orders[n];r.products.forEach((function(e){e.order_num=r.order_num,t.push(e)}))},o=0;o<this.orders.length;o++)r(o);localStorage.setItem("allProducts".concat(this.load.loadMapId),JSON.stringify(t)),this.$store.commit("setStructureToScan",n),this.$router.push({name:"scan-order"}).catch((function(){}))},orderForScan:function(e){var t=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]&&t[1],!n.listOfOrders.some((function(t){return t.order_num==e.order_num}))||o){r.next=7;break}n.listOrderDetails=n.listOrderDetails.filter((function(t){return t.order_num!=e.order_num})),n.listOfOrders=n.listOfOrders.filter((function(t){return t.order_num!=e.order_num})),n.listOfOrderTotal=n.listOfOrderTotal.filter((function(t){return t.order_num!=e.order_num})),r.next=13;break;case 7:return n.listOrderDetails.push(e),r.next=10,n.setStructure(e,n.listOfOrders,n.listOfOrderTotal);case 10:a=r.sent,n.listOfOrders=a.firstStructure,n.listOfOrderTotal=a.secondStructure;case 13:case"end":return r.stop()}}),r)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e}));return null===n||void 0===n?void 0:n.name},firstOrderSector:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e}));return null===n||void 0===n?void 0:n.name},totalOrdersScanned:function(e){var t=localStorage.getItem(JSON.stringify(this.load)),n=0;return t&&(null===t||void 0===t||t.firstStructure.forEach((function(t){t.order_num==e.order_num&&(n+=t.loadScanningCounter)}))),n},filterByOrders:function(e){this.ordersToDisplay=e?this.orders:this.orders.filter((function(e){return(null===e||void 0===e?void 0:e.totalOrdersScanned)<(null===e||void 0===e?void 0:e.totalQuantity)}))}}};n("4564");const Yo=F()(Jo,[["render",Uo],["__scopeId","data-v-6e04a61c"]]);var Go=Yo,Ho=n("8b55"),Ko=n.n(Ho),Wo=n("9fa6"),Xo=n.n(Wo),Zo=function(e){return Object(a["pushScopeId"])("data-v-7b06766f"),e=e(),Object(a["popScopeId"])(),e},ea={class:"stiky"},ta={class:"web-font-small title-load-number",style:{"font-size":"13px","font-weight":"500"}},na={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},ra={class:"uk-flex uk-flex-wrap web-font-small"},oa={style:{"margin-right":"10px !important"}},aa=Zo((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),ca=Zo((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),ia=Zo((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),la={class:"result-info"},sa={key:0},ua={key:0,style:{width:"100%","font-size":"30px"}},da={style:{"font-size":"14px"},class:"uk-margin-remove web-font-small"},ma={key:1,style:{width:"100%","font-size":"30px"}},pa={class:"uk-margin-remove web-font-small"},ba={key:2,class:"uk-list uk-list-divider"},va={class:"uk-text-left info-user uk-flex uk-flex-wrap"},fa={class:"btn uk-flex"},Oa={class:"uk-flex uk-flex-column uk-text-left"},ga={class:"uk-width-1-1 web-font-small"},ha=Zo((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),ja={style:{"margin-right":"10px !important"},class:"web-font-small"},ka=Zo((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),Ea={class:"web-font-small"},Sa=Zo((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),xa=Zo((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),ya={class:"uk-width-1-1 web-font-small"},Na=Zo((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Destino: ",-1)})),Ca=["onClick"],wa=Zo((function(){return Object(a["createElementVNode"])("img",{src:Ko.a,class:"img-scan",alt:""},null,-1)})),Va=Zo((function(){return Object(a["createElementVNode"])("span",null,"Ver Ruta",-1)})),Da=[wa,Va],Ia={key:0,class:"uk-card uk-card-default uk-card-body uk-width-1 img-card",style:{padding:"5px 0px 10px !important"}},Ra={class:"uk-flex uk-flex-wrap img-scroll"},Ba={key:1,class:"uk-card uk-card-default uk-card-body uk-width-1 img-card"},Aa={class:"uk-flex uk-flex-wrap img-scroll"},La=["src"],Ta=["onClick"],Qa={key:0,class:"showCamera"},Ma=["src"],Pa={key:1,class:"cont-camera uk-flex-between uk-flex-wrap uk-card uk-card-default uk-card-hover uk-card-body",style:{"z-index":"0",padding:"4px 0px !important",border:"1px solid #ccc"}},_a=Zo((function(){return Object(a["createElementVNode"])("label",{class:"uk-width-1-1 web-font-small",style:{margin:"0px 0px 10px","font-size":"14px"}},"Tomar las Fotos",-1)})),qa={class:"img-div",style:{position:"relative"}},Fa={class:"snapshot-div"},za={class:"button-div"},$a={key:2},Ua={key:3,class:"cont uk-card uk-card-default uk-card-hover"},Ja={class:"action"},Ya={key:0,class:"box-orden"},Ga={class:"cont uk-card uk-card-default uk-card-hover uk-card-body"},Ha={key:0,class:"uk-flex uk-flex-center uk-flex-wrap"},Ka=Zo((function(){return Object(a["createElementVNode"])("p",{class:"title-form-scan"},"Introduzca su qrCode para entregar",-1)})),Wa=["disabled"],Xa={class:"exception web-font-small"},Za=Object(a["createTextVNode"])(" Hubo Alguna Excepción? No "),ec={class:"onoffswitch"},tc=["disabled"],nc=Zo((function(){return Object(a["createElementVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch"},null,-1)})),rc=Object(a["createTextVNode"])(" Si "),oc={key:0},ac={class:"modal"},cc={class:""},ic={style:{"font-size":"15px"}},lc=Zo((function(){return Object(a["createElementVNode"])("span",{id:"total-quantity"},null,-1)})),sc=Object(a["createTextVNode"])(")"),uc={class:"uk-text-right uk-flex uk-flex-around",style:{"margin-top":"20px !important"}};function dc(e,t,n,r,o,c){var i,l,s,u,d=Object(a["resolveComponent"])("ion-loading"),m=Object(a["resolveComponent"])("StreamBarcodeReader"),p=Object(a["resolveComponent"])("font-awesome-icon"),b=Object(a["resolveComponent"])("invoice-summary"),v=Object(a["resolveComponent"])("camera"),f=Object(a["resolveComponent"])("timeline"),O=Object(a["resolveComponent"])("ion-alert-controller");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(d,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere Envio...",duration:o.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["container uk-flex uk-flex-column uk-flex-between",{backg:o.resultScan}])},[Object(a["createElementVNode"])("div",ea,[Object(a["createElementVNode"])("p",ta,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",na,[Object(a["createElementVNode"])("div",ra,[Object(a["createElementVNode"])("p",oa,[aa,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(o.load)),1)]),ca,Object(a["createElementVNode"])("p",null,[ia,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=o.load)||void 0===l||null===(s=l.firstOrdenInfo)||void 0===s?void 0:s.sector),1)])])])]),Object(a["createElementVNode"])("div",la,[o.showScanner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",sa,[Object(a["createVNode"])(m,{onDecode:c.onDecode,onLoaded:c.onLoaded},null,8,["onDecode","onLoaded"])])):Object(a["createCommentVNode"])("",!0),o.showProduct?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:Object(a["normalizeClass"])(["status-order",{statusError:"reject"==o.statusOrders,statusCheck:"approved"==o.statusOrders}])},["approved"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ua,[Object(a["createElementVNode"])("h6",da,Object(a["toDisplayString"])(c.completedOrder),1)])):Object(a["createCommentVNode"])("",!0),"reject"==o.statusOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ma,[Object(a["createElementVNode"])("h6",pa,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.messageReject)+" ",1),Object(a["createVNode"])(p,{icon:"ban",style:{color:"#be1515"}})])])):Object(a["createCommentVNode"])("",!0)],2)),o.showProduct?(Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",ba,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:Object(a["normalizeClass"])(["uk-card uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:t.completed}])},[Object(a["createElementVNode"])("div",va,[Object(a["createElementVNode"])("div",fa,[Object(a["createElementVNode"])("div",Oa,[Object(a["createElementVNode"])("p",ga,[ha,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.client_name),1)])])]),Object(a["createElementVNode"])("p",ja,[ka,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.order_num),1)]),Object(a["createElementVNode"])("p",Ea,[Sa,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.no_of_boxes),1),xa]),Object(a["createElementVNode"])("p",ya,[Na,Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(p,{icon:"map-marker-alt"}),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(t.address),1)])])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",{onClick:function(n){return e.setMap(t)},class:"uk-flex-column web-font-small route-view"},Da,8,Ca)])],2)})),128)),e.invoiceDownloadStore.status&&e.invoiceDownloadStore.order==(null===(u=o.orderInformation)||void 0===u?void 0:u.order_num)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ia,[Object(a["createElementVNode"])("div",Ra,[Object(a["createVNode"])(b)])])):Object(a["createCommentVNode"])("",!0),o.imagiElement.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ba,[Object(a["createElementVNode"])("div",Aa,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.imagiElement,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e,class:"position-imagin"},[Object(a["createElementVNode"])("img",{class:"img-result",src:e,alt:"Red dot"},null,8,La),Object(a["createElementVNode"])("img",{src:Xo.a,class:"icon-close",onClick:function(e){return c.deleteImage(t)},alt:""},null,8,Ta)])})),128))])])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]),o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qa,[o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,icon:"times",class:"close",onClick:t[1]||(t[1]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("img",{class:"result-scan",src:o.image,alt:""},null,8,Ma)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({showCamera:o.cameraOn,hideCamera:!o.cameraOn})},[o.cameraOn?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,icon:"times",class:"close",onClick:t[2]||(t[2]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(v,{class:"camera",resolution:{width:1620,height:1450},ref:"Camera"},null,512)],2),o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pa,[_a,Object(a["createElementVNode"])("label",qa,[Object(a["createVNode"])(p,{icon:"images"}),Object(a["createElementVNode"])("input",{type:"file",onChange:t[3]||(t[3]=function(e){return c.pickImage(e)}),id:"file-img",style:{position:"absolute",opacity:"0"},accept:"image/*"},null,32)]),Object(a["createElementVNode"])("div",Fa,[Object(a["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(e){return c.snapshot()}),class:"take-photo"})]),Object(a["createElementVNode"])("div",za,[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])([{disabled:!o.image},"uk-button uk-button-blue web-font-small"]),onClick:t[5]||(t[5]=function(e){return c.setImage()})}," Aceptar ",2)])])):Object(a["createCommentVNode"])("",!0),o.cameraOn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$a)):Object(a["createCommentVNode"])("",!0),o.cameraOn||o.image?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ua,[Object(a["createElementVNode"])("div",Ja,[o.showProduct?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",Ya,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.firstStructureLoad,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e,class:Object(a["normalizeClass"])({completedOrden:e.completedScanned,inProgressOrden:e.scanProgress}),style:{}},"   ",2)})),128))])),Object(a["createElementVNode"])("div",Ga,[!o.isMobile&&o.showScanInput?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ha,[Ka,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.webQrCode=e}),class:"uk-input uk-width-1-4 web-font-small"},null,512),[[a["vModelText"],o.webQrCode]]),Object(a["createElementVNode"])("button",{disabled:0==o.webQrCode.length,onClick:t[7]||(t[7]=function(e){return c.uploadProducts(o.webQrCode)}),class:"uk-button uk-button-primary web-font-small",style:{"margin-left":"5px"}},"Enviar",8,Wa)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("strong",Xa,[Za,Object(a["createElementVNode"])("div",ec,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.exception=e}),name:"onoffswitch",class:Object(a["normalizeClass"])([{"checkbox-default":e.isChangeQuantityStore.exception},"onoffswitch-checkbox"]),id:"myonoffswitch",tabindex:"0",disabled:!0===e.isChangeQuantityStore.exception},null,10,tc),[[a["vModelCheckbox"],o.exception]]),nc]),rc]),Object(a["createVNode"])(f,{step:o.step,exception:o.exception,resultScan:o.resultScan,imagiElement:o.imagiElement,onAction:t[9]||(t[9]=function(e){return c.getShow(e)}),onResetSign:t[10]||(t[10]=function(e){return c.resetSign()})},null,8,["step","exception","resultScan","imagiElement"])])])])),Object(a["createVNode"])(a["Transition"],{name:"modal"},{default:Object(a["withCtx"])((function(){var e;return[o.isOpen?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",oc,[Object(a["createElementVNode"])("div",{class:"overlay",onClick:t[15]||(t[15]=Object(a["withModifiers"])((function(e){o.isOpen=!1}),["self"]))},[Object(a["createElementVNode"])("div",ac,[Object(a["createElementVNode"])("div",cc,[Object(a["createElementVNode"])("button",{class:"uk-modal-close-default",onClick:t[11]||(t[11]=function(e){return c.scanOrder()}),type:"button","uk-close":""}),Object(a["createElementVNode"])("p",ic,[Object(a["createTextVNode"])("Cantidad (hasta el máximo de "+Object(a["toDisplayString"])(o.totalLimitOfBoxes.totalOfOrders-(null===(e=o.totalLimitOfBoxes)||void 0===e?void 0:e.scanned))+" ",1),lc,sc]),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",id:"quantity","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.quantityForScan=e}),class:"uk-input"},null,512),[[a["vModelText"],o.quantityForScan]]),Object(a["createElementVNode"])("p",uc,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-default uk-modal-close",style:{margin:"0px 10px"},onClick:t[13]||(t[13]=function(e){return c.scanOrder()}),type:"button"},"Cancelar"),Object(a["createElementVNode"])("button",{class:"uk-button uk-button-primary uk-modal-close",onClick:t[14]||(t[14]=function(e){return c.sendQuantityForScan()}),type:"button"},"Guardar")])])])])])):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createVNode"])(O)],2)],64)}var mc=n("2909"),pc=(n("6062"),n("a434"),n("c4d7")),bc=n.n(pc),vc=n("2103"),fc=n.n(vc),Oc=n("8ae8"),gc=n.n(Oc),hc=n("a2af"),jc=n.n(hc),kc=n("2bfc"),Ec=n.n(kc),Sc=function(e){return Object(a["pushScopeId"])("data-v-7ccea342"),e=e(),Object(a["popScopeId"])(),e},xc={class:"container container-medium"},yc={key:0,class:"uk-padding-small"},Nc={key:0},Cc={class:"modal"},wc={class:"uk-margin"},Vc=Sc((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-bolder text web-font-small",for:"typeExp"},[Object(a["createTextVNode"])("Tipos de Excepción "),Object(a["createElementVNode"])("span",{class:"uk-text-danger"},"*")],-1)})),Dc=Sc((function(){return Object(a["createElementVNode"])("option",{disabled:""},"Elija una Excepción",-1)})),Ic=["value"],Rc=Sc((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-bolder text web-font-small",for:"note"},[Object(a["createTextVNode"])("Notas "),Object(a["createElementVNode"])("span",{class:"uk-text-danger"},"*")],-1)})),Bc={class:"uk-flex uk-flex-around"},Ac=["disabled"],Lc={class:"progressbar"},Tc={class:"info active"},Qc=Sc((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:bc.a,alt:"",srcset:""})],-1)})),Mc=Sc((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Facturas",-1)})),Pc={class:"info active"},_c=Sc((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:fc.a,alt:"",srcset:""})],-1)})),qc=Sc((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Escanear",-1)})),Fc={class:"info active"},zc=Sc((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:gc.a,alt:"",srcset:""})],-1)})),$c=Sc((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Camara",-1)})),Uc={class:"info active"},Jc=Sc((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:jc.a,alt:"",srcset:""})],-1)})),Yc=Sc((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Excepción",-1)})),Gc={class:"info"},Hc=Sc((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:Ec.a,alt:"",srcset:""})],-1)})),Kc=Sc((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Firma",-1)}));function Wc(e,t,n,r,o,c){var i,l,s,u=Object(a["resolveComponent"])("signature-action"),d=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xc,["Singnature"===o.showSingnature?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yc,[Object(a["createElementVNode"])("img",{src:Xo.a,class:"icon-close",onClick:t[0]||(t[0]=function(e){return c.closeSingnature()})}),Object(a["createVNode"])(u,{onDigitalSignature:t[1]||(t[1]=function(e){return o.singnature=e})})])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(a["Transition"],{name:"modal"},{default:Object(a["withCtx"])((function(){return[o.isOpen?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Nc,[Object(a["createElementVNode"])("div",{class:"overlay",onClick:t[6]||(t[6]=Object(a["withModifiers"])((function(e){o.isOpen=!1}),["self"]))},[Object(a["createElementVNode"])("div",Cc,[Object(a["createElementVNode"])("div",wc,[Vc,Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{id:"typeExp",class:"uk-select sub-text web-font-small","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.causeExceptions.type=e})},[Dc,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.detailsException,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e},Object(a["toDisplayString"])(e),9,Ic)})),128))],512),[[a["vModelSelect"],o.causeExceptions.type]])]),Object(a["createElementVNode"])("div",null,[Rc,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{id:"note",class:"uk-textarea sub-text",rows:"3",placeholder:"Notas:","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.causeExceptions.note=e}),required:""},"\r\n                ",512),[[a["vModelText"],o.causeExceptions.note]])]),Object(a["createElementVNode"])("p",Bc,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-default uk-modal-close cancel web-font-small",type:"button",onClick:t[4]||(t[4]=function(e){return c.cancelResetException()})}," Cancelar "),Object(a["createElementVNode"])("button",{disabled:o.showException,class:"uk-button uk-button-primary uk-modal-close web-font-small",type:"button",onClick:t[5]||(t[5]=function(e){return c.setException()})}," Guardar ",8,Ac)])])])])):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createElementVNode"])("ul",Lc,[e.loadStore.allowOrderChangesAtDelivery?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:0,class:Object(a["normalizeClass"])({active:(null===(i=e.invoiceDownloadStore)||void 0===i?void 0:i.status)&&(null===(l=e.invoiceDownloadStore)||void 0===l?void 0:l.order)==(null===(s=o.orderInformation)||void 0===s?void 0:s.order_num)}),onClick:t[7]||(t[7]=function(e){return c.getShow("invoices")})},[Object(a["createElementVNode"])("div",Tc,[Object(a["createVNode"])(d,{icon:"check"})]),Qc,Mc],2)):Object(a["createCommentVNode"])("",!0),e.loadStore.scanningRequired?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:Object(a["normalizeClass"])({active:n.resultScan}),onClick:t[8]||(t[8]=function(e){return c.getShow("scan")})},[Object(a["createElementVNode"])("div",Pc,[Object(a["createVNode"])(d,{icon:"check"})]),_c,qc],2)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({"uk-disabled":0==n.step,active:n.imagiElement.length>0}),onClick:t[9]||(t[9]=function(e){return c.getShow("camera")})},[Object(a["createElementVNode"])("div",Fc,[Object(a["createVNode"])(d,{icon:"check"})]),zc,$c,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:n.step<1})},null,2)],2),n.exception?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:2,class:Object(a["normalizeClass"])({"uk-disabled":0==n.step,active:null!==o.causeExceptions.note&&null!==o.causeExceptions.type&&!1===o.showException}),onClick:t[10]||(t[10]=function(e){return c.getShow("exception")})},[Object(a["createElementVNode"])("div",Uc,[Object(a["createVNode"])(d,{icon:"check"})]),Jc,Yc,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:0==n.step})},null,2)],2)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({"uk-disabled":!c.activeSignature,active:null!==o.singnature}),onClick:t[11]||(t[11]=function(e){return c.getShow("Singnature")})},[Object(a["createElementVNode"])("div",Gc,[Object(a["createVNode"])(d,{icon:"check"})]),Hc,Kc,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:!c.activeSignature})},null,2)],2)])])}n("a9e3");var Xc={class:"uk-flex uk-flex-between uk-margin-small-top"},Zc=["disabled"];function ei(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("VueSignaturePad");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(i,{class:"singnature",width:"100%",height:"150px",ref:"signaturePad",options:{onBegin:e.onBegin,onEnd:e.onEnd}},null,8,["options"]),Object(a["createElementVNode"])("div",Xc,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-secondary btn",onClick:t[0]||(t[0]=function(e){return c.undo()})}," Deshacer "),Object(a["createElementVNode"])("button",{class:"uk-button uk-button-primary btn",disabled:o.isDisabled,onClick:t[1]||(t[1]=function(e){return c.save()})}," Guardar y Finalizar ",8,Zc)])])}var ti={name:"SignatureAction",data:function(){return{singnature:null,isDisabled:!1}},methods:{undo:function(){this.$refs.signaturePad.undoSignature()},save:function(){this.isDisabled=!0;var e=this.$refs.signaturePad.saveSignature(),t=e.data;t&&(this.singnature=t,this.$emit("digitalSignature",this.singnature))}}};n("bcbc");const ni=F()(ti,[["render",ei],["__scopeId","data-v-686343e6"]]);var ri=ni,oi={components:{SignatureAction:ri},props:{step:Number,exception:Boolean,resultScan:String,imagiElement:Array},data:function(){return{causeExceptions:{note:null,type:null},showException:!0,showSingnatureAndException:!0,showSingnature:null,singnature:null,detailsException:[],orderInformation:null,order:null,showInvoice:!0,isOpen:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["imagesStore","loadStore","invoiceDownloadStore","orderScan"])),{},{imageTimeline:function(){return this.imagesStore&&this.changeImage(),this.imagesStore},emptyImage:function(){var e;return(null===(e=this.imagesStore)||void 0===e?void 0:e.length)<=0},activeSignature:function(){var e=this,t=!1,n=this.loadStore.scanningRequired,r=this.loadStore.allowOrderChangesAtDelivery,o=[];o=this.orderScan?this.orderScan:JSON.parse(localStorage.getItem("DeliveryCharges")).Orders,r&&o.find((function(t){var n;return t.order_num==(null===(n=e.invoiceDownloadStore)||void 0===n?void 0:n.order)}))&&(t=this.invoiceDownloadStore.status);var a=this.exception,c=this.causeExceptions.type&&null!=this.causeExceptions.note,i=!this.emptyImage;return!!(n&&r&&a&&this.resultScan&&c&&i&&t)||(!!(n&&r&&!a&&this.resultScan&&!c&&i&&t)||(!(!(n&&!r&&a&&this.resultScan&&c&&i)||t)||(!(!n||r||!a||this.resultScan||!c||!i||t)||(!(!n||r||a||!this.resultScan||c||!i||t)||(!!(!n&&r&&a&&!this.resultScan&&c&&i&&t)||(!(n||!r||a||this.resultScan||c||!i||!t)||(!(n||r||!a||this.resultScan||!c||!i||t)||!(n||r||a||this.resultScan||c||!i||t))))))))}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("detailsException"));case 2:return e.detailsException=t.sent,e.order=e.orderScan,t.next=6,e.loadStore.Orders.find((function(e){return e.order_num}));case 6:e.orderInformation=t.sent;case 7:case"end":return t.stop()}}),t)})))()},watch:{singnature:{handler:function(e){null!==e&&(this.showSingnature=null,this.$store.commit("setDigitalFirm",this.singnature))},deep:!0},imagiElement:{handler:function(e){0===e.length?this.showSingnatureAndException=!0:e.length>0&&null!==this.causeExceptions.note&&null!==this.causeExceptions.type&&(this.$emit("action","exception"),this.showSingnatureAndException=!1)},deep:!0},exception:{handler:function(e){e&&this.closeSingnature(),!1===e&&this.step>=2?(this.showSingnatureAndException=!1,this.causeExceptions.note=null,this.causeExceptions.type=null,this.showException=!0):!0===e&&null!==this.causeExceptions.note&&null!==this.causeExceptions.type&&this.step>=2?this.showSingnatureAndException=!1:1==e&&(this.showSingnatureAndException=!0),0==e&&(this.causeExceptions.note=null,this.causeExceptions.type=null)},deep:!0},"causeExceptions.type":function(e,t){var n,r;e!==t&&(null===(n=this.causeExceptions)||void 0===n||null===(r=n.note)||void 0===r?void 0:r.length)>10?this.showException=!1:this.showException=!0},"causeExceptions.note":function(e){var t,n,r;null!==(null===e||void 0===e?void 0:e.note)&&null!==(null===(t=this.causeExceptions)||void 0===t?void 0:t.type)&&((null===(n=this.causeExceptions)||void 0===n||null===(r=n.note)||void 0===r?void 0:r.length)>10?this.showException=!1:this.showException=!0)},step:{handler:function(e){(e>=2&&!0===this.exception&&null!==this.causeExceptions.note&&null!==this.causeExceptions.type||e>=2&&!1===this.exception)&&(this.showSingnatureAndException=!1)},deep:!0}},methods:{getShow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$emit("action",e),"scan"===e&&t.$emit("action",e),"exception"!==e){n.next=10;break}return n.t0=t,n.next=6,JSON.parse(localStorage.getItem("detailsException"));case 6:n.t1=n.sent,n.t0.dataExteions.call(n.t0,n.t1),t.isOpen=!0,t.imagiElement.length>0&&t.$emit("action",e);case 10:"Singnature"===e&&(t.showSingnature=e),"invoices"===e&&t.$router.push({name:"details-invoices"}).catch((function(){}));case 12:case"end":return n.stop()}}),n)})))()},cancelResetException:function(){this.isOpen=!1,this.causeExceptions.note=null,this.causeExceptions.type=null,this.showSingnatureAndException=!0,this.$store.commit("setExceptions",this.causeExceptions),this.showException=!1},setException:function(){null!==this.causeExceptions.note&&null!==this.causeExceptions.type&&(this.isOpen=!1,this.showException=!0,this.$store.commit("setExceptions",this.causeExceptions),!0===this.exception&&null!==this.causeExceptions.note&&null!==this.causeExceptions.type&&this.step>=2&&this.imagiElement.length>0&&(this.showSingnatureAndException=!1),this.showException=!1)},closeSingnature:function(){this.showSingnature=null,this.singnature=null,this.showSingnatureAndException=!0,this.$emit("resetSign",!1)},changeImage:function(){var e,t;0===(null===(e=this.imageTimeline)||void 0===e?void 0:e.length)?this.showSingnatureAndException=!0:(null===(t=this.imageTimeline)||void 0===t?void 0:t.length)>0&&(0==this.exception||null!==this.causeExceptions.note&&null!==this.causeExceptions.type)&&(this.$emit("action","exception"),this.showSingnatureAndException=!1)},dataExteions:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.detailsException=e;case 1:case"end":return n.stop()}}),n)})))()}}};n("ec38");const ai=F()(oi,[["render",Wc],["__scopeId","data-v-7ccea342"]]);var ci=ai,ii=n("2ad9"),li=n("db76"),si=n.n(li),ui=(n("a4d3"),n("e01a"),function(e){return Object(a["pushScopeId"])("data-v-2291d538"),e=e(),Object(a["popScopeId"])(),e}),di={class:"container"},mi={"uk-accordion":""},pi=ui((function(){return Object(a["createElementVNode"])("a",{class:"uk-accordion-title web-font-small",href:"#"},"Resumen De Factura",-1)})),bi={class:"uk-accordion-content"},vi={class:"uk-table uk-table-striped uk-table-divider uk-table-hover"},fi=ui((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{class:"web-font-small"},"Fecha"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"sub-total"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"itbs"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"total")])],-1)})),Oi=["id"],gi={class:"web-font-small"},hi=ui((function(){return Object(a["createElementVNode"])("br",null,null,-1)})),ji={key:0},ki={class:"web-font-small"},Ei={class:"web-font-small"},Si={class:"web-font-small"},xi={class:"uk-text-right uk-margin-top"},yi={class:"web-font-small"},Ni=ui((function(){return Object(a["createElementVNode"])("span",null,"Total Sin Impuestos:",-1)})),Ci=Object(a["createTextVNode"])(),wi={class:"web-font-small"},Vi=ui((function(){return Object(a["createElementVNode"])("span",null,"Impuestos:",-1)})),Di=Object(a["createTextVNode"])(),Ii={class:"web-font-small"},Ri=ui((function(){return Object(a["createElementVNode"])("span",null," Total: ",-1)})),Bi=Object(a["createTextVNode"])(),Ai={class:"opertion"},Li={class:"uk-accordion-title web-font-small",href:"#"},Ti=Object(a["createTextVNode"])("Detalles de la Factura de la Orden "),Qi={class:"uk-accordion-content"},Mi={class:"uk-text-left uk-margin-left"},Pi={class:"uk-text-left uk-margin-left"},_i=ui((function(){return Object(a["createElementVNode"])("b",null,"Factura: ",-1)})),qi=ui((function(){return Object(a["createElementVNode"])("b",null,"Fecha de Factura:",-1)})),Fi=ui((function(){return Object(a["createElementVNode"])("b",null,"Fecha de Vencimiento: ",-1)})),zi={class:"uk-table uk-table-striped uk-table-divider uk-table-hover"},$i=ui((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{class:"web-font-small"},"Descripción"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"Cantidad"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"Unitario"),Object(a["createElementVNode"])("th",{class:"web-font-small"},"Importe")])],-1)})),Ui=["id"],Ji={class:"web-font-small"},Yi=ui((function(){return Object(a["createElementVNode"])("br",null,null,-1)})),Gi={key:0},Hi={class:"web-font-small"},Ki={class:"web-font-small"},Wi={class:"web-font-small"},Xi={class:"uk-text-right uk-margin-top"},Zi={class:"web-font-small"},el=ui((function(){return Object(a["createElementVNode"])("span",null,"Total Sin Impuestos:",-1)})),tl=Object(a["createTextVNode"])(),nl={class:"web-font-small"},rl=ui((function(){return Object(a["createElementVNode"])("span",null,"Impuestos:",-1)})),ol=Object(a["createTextVNode"])(),al={class:"web-font-small"},cl=ui((function(){return Object(a["createElementVNode"])("span",null," Total: ",-1)})),il=Object(a["createTextVNode"])(),ll={class:"opertion"};function sl(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w=Object(a["resolveComponent"])("ion-loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",di,[Object(a["createVNode"])(w,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:n.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("ul",mi,[Object(a["createElementVNode"])("li",null,[pi,Object(a["createElementVNode"])("div",bi,[Object(a["createElementVNode"])("table",vi,[fi,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(i=o.summary)||void 0===i?void 0:i.invoices,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",{key:e},[Object(a["createElementVNode"])("tr",{id:t,class:Object(a["normalizeClass"])({"refund-invoice":"out_refund"==e.moveType})},[Object(a["createElementVNode"])("td",gi,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.invoiceDate)+" ",1),hi,"out_refund"==e.moveType?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ji,"Reembolso")):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",ki,Object(a["toDisplayString"])(e.taxExcluded),1),Object(a["createElementVNode"])("td",Ei,Object(a["toDisplayString"])(e.total-e.taxExcluded),1),Object(a["createElementVNode"])("td",Si,Object(a["toDisplayString"])(e.total),1)],10,Oi)])})),128))]),Object(a["createElementVNode"])("div",xi,[Object(a["createElementVNode"])("h6",yi,[Ni,Ci,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(l=o.summary)||void 0===l?void 0:l.currency)+" "+Object(a["toDisplayString"])(null===(s=o.summary)||void 0===s?void 0:s.totalTax),1)]),Object(a["createElementVNode"])("h6",wi,[Vi,Di,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(u=o.summary)||void 0===u?void 0:u.currency)+" "+Object(a["toDisplayString"])((null===(d=o.summary)||void 0===d?void 0:d.total)-(null===(m=o.summary)||void 0===m?void 0:m.totalTax)),1)]),Object(a["createElementVNode"])("h6",Ii,[Ri,Bi,Object(a["createElementVNode"])("span",Ai,Object(a["toDisplayString"])(null===(p=o.summary)||void 0===p?void 0:p.currency)+" "+Object(a["toDisplayString"])(null===(b=o.summary)||void 0===b?void 0:b.total),1)])])])]),Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("a",Li,[Ti,Object(a["createElementVNode"])("b",null,Object(a["toDisplayString"])(null===(v=o.invoiceDetails)||void 0===v?void 0:v.invoice_origin),1)]),Object(a["createElementVNode"])("div",Qi,[Object(a["createElementVNode"])("p",Mi,Object(a["toDisplayString"])(null===(f=o.invoiceDetails)||void 0===f?void 0:f.invoice_partner_display_name),1),Object(a["createElementVNode"])("p",Pi,Object(a["toDisplayString"])(null===(O=o.invoiceDetails)||void 0===O?void 0:O.partner_address),1),Object(a["createElementVNode"])("h6",null,[_i,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===(g=o.invoiceDetails)||void 0===g?void 0:g.name),1)]),Object(a["createElementVNode"])("h6",null,[qi,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===(h=o.invoiceDetails)||void 0===h?void 0:h.invoice_date),1)]),Object(a["createElementVNode"])("h6",null,[Fi,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===(j=o.invoiceDetails)||void 0===j?void 0:j.invoice_date_due),1)]),Object(a["createElementVNode"])("table",zi,[$i,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(k=o.invoiceDetails)||void 0===k?void 0:k.products,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",{key:e},[Object(a["createElementVNode"])("tr",{id:t,class:Object(a["normalizeClass"])({"refund-invoice":"out_refund"==e.moveType})},[Object(a["createElementVNode"])("td",Ji,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.description)+" ",1),Yi,"out_refund"==e.moveType?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Gi,"Reembolso")):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",Hi,Object(a["toDisplayString"])(e.qty),1),Object(a["createElementVNode"])("td",Ki,Object(a["toDisplayString"])(e.price_unit),1),Object(a["createElementVNode"])("td",Wi,Object(a["toDisplayString"])(e.price_subtotal),1)],10,Ui)])})),128))]),Object(a["createElementVNode"])("div",Xi,[Object(a["createElementVNode"])("h6",Zi,[el,tl,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(E=o.summary)||void 0===E?void 0:E.currency)+" "+Object(a["toDisplayString"])(null===(S=o.invoiceDetails)||void 0===S?void 0:S.subtotal),1)]),Object(a["createElementVNode"])("h6",nl,[rl,ol,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(x=o.summary)||void 0===x?void 0:x.currency)+" "+Object(a["toDisplayString"])(null===(y=o.invoiceDetails)||void 0===y?void 0:y.amount_tax),1)]),Object(a["createElementVNode"])("h6",al,[cl,il,Object(a["createElementVNode"])("span",ll,Object(a["toDisplayString"])(null===(N=o.summary)||void 0===N?void 0:N.currency)+" "+Object(a["toDisplayString"])(null===(C=o.invoiceDetails)||void 0===C?void 0:C.amount_total),1)])])])])])])}var ul={alias:"Resumen de Facturas",name:"Summary",components:{IonLoading:Ct["a"]},props:{timeout:{type:Number,default:15e3}},data:function(){return{summary:null,generalInformation:null,invoiceDetails:null}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.summaryInvoiceStore?(e.generalInformation=e.summaryInvoiceStore,e.invoiceDetails=e.invoiceDetailsStore):(e.generalInformation=JSON.parse(localStorage.getItem("SummaryInvoice")),e.invoiceDetails=JSON.parse(localStorage.getItem("invoiceDetails"))),t.next=3,e.getSummary();case 3:case"end":return t.stop()}}),t)})))()},computed:Object(r["a"])({},o["b"]["invoiceDetailsStore"]),methods:{getSummary:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),n=null,t.prev=2,t.next=5,Lt.a.post("https://jabiyaerp.flai.com.do/api/invoice/resume/report/",{params:{invoice_ids:e.generalInformation.summarys}},{withCredentials:!0});case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log(t.t0);case 11:e.summary=n.data.result.data,e.setOpen(!1);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}};n("0e91");const dl=F()(ul,[["render",sl],["__scopeId","data-v-2291d538"]]);var ml=dl,pl=void 0;ii["a"].addListener("appRestoredResult",(function(e){console.log("Restored state:",e);var t=JSON.parse(localStorage.getItem("route"));t?pl.$router.push({name:t}).catch((function(){})):pl.$router.push({name:"load-status"})}));var bl={name:"DeliveryActions",alias:"Entrega de Ordenes",components:{timeline:ci,IonLoading:Ct["a"],Camera:si.a,InvoiceSummary:ml,StreamBarcodeReader:Ur["a"]},mixins:[sn],data:function(){return{profile:T,isOpen:!1,show:null,orders:null,resultScan:!1,cont:0,load:null,imagiElement:[],step:0,allProductScanned:!1,exception:!1,firm:null,location:{latitude:null,longitude:null},statusOrders:"start",firstStructureLoad:[],secondStructureLoad:[],quantityForScan:null,totalLimitOfBoxes:{scanned:null,totalOfOrders:null},checkOrder:!0,messageReject:null,showProduct:!0,timeout:2e4,picture:null,camera:null,image:"",cameraOn:!1,orderInformation:null,webQrCode:"",isMobile:!1,showScanInput:!1,showScanner:!1,loadedScanner:!1}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["orderScan","loadStore","exceptionStore","causeExceptionsStore","digitalFirmStore","settings","structureToScan","isChangeQuantityStore","invoicesIdStore","invoiceDownloadStore"])),{},{completedOrder:function(){return this.firstStructureLoad.every((function(e){return e.completedScanned}))?"Todos los Productos han sido Entregados":"El Producto ha sido Entregado"}}),beforeMount:function(){var e,t;null!==(e=this.loadStore)&&void 0!==e&&e.loadMapId?this.load=Object(r["a"])({},this.loadStore):(this.load=JSON.parse(localStorage.getItem("DeliveryCharges")),this.$store.commit("setloadStore",this.load)),null!==(t=this.orderScan)&&void 0!==t&&t.length?this.orders=Object(mc["a"])(this.orderScan):(this.orders=JSON.parse(localStorage.getItem("scanOrder")),this.$store.commit("scanOrder",this.orders))},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{r=function(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))},e.isMobile=r()&&screen.width<900}catch(i){alert(i.message)}return e.$store.commit("setExceptions",{note:null,type:null}),"/details-invoices"!=e.$router.options.history.state.back&&e.$store.commit("getChageQuantityToProduct",{exception:!1,changeQuantity:null,order_num:null}),e.$store.commit("setImagiElement",[]),e.camera=e.$refs.Camera,o=null,o=null!==(n=e.structureToScan)&&void 0!==n&&n.firstStructure?e.structureToScan:JSON.parse(localStorage.getItem("setStructureToScan")),e.firstStructureLoad=o.firstStructure,e.secondStructureLoad=o.secondStructure,e.orders.map((function(t){t.totalOrdersScanned>=t.totalQuantity&&(e.step=1),t.completedScanned=!1})),a=[],c=[],e.firstStructureLoad.forEach((function(t){var n=e.firstStructureLoad.find((function(e){return e.qrCode===t.qrCode&&e.quantity===t.quantity&&e.order_num==t.order_num}));n||(n=t),n.completedScanned=n.loadScanningCounter==n.quantity,n.scanProgress=n.loadScanningCounter>0&&!n.completedScanned,a.push(n)})),e.secondStructureLoad.forEach((function(t){var n=e.secondStructureLoad.find((function(e){return e.qrCode===t.qrCode&&e.totalOfOrders===t.totalOfOrders}));n||(n=t),n.completedScanned=n.loadScanningCounter==n.totalOfOrders,n.scanProgress=n.loadScanningCounter>0&&!n.completedScanned,c.push(n)})),e.firstStructureLoad=a,e.secondStructureLoad=c,e.secondStructureLoad.every((function(e){return e.completedScanned}))&&(e.allProductScanned=!0,e.verifiedLoad()),e.orderInformation=e.orderScan.find((function(e){return e.order_num})),e.isChangeQuantityStore.exception&&e.isChangeQuantityStore.order_num==e.orders[0].order_num?e.exception=e.isChangeQuantityStore.exception:localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))&&(e.exception=JSON.parse(localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))).exception,e.$store.commit("getChageQuantityToProduct",JSON.parse(localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))))),t.next=21,e.getLocation();case 21:case"end":return t.stop()}}),t)})))()},watch:{digitalFirmStore:{handler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,i,l,s,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===t){e.next=37;break}return this.firm=t,this.setOpen(!0),e.next=5,this.postImages();case 5:return r=JSON.parse(localStorage.getItem("ordersMissing".concat(this.load.loadMapId))),o=null===r||void 0===r?void 0:r.filter((function(e){return u.firstStructureLoad.some((function(t){return t.order_num==e}))})),a=new Set(o),o=Object(mc["a"])(a),null===(n=o)||void 0===n||n.forEach((function(e){var t=null===r||void 0===r?void 0:r.findIndex((function(t){return t==e}));t>=0&&r.splice(t,1)})),localStorage.setItem("ordersMissing".concat(this.load.loadMapId),JSON.stringify(r)),e.prev=11,e.next=14,this.$services.loadsServices.getLoadDetails(this.load.loadMapId);case 14:if(c=e.sent,i=[],c.Orders.forEach((function(e){i.push(e.products.every((function(e){return e.loadScanningCounter>=e.quantity})))})),l=JSON.parse(localStorage.getItem("allOrderScanned")),l?(l=[].concat(Object(mc["a"])(l),Object(mc["a"])(this.orders)),localStorage.setItem("allOrderScanned",JSON.stringify(l))):localStorage.setItem("allOrderScanned",JSON.stringify(this.orders)),0!=r.length){e.next=28;break}return localStorage.removeItem("ordersMissing".concat(this.load.loadMapId)),localStorage.setItem("sendInfo".concat(this.load.loadMapId),!0),localStorage.removeItem("allProducts".concat(this.load.loadMapId)),this.$router.push({name:"home"}).catch((function(){})),e.next=26,this.changeRouteLoads("Delivered",this.load);case 26:e.next=29;break;case 28:this.$router.push({name:"delivery-routes"});case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](11),this.$router.push({name:"home"}).catch((function(){})),localStorage.removeItem("allProducts".concat(null===(s=this.load)||void 0===s?void 0:s.loadMapId));case 35:this.load.allowOrderChangesAtDelivery&&(localStorage.removeItem("isChangeQuantity".concat(this.orders[0].order_num)),this.confirmAndFinalizeCreationOfInvoices()),this.setOpen(!1);case 37:case"end":return e.stop()}}),e,this,[[11,31]])})));function t(t){return e.apply(this,arguments)}return t}()},$route:function(e){e&&this.stopScan()},isOpen:function(e){e||this.scanOrder()},imagiElement:{handler:function(e){this.$store.commit("setImagiElement",e)},deep:!0},quantityForScan:function(e){e>this.totalLimitOfBoxes.totalOfOrders-this.totalLimitOfBoxes.scanned&&(this.quantityForScan=this.totalLimitOfBoxes.totalOfOrders-this.totalLimitOfBoxes.scanned)},firstStructureLoad:{handler:function(e){e&&(this.firstStructureLoad.forEach((function(e){e.completedScanned=e.loadScanningCounter>=e.quantity,e.scanProgress=e.loadScanningCounter>0&&!e.completedScanned})),this.firstStructureLoad.every((function(e){return e.completedScanned}))&&(this.allProductScanned?this.verifiedLoad():this.allProductUpload()))},deep:!0},secondStructureLoad:{handler:function(e){e&&this.secondStructureLoad.forEach((function(e){e.completedScanned=e.loadScanningCounter>=e.quantity,e.scanProgress=e.loadScanningCounter>0&&!e.completedScanned}))},deep:!0},exception:{handler:function(e){e?(this.step=1,this.stopScan()):!1===e&&!1===this.orders.some((function(e){return e.products.some((function(e){return 0!==e.loadScanningCounter}))}))&&(this.step=0)},deep:!0}},methods:{getShow:function(e){var t;this.show=e,"scan"===e?(this.resultScan=!1,this.isMobile?this.scanOrder():this.showScanInput=!0):"camera"===e&&(null===(t=this.imagiElement)||void 0===t?void 0:t.length)<=6?(this.showScanInput=!1,this.getCam()):"Singnature"===e?(this.showScanInput=!1,this.step++):"exception"===e&&(this.showScanInput=!1,this.step=2)},getCam:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cameraOn=!0,t.next=3,null===(n=e.camera)||void 0===n?void 0:n.start();case 3:case"end":return t.stop()}}),t)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},postImages:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=e.orders.filter((function(e){return!e.isReturn})),o=0;o<r.length;o++){for(a=r[o],c=[],c.push.apply(c,Object(mc["a"])(e.imagiElement)),i=3,1===e.imagiElement.length?i=1:2===e.imagiElement.length&&(i=2),l=i;l<3;l++)c.push(e.imagiElement[0]);c.push(e.firm),e.$services.deliverServices.postImages(c,e.location.latitude,e.location.longitude,a._id)}if(null!==(n=e.causeExceptionsStore)&&void 0!==n&&n.note)for(s=0;s<e.orders.length;s++)u=e.orders[s],e.$services.exceptionServices.putExceptions(u._id,e.causeExceptionsStore);case 3:case"end":return t.stop()}}),t)})))()},uploadProducts:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.firstStructureLoad.find((function(t){return t.qrCode==e&&t.loadScanningCounter<t.quantity&&!t.completedScanned})),!r){n.next=28;break}if(o=t.secondStructureLoad.find((function(e){return e.qrCode==r.qrCode})),!(o.loadScanningCounter>=o.totalOfOrders)){n.next=11;break}$r["a"].vibrate(1e3),t.statusOrders="reject",t.showProduct=!1,t.messageReject="Ya estan escaneadas todas las ordenes con este qrcode",setTimeout((function(){t.showProduct=!0,t.statusOrders="start",t.scanOrder()}),1e3),n.next=26;break;case 11:if(a=t.load.Orders.filter((function(e){return e._id==r._id})),a=a.find((function(e){return e})),c=a.products.find((function(t){return(null===t||void 0===t?void 0:t.qrCode)==e&&r.order_num==a.order_num})),"no"!==(null===c||void 0===c?void 0:c.scanOneByOne)){n.next=24;break}i=0,l=t.firstStructureLoad.filter((function(t){return"no"==t.scanOneByOne&&t.qrCode==e})),l.forEach((function(e){i+=e.quantity})),t.totalLimitOfBoxes.scanned=o.loadScanningCounter,t.totalLimitOfBoxes.totalOfOrders=i,t.isOpen=!0,t.infoForScan={orderId:a._id,boxId:c._id,loadScanningCounter:c.loadScanningCounter,productId:c.product._id,productQrCode:c.qrCode,quantity:c.quantity,scanOneByOne:!1,order_num:a.order_num},n.next=26;break;case 24:return n.next=26,t.setMessageConfirmation(a._id,c._id,c.loadScanningCounter,c.product,c.qrCode,c.quantity,!0,a.order_num);case 26:n.next=29;break;case 28:t.secondStructureLoad.some((function(t){return t.qrCode==e}))?($r["a"].vibrate(1e3),t.messageReject="Ya estan escaneadas todas las ordenes con este qrcode",t.showProduct=!1,t.statusOrders="reject",setTimeout((function(){t.showProduct=!0,t.statusOrders="start",t.scanOrder()}),1e3)):(t.statusOrders="reject",t.messageReject="Error, producto no reconocido",t.resultScan=!1,t.showProduct=!1,$r["a"].vibrate(1e3),setTimeout((function(){t.statusOrders="start",t.showProduct=!0,t.scanOrder()}),1e3));case 29:case"end":return n.stop()}}),n)})))()},setMessageConfirmation:function(e,t,n,r,o,a,c,i,l){var u=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,s,d,m,p,b,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=u.firstStructureLoad.findIndex((function(e){return e.qrCode===o&&e.order_num==i&&!e.completedScanned})),s=u.secondStructureLoad.findIndex((function(e){return e.qrCode==o})),!c){n.next=9;break}return u.firstStructureLoad[a].loadScanningCounter+=1,u.secondStructureLoad[s].loadScanningCounter+=1,n.next=7,u.$services.deliverServices.deliverProduct(e,t,u.firstStructureLoad[a].loadScanningCounter,r,o);case 7:n.next=24;break;case 9:if(p=(null===(d=u.firstStructureLoad[a])||void 0===d?void 0:d.quantity)-(null===(m=u.firstStructureLoad[a])||void 0===m?void 0:m.loadScanningCounter),!(l>p)){n.next=20;break}return b=l-p,u.secondStructureLoad[s].loadScanningCounter+=p,u.firstStructureLoad[a].loadScanningCounter+=p,n.next=16,u.$services.deliverServices.deliverProduct(e,t,u.firstStructureLoad[a].loadScanningCounter,r,o);case 16:return n.next=18,u.distributeProductScan(b,o,i);case 18:n.next=24;break;case 20:return u.firstStructureLoad[a].loadScanningCounter+=l,u.secondStructureLoad[s].loadScanningCounter+=l,n.next=24,u.$services.deliverServices.deliverProduct(e,t,u.firstStructureLoad[a].loadScanningCounter,r,o);case 24:return v={firstStructure:u.firstStructureLoad,secondStructure:u.secondStructureLoad,name:u.load.loadMapId},n.next=27,u.$store.dispatch("changeLoadScannedInStore",v);case 27:u.verifiedLoad();case 28:case"end":return n.stop()}}),n)})))()},scanOrder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isOpen=!1,e.quantityForScan=null,e.statusOrders="start",e.showProduct=!1,e.showScanner=!0;case 5:case"end":return t.stop()}}),t)})))()},sendQuantityForScan:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isOpen=!1,n=e.infoForScan,r=n.orderId,o=n.boxId,a=n.loadScanningCounter,c=n.productId,i=n.productQrCode,l=n.quantity,s=n.scanOneByOne,u=n.order_num,t.next=4,e.setMessageConfirmation(r,o,a,c,i,l,s,u,e.quantityForScan);case 4:e.quantityForScan=null;case 5:case"end":return t.stop()}}),t)})))()},distributeProductScan:function(e,t,n){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var a,c,i,l,s,u,d,m,p;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=r.firstStructureLoad.find((function(e){return e.qrCode==t&&e.loadScanningCounter<e.quantity&&!e.completedScanned})),!a){o.next=21;break}if(l=r.firstStructureLoad.findIndex((function(e){return e.qrCode===t&&e.order_num!=n&&!e.completedScanned})),s=r.secondStructureLoad.findIndex((function(e){return e.qrCode==a.qrCode})),u=r.load.Orders.filter((function(e){return e._id==a._id})),u=u.find((function(e){return e})),d=u.products.find((function(e){return e.qrCode==t&&a.quantity==e.quantity})),m=(null===(c=r.firstStructureLoad[l])||void 0===c?void 0:c.quantity)-(null===(i=r.firstStructureLoad[l])||void 0===i?void 0:i.loadScanningCounter),!(e>m)){o.next=17;break}return p=e-m,r.secondStructureLoad[s].loadScanningCounter+=m,r.firstStructureLoad[l].loadScanningCounter+=m,o.next=14,r.$services.deliverServices.deliverProduct(u._id,d._id,r.firstStructureLoad[l].loadScanningCounter,d.product,t);case 14:p>0&&r.distributeProductScan(p,t,n),o.next=21;break;case 17:return r.firstStructureLoad[l].loadScanningCounter+=e,r.secondStructureLoad[s].loadScanningCounter+=e,o.next=21,r.$services.deliverServices.deliverProduct(u._id,null===d||void 0===d?void 0:d._id,r.firstStructureLoad[l].loadScanningCounter,null===d||void 0===d?void 0:d.product,t);case 21:case"end":return o.stop()}}),o)})))()},alertUbication:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ct["c"].create({header:e,message:t,buttons:["Ok"]});case 2:return r=n.sent,n.next=5,r.present();case 5:case"end":return n.stop()}}),n)})))()},getLocation:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==(n=e.load)&&void 0!==n&&null!==(r=n.Vehicles[0])&&void 0!==r&&r.gpsProvider&&"Flai Mobile App"!=e.load.Vehicles[0].gpsProvider){t.next=17;break}return t.prev=1,t.next=4,X["a"].getCurrentPosition();case 4:o=t.sent,e.location.latitude=o.coords.latitude,e.location.longitude=o.coords.longitude,t.next=15;break;case 9:return t.prev=9,t.t0=t["catch"](1),"location disabled"==t.t0.message&&e.alertUbication("Active la ubicacion","Porfavor debe encender la ubicacion, para continuar el siguiente paso"),"Location permission was denied"==t.t0.message&&e.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),"User denied Geolocation"==t.t0.message&&e.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),t.abrupt("return",!1);case 15:t.next=22;break;case 17:return t.next=19,e.$services.gpsProviderServices.getVehicleGpsId(e.load.Vehicles[0].gpsId);case 19:a=t.sent,e.location.latitude=null===a||void 0===a?void 0:a.lat,e.location.longitude=null===a||void 0===a?void 0:a.lng;case 22:case"end":return t.stop()}}),t,null,[[1,9]])})))()},stopScan:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:W["a"].showBackground(),W["a"].stopScan();case 2:case"end":return e.stop()}}),e)})))()},checkPermission:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].checkPermission({force:!0});case 2:if(n=t.sent,!n.granted){t.next=6;break}return e.status=!0,t.abrupt("return",!0);case 6:return e.status=!1,t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})))()},changeRoute:function(e){this.$router.push({name:e}).catch((function(){}))},verifiedLoad:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.allProductScanned=!0,e.checkOrder=!0,e.statusOrders="approved",e.showProduct=!1,setTimeout(Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.statusOrders="start",e.showProduct=!0,e.checkOrder=!1,e.firstStructureLoad.every((function(e){return e.completedScanned}))?(e.resultScan=!0,e.showScanInput=!1,e.step=1,localStorage.removeItem("LoadScanned"),n=0,e.load.Orders.forEach((function(e){return n+=e.no_of_boxes}))):e.scanOrder();case 4:case"end":return t.stop()}}),t)}))),1e3);case 5:case"end":return t.stop()}}),t)})))()},deleteImage:function(e){this.imagiElement.splice(e,1)},deleteInvoices:function(){var e={status:!1,order:null};this.$store.commit("getInvoiceDownload",e)},allProductUpload:function(){this.statusOrders="start",this.resultScan=!0,this.step=1},updateData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"deliveryActions"!=e.$route.name){t.next=17;break}return t.next=4,e.$services.loadsServices.getLoadDetails(e.load.loadMapId);case 4:if(n=t.sent,"Delivered"!=n.loadingStatus.text){t.next=10;break}e.firstStructureLoad.forEach((function(e){e.loadScanningCounter=e.quantity})),e.verifiedLoad(),t.next=17;break;case 10:r=regeneratorRuntime.mark((function t(r){var o,a,c,i,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.Orders[r],!e.firstStructureLoad.some((function(e){return e.order_num==o.order_num}))){t.next=9;break}return t.next=4,e.setStructure(o);case 4:for(a=t.sent,c=function(t){var n=a.firstStructure[t];e.firstStructureLoad.forEach((function(e){e.qrCode==n.qrCode&&(null===e||void 0===e?void 0:e.quantity)===(null===n||void 0===n?void 0:n.quantity)&&n.loadScanningCounter!=e.loadScanningCounter&&(e.loadScanningCounter=n.loadScanningCounter)}))},i=0;i<a.firstStructure.length;i++)c(i);for(l=function(t){var n=a.secondStructure[t];e.secondStructureLoad.forEach((function(e){e.qrCode==n.qrCode&&(e.loadScanningCounter=n.loadScanningCounter)}))},s=0;s<a.secondStructure.length;s++)l(s);case 9:case"end":return t.stop()}}),t)})),o=0;case 12:if(!(o<n.Orders.length)){t.next=17;break}return t.delegateYield(r(o),"t0",14);case 14:o++,t.next=12;break;case 17:t.next=22;break;case 19:return t.prev=19,t.t1=t["catch"](0),t.abrupt("return",!1);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},resetSign:function(){this.step=2},snapshot:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.stopScan(),t.next=3,null===(n=e.camera)||void 0===n?void 0:n.snapshot({width:780,height:720});case 3:return r=t.sent,o=new FileReader,o.readAsDataURL(r),o.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=o.result;case 1:case"end":return e.stop()}}),e)}))),c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=10,c(1e3);case 10:e.image=a,e.cameraOn=!1;case 12:case"end":return t.stop()}}),t)})))()},setImage:function(){this.imagiElement.push(this.image),this.imagiElement.length>0&&(this.step=2),this.stopCamera()},stopCamera:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showScanner=!1,e.cameraOn=!1,e.image=null;case 3:case"end":return t.stop()}}),t)})))()},pickImage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.files[0],o=new FileReader,o.readAsDataURL(r),o.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=o.result;case 1:case"end":return e.stop()}}),e)}))),c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.next=7,c(1e3);case 7:t.cameraOn=!1,t.image=a;case 9:case"end":return n.stop()}}),n)})))()},confirmAndFinalizeCreationOfInvoices:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.a.post("https://jabiyaerp.flai.com.do/api/order/".concat(e.invoicesIdStore,"/post"),{withCredentials:!0});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onDecode:function(e){this.loadedScanner&&(this.showScanner=!1,this.uploadProducts(e),this.loadedScanner=!1)},onLoaded:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=3,n(1e3);case 3:e.loadedScanner=!0;case 4:case"end":return t.stop()}}),t)})))()}}};n("f754");const vl=F()(bl,[["render",dc],["__scopeId","data-v-7b06766f"]]);var fl=vl,Ol=function(e){return Object(a["pushScopeId"])("data-v-6bf0a794"),e=e(),Object(a["popScopeId"])(),e},gl={class:"uk-flex uk-flex-column cnt"},hl={class:"stiky"},jl={class:"web-font-small",style:{"font-size":"13px","font-weight":"500"}},kl={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},El={class:"uk-flex uk-flex-wrap web-font-small"},Sl={style:{"margin-right":"10px !important"}},xl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),yl=Ol((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Nl=Ol((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),Cl={class:"container-deliver"},wl={"uk-margin":"",class:"sub-header"},Vl={class:"filter-checkbox"},Dl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"filter-message web-font-small"}," Ver Ordenes:   Pendientes ",-1)})),Il={class:"onoffswitch"},Rl=Ol((function(){return Object(a["createElementVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch"},null,-1)})),Bl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"filter-message web-font-small"}," Todas ",-1)})),Al={class:"uk-padding-small uk-width-1-1 container-item"},Ll={key:0,class:"order-completed"},Tl={key:1,class:"order-select"},Ql=["onClick","onUpdate:modelValue"],Ml={key:2,class:"order-select"},Pl=["onClick","onUpdate:modelValue"],_l={class:"uk-text-left info-user"},ql={class:"btn uk-flex"},Fl={class:"uk-flex uk-flex-column uk-text-left"},zl={key:0,class:"uk-width-1-1"},$l=Ol((function(){return Object(a["createElementVNode"])("strong",{class:"font-weight-medium web-font-small"},"Enviando Informacion",-1)})),Ul=[$l],Jl={class:"uk-width-1-1 web-font-small"},Yl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),Gl={style:{"margin-right":"10px !important"},class:"web-font-small"},Hl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),Kl={class:"uk-flex uk-flex-wrap web-font-small"},Wl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),Xl={class:"web-font-small"},Zl=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium uk-margin-medium-left"},"Escaneadas: ",-1)})),es={class:"uk-width-1-1 web-font-small"},ts=Ol((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Destino: ",-1)})),ns={style:{width:"100%"}},rs={"uk-accordion":"",class:"uk-margin-remove uk-padding-remove"},os={class:"uk-margin-remove"},as=Ol((function(){return Object(a["createElementVNode"])("a",{class:"uk-accordion-title web-font-small",href:"#"}," Mostrar/Ocultar Productos",-1)})),cs={class:"uk-accordion-content uk-margin-remove uk-padding-remove"},is=Object(a["createStaticVNode"])('<div class="details-product" data-v-6bf0a794><p class="item web-font-small" data-v-6bf0a794><span class="font-weight-medium" data-v-6bf0a794>Producto: </span></p><p class="item web-font-small" data-v-6bf0a794><span class="font-weight-medium" data-v-6bf0a794>Codigo QR: </span></p><p class="item web-font-small" data-v-6bf0a794><span class="font-weight-medium" data-v-6bf0a794>Escaneadas: </span></p></div>',1),ls={class:"item web-font-small"},ss={class:"item web-font-small"},us={class:"item web-font-small"},ds={class:"button-opt"},ms=["disabled"];function ps(e,t,n,r,o,c){var i,l,s,u=Object(a["resolveComponent"])("ion-loading"),d=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gl,[Object(a["createVNode"])(u,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",hl,[Object(a["createElementVNode"])("p",jl,Object(a["toDisplayString"])(null===(i=e.loadStore)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",kl,[Object(a["createElementVNode"])("div",El,[Object(a["createElementVNode"])("p",Sl,[xl,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(e.loadStore)),1)]),yl,Object(a["createElementVNode"])("p",null,[Nl,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=e.loadStore)||void 0===l||null===(s=l.firstOrdenInfo)||void 0===s?void 0:s.sector),1)])])])]),Object(a["createElementVNode"])("div",Cl,[Object(a["createElementVNode"])("header",null,[Object(a["createElementVNode"])("div",wl,[Object(a["createElementVNode"])("div",Vl,[Dl,Object(a["createElementVNode"])("div",Il,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.filterOrders=e}),name:"onoffswitch",class:"onoffswitch-checkbox",id:"myonoffswitch",tabindex:"0"},null,512),[[a["vModelCheckbox"],o.filterOrders]]),Rl]),Bl])])]),Object(a["createElementVNode"])("div",Al,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.ordersToDisplay,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card item-deliver uk-card-default uk-card-body uk-flex",{ordenCompleted:e.completed,"order-status":"Delivered"===(null===e||void 0===e?void 0:e.status)}])},[e.sendingInfo||"Delivered"===e.status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ll,[Object(a["createVNode"])(d,{icon:"check"})])):!0===o.load.allowOrderChangesAtDelivery?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Tl,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{onClick:function(t){return c.orderForScanInvoices(e)},name:"radio2",type:"checkbox",class:"uk-checkbox","onUpdate:modelValue":function(t){return e.isSelectedDeliver=t}},null,8,Ql),[[a["vModelCheckbox"],e.isSelectedDeliver]])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ml,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{onClick:function(t){return c.orderForScan(e)},"onUpdate:modelValue":function(t){return e.isSelectedDeliver=t},type:"checkbox",class:"uk-checkbox"},null,8,Pl),[[a["vModelCheckbox"],e.isSelectedDeliver]])])),Object(a["createElementVNode"])("div",_l,[Object(a["createElementVNode"])("div",ql,[Object(a["createElementVNode"])("div",Fl,[e.sendingInfo&&"Delivered"!==e.status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",zl,Ul)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",Jl,[Yl,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.client_name),1)])])]),Object(a["createElementVNode"])("p",Gl,[Hl,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("div",Kl,[Object(a["createElementVNode"])("p",null,[Wl,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.no_of_boxes),1)]),Object(a["createElementVNode"])("p",Xl,[Zl,Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])({"order-delivered":"Delivered"===(null===e||void 0===e?void 0:e.status)})},Object(a["toDisplayString"])(e.totalOrdersScanned)+"/"+Object(a["toDisplayString"])(e.totalQuantity),3)])]),Object(a["createElementVNode"])("p",es,[ts,Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(d,{icon:"map-marker-alt"}),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.address),1)])])]),Object(a["createElementVNode"])("div",ns,[Object(a["createElementVNode"])("ul",rs,[Object(a["createElementVNode"])("li",os,[as,Object(a["createElementVNode"])("div",cs,[is,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.products,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e.id,class:"details-product"},[Object(a["createElementVNode"])("p",ls,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1),Object(a["createElementVNode"])("p",ss,Object(a["toDisplayString"])(e.qrCode),1),Object(a["createElementVNode"])("p",us,Object(a["toDisplayString"])(e.loadScanningCounter)+"/"+Object(a["toDisplayString"])(e.quantity),1)])})),128))])])])])],2)})),128))])]),Object(a["createElementVNode"])("div",ds,[Object(a["createElementVNode"])("button",{onClick:t[2]||(t[2]=function(e){return c.screenSelection()}),disabled:!o.showButton,class:"uk-button uk-button-primary web-font-small"},Object(a["toDisplayString"])(o.textButton),9,ms)])])}n("a15b"),n("1276");var bs={alias:"Entregar Ordenes",mixins:[sn],components:{IonLoading:Ct["a"]},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},data:function(){return{status:null,load:null,orders:null,completed:"background-color: #2a307c !important",listOfOrders:[],listOrderDetails:[],listOfOrderTotal:[],showButton:!1,textButton:null,timeout:1e4,idOrderToInvoices:null,ordersToDisplay:[],filterOrders:!1}},watch:{listOfOrders:{handler:function(e){0===e.length?this.showButton=!1:this.showButton=!0},deep:!0},filterOrders:function(e){this.filterByOrders(e)},orders:{handler:function(e){e.every((function(e){return 1==e.isSelectedDeliver}))?this.selectAllOrders=!0:this.selectAllOrders=!1},deep:!0}},computed:Object(r["a"])({},Object(o["b"])(["loadStore","orderScan","orderDetailsStore","isSelectedInvoicesStore","structureToScan","invoicesIdStore"])),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c,i,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),t.prev=1,t.next=4,e.$services.loadsServices.getLoadDetails(e.loadStore.loadMapId);case 4:e.load=t.sent,e.load.firstOrdenInfo=null===(c=e.loadStore)||void 0===c?void 0:c.Orders[0],t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),null!==(i=e.loadStore)&&void 0!==i&&i.loadMapId?e.load=Object(r["a"])({},e.loadStore):e.load=JSON.parse(localStorage.getItem("DeliveryCharges"));case 11:e.$store.commit("setloadStore",e.load),e.orders=null===(n=e.load)||void 0===n?void 0:n.Orders,e.load.firstOrdenInfo=null===(o=e.load)||void 0===o?void 0:o.Orders[0],e.orders=null===(a=e.load)||void 0===a?void 0:a.Orders,l=JSON.parse(localStorage.getItem("allOrderScanned")),s=JSON.parse(localStorage.getItem("queueIsEmpty")),l&&e.orders.forEach((function(e){e.sendingInfo=!s&&(null===l||void 0===l?void 0:l.some((function(t){return t.order_num==e.order_num})))})),e.filterByOrders(!1),e.setOpen(!1),e.load.allowOrderChangesAtDelivery?e.textButton="Entregar Orden y Factura":e.textButton="Escanear y Entregar Producto",e.orders.map((function(e){e.totalQuantity=0,e.totalOrdersScanned=0,e.products.forEach((function(t){e.totalQuantity+=t.quantity,e.totalOrdersScanned+=t.loadScanningCounter}))})),e.orderDetailsStore&&e.orderDetailsStore.forEach((function(t){e.orders.forEach((function(n){n.sendingInfo||n.order_num!==t.order_num||n.products.every((function(e){return e.loadScanningCounter>=e.quantity}))||(n.isSelectedDeliver=!0,e.orderForScan(n))}))})),e.invoicesIdStore&&(e.idOrderToInvoices=e.invoicesIdStore),e.$store.commit("getInvoiceDownload",{status:!1,order:null});case 25:case"end":return t.stop()}}),t,null,[[1,8]])})))()},methods:{screenSelection:function(){this.showButton=!1,this.load.allowOrderChangesAtDelivery&&(this.$store.commit("getOrdersToInvoicesId",this.idOrderToInvoices.split("").filter((function(e,t){return e>0||t>2})).join("")),localStorage.setItem("getOrdersToInvoicesId",JSON.stringify(this.idOrderToInvoices.split("").filter((function(e,t){return e>0||t>2})).join("")))),this.scan()},scan:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r={firstStructure:e.listOfOrders,secondStructure:e.listOfOrderTotal},e.$store.commit("setStructureToScan",r),localStorage.setItem("setStructureToScan",JSON.stringify(r)),localStorage.setItem("allProducts".concat(e.load.loadMapId),JSON.stringify(e.orders)),localStorage.setItem("scanOrder",JSON.stringify(e.listOrderDetails)),e.$store.commit("scanOrder",e.listOrderDetails),e.$store.commit("setOrderDetails",e.listOrderDetails),o=[],!localStorage.getItem("ordersMissing".concat(e.load.loadMapId))){for(a=0;a<e.orders.length;a++)c=e.orders[a],"Delivered"!=c.status&&o.push(c.order_num);localStorage.setItem("ordersMissing".concat(e.load.loadMapId),JSON.stringify(o))}null!==(n=e.load)&&void 0!==n&&n.scanningRequired?e.$router.push({name:"deliveryActions"}).catch((function(){})):e.$router.push({name:"delivery-actions-auto"}).catch((function(){}));case 10:case"end":return t.stop()}}),t)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},orderForScan:function(e){var t=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]&&t[1],!n.listOfOrders.some((function(t){return t.order_num==e.order_num}))||o){r.next=7;break}n.listOrderDetails=n.listOrderDetails.filter((function(t){return t.order_num!=e.order_num})),n.listOfOrders=n.listOfOrders.filter((function(t){return t.order_num!=e.order_num})),n.listOfOrderTotal=n.listOfOrderTotal.filter((function(t){return t.order_num!=e.order_num})),r.next=13;break;case 7:return n.listOrderDetails.push(e),r.next=10,n.setStructure(e,n.listOfOrders,n.listOfOrderTotal);case 10:a=r.sent,n.listOfOrders=a.firstStructure,n.listOfOrderTotal=a.secondStructure;case 13:case"end":return r.stop()}}),r)})))()},orderForScanInvoices:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.listOrderDetails.some((function(t){return t.order_num===e.order_num}))){n.next=9;break}t.listOrderDetails=[],t.listOfOrders=[],t.listOfOrderTotal=[],t.$store.commit("setStructureToScan",[]),t.$store.commit("scanOrder",[]),t.$store.commit("setOrderDetails",[]),n.next=24;break;case 9:return t.orders.forEach((function(t){t.isSelectedDeliver=t.order_num===e.order_num})),t.showButton=!0,t.idOrderToInvoices=e.order_num,t.listOrderDetails=[e],n.next=15,t.setStructure(e);case 15:r=n.sent,t.listOfOrders=r.firstStructure,t.listOfOrderTotal=r.secondStructure,o={firstStructure:t.listOfOrders,secondStructure:t.listOfOrderTotal},t.$store.commit("getSelectedInvoices",e),t.$store.commit("setStructureToScan",o),localStorage.setItem("allProducts".concat(t.load.loadMapId),JSON.stringify(t.orders)),t.$store.commit("scanOrder",t.listOrderDetails),t.$store.commit("setOrderDetails",t.listOrderDetails);case 24:case"end":return n.stop()}}),n)})))()},filterByOrders:function(e){this.ordersToDisplay=e?this.orders:this.orders.filter((function(e){return"Delivered"!=e.status}))}}};n("0d18");const vs=F()(bs,[["render",ps],["__scopeId","data-v-6bf0a794"]]);var fs=vs,Os=function(e){return Object(a["pushScopeId"])("data-v-77362cee"),e=e(),Object(a["popScopeId"])(),e},gs={class:"uk-flex uk-flex-center uk-flex-column uk-flex-wrap cnt"},hs={class:"uk-card uk-card-default uk-padding-remove uk-card-large uk-card-body uk-width-1-3@s",style:{padding:"0px 20px !important","min-width":"400px"}},js=Os((function(){return Object(a["createElementVNode"])("img",{class:"logo",src:gn.a,alt:""},null,-1)})),ks=Os((function(){return Object(a["createElementVNode"])("h4",{class:"uk-text-light"},"Has Olvidado tu Contraseña",-1)})),Es=Os((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-muted",style:{"margin-bottom":"30px",display:"block"}},"Ingrese su número de teléfono móvil y la compañía a la que pertenece, para recuperar su contraseña. ",-1)})),Ss={class:"uk-margin uk-text-left"},xs=Os((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-emphasis",for:"email"},"Email / Teléfono",-1)})),ys={class:"uk-input uk-flex form-login",style:{"align-items":"center"}},Ns={class:"uk-margin uk-text-left"},Cs=Os((function(){return Object(a["createElementVNode"])("label",{class:"uk-text-emphasis",for:"companyData"},"Compañía de Trasporte",-1)})),ws=["disabled"],Vs={id:"recover-password","uk-modal":""},Ds={class:"uk-modal-dialog uk-modal-body"},Is=Os((function(){return Object(a["createElementVNode"])("h4",null,"Las Instrucciones han sido enviadas a tu WhatsApp",-1)})),Rs=Os((function(){return Object(a["createElementVNode"])("p",{style:{"font-size":"12px"}}," Por favor sigue las instrucciones que te enviamos y cambia tu contraseña. Una vez termines vuelve a loguearse con la nueva contraseña. ",-1)})),Bs={class:"uk-text-right uk-margin-small-top"};function As(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("BackButton"),l=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",gs,[Object(a["createVNode"])(i),Object(a["createElementVNode"])("form",hs,[js,ks,Es,Object(a["createElementVNode"])("div",Ss,[xs,Object(a["createElementVNode"])("div",ys,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"uk-form-width-medium",type:"text",placeholder:"ejemplo@email.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.accountRecovery.email=e}),required:""},null,512),[[a["vModelText"],o.accountRecovery.email]]),Object(a["createVNode"])(l,{icon:"envelope",style:{"font-size":"15px"}})])]),Object(a["createElementVNode"])("div",Ns,[Cs,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{id:"companyData",class:"uk-input form-login",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.accountRecovery.companyData=e}),required:"",placeholder:"Compañía de Trasporte"},null,512),[[a["vModelText"],o.accountRecovery.companyData]]),Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["uk-button uk-button-purple uk-width-1-1 uk-margin-small-bottom",{"disabled-button":!0===o.showMobile&&!0===o.showCompany||!1===o.showMobile&&!0===o.showCompany||!0===o.showMobile&&!1===o.showCompany}]),style:{margin:"25px 0px"},type:"button","uk-toggle":"target: #recover-password",disabled:!0===o.showMobile&&!0===o.showCompany||!1===o.showMobile&&!0===o.showCompany||!0===o.showMobile&&!1===o.showCompany}," Enviar ",10,ws)])]),Object(a["createElementVNode"])("div",Vs,[Object(a["createElementVNode"])("div",Ds,[Is,Rs,Object(a["createElementVNode"])("p",Bs,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-purple uk-modal-close",type:"button",onClick:t[2]||(t[2]=function(e){return c.returnSingIn()})}," OK ")])])])])}var Ls=function(e){return Object(a["pushScopeId"])("data-v-95bfd33e"),e=e(),Object(a["popScopeId"])(),e},Ts=Ls((function(){return Object(a["createElementVNode"])("strong",null,null,-1)}));function Qs(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[o.iconType?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,onClick:t[0]||(t[0]=function(e){return c.goBack()}),style:{"font-size":"20px",margin:"0px 10%"},icon:o.iconType},null,8,["icon"])):Object(a["createCommentVNode"])("",!0),Ts],64)}var Ms={name:"BackButton",data:function(){return{iconType:"arrow-left",action:"sign-in"}},watch:{$route:function(e){"home"==e.name?this.iconType=!1:"home"==e.name?this.iconType="home":this.iconType="arrow-left"}},methods:{goBack:function(){"recover-password"==this.$route.name||"home"==this.$route.name?this.$router.push({name:"sign-in"}):"load-status"==this.$route.name?this.$router.push({name:"home"}):this.$router.push({name:"load-status"})}}};n("5e9e");const Ps=F()(Ms,[["render",Qs],["__scopeId","data-v-95bfd33e"]]);var _s=Ps,qs={components:{BackButton:_s},data:function(){return{accountRecovery:{email:null,companyData:null},showCompany:!0,showMobile:!0}},watch:{"accountRecovery.email":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""===t&&(this.accountRecovery.email=null),this.showMobile=null===t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),"accountRecovery.companyData":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""===t&&t!==n&&(this.accountRecovery.companyData=null),null!==t&&t.length!==n?this.showCompany=!1:this.showCompany=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},methods:{returnSingIn:function(){this.$router.push({name:"sign-in"}).catch((function(){}))}}};n("c62e");const Fs=F()(qs,[["render",As],["__scopeId","data-v-77362cee"]]);var zs=Fs,$s=function(e){return Object(a["pushScopeId"])("data-v-7646b5a2"),e=e(),Object(a["popScopeId"])(),e},Us={class:"uk-flex uk-flex-column uk-flex-between uk-padding-small container-main"},Js={class:"uk-flex uk-flex-column uk-flex-between setting"},Ys={class:"config-container"},Gs={class:"item",for:"maps"},Hs=$s((function(){return Object(a["createElementVNode"])("h6",{class:"uk-margin-remove web-font-medium"},"Mostrar Ruta (Google Maps)",-1)})),Ks={for:"url",class:"uk-flex uk-flex-between url-section"},Ws=$s((function(){return Object(a["createElementVNode"])("h6",{class:"uk-margin-remove web-font-medium"},"Seleccione Url",-1)})),Xs={class:"select"},Zs=["value"],eu=["value"],tu={class:"btn"},nu=["disabled"],ru={class:"auth-section"},ou=$s((function(){return Object(a["createElementVNode"])("h6",{class:"uk-text-center web-font-medium"},"Solo Personal Autorizado",-1)})),au={class:"item uk-flex uk-flex-center",for:"maps"};function cu(e,t,n,r,o,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Us,[Object(a["createElementVNode"])("div",Js,[Object(a["createElementVNode"])("div",Ys,[Object(a["createElementVNode"])("label",Gs,[Hs,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox",id:"maps","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.settings.maps=e}),class:"checkBox"},null,512),[[a["vModelCheckbox"],o.settings.maps]])]),Object(a["createElementVNode"])("label",Ks,[Ws,Object(a["createElementVNode"])("div",Xs,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{id:"url",class:"uk-select web-font-small","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.settings.url=e})},[Object(a["createElementVNode"])("option",{value:o.urlEnum.preprod,selected:""},"Preprod Flai",8,Zs),Object(a["createElementVNode"])("option",{value:o.urlEnum.production},"Production Flai",8,eu)],512),[[a["vModelSelect"],o.settings.url]])])])]),Object(a["createElementVNode"])("div",tu,[Object(a["createElementVNode"])("button",{disabled:o.showButton,class:"uk-button uk-button-primary web-font-small",onClick:t[2]||(t[2]=function(e){return c.saveSettings()})},"Guardar Cambios",8,nu)])]),Object(a["createElementVNode"])("div",ru,[ou,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("label",au,[Object(a["createElementVNode"])("button",{class:"uk-button btn-red web-font-small",onClick:t[3]||(t[3]=function(e){return c.clearLocalStorage()})}," Borrar Informacion (Solo Personal Autorizado) ")])])])])}var iu={alias:"Configuraciòn",data:function(){return{urlEnum:Q,settingsLocalStore:null,showButton:!0,settings:{maps:!1,url:"https://production.flai.com.do/orchestrator"}}},mixins:[K,H],computed:Object(r["a"])({},Object(o["b"])(["settingsStore"])),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("setting"));case 2:e.settingsLocalStore=t.sent,null!==(n=e.settingsLocalStore)&&void 0!==n&&n.url&&e.$store.commit("setSettings",JSON.parse(localStorage.getItem("setting"))),e.settingsStore&&(e.settings=e.settingsStore),e.showButton=!0;case 6:case"end":return t.stop()}}),t)})))()},watch:{settings:{handler:function(e){var t,n;(null===e||void 0===e?void 0:e.url)!==(null===(t=this.settingsLocalStore)||void 0===t?void 0:t.url)||(null===e||void 0===e?void 0:e.maps)!==(null===(n=this.settingsLocalStore)||void 0===n?void 0:n.maps)?this.showButton=!1:this.showButton=!0},deep:!0}},methods:{saveSettings:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.showButton=!0,(null===(n=e.settings)||void 0===n?void 0:n.url)===(null===(r=e.settingsLocalStore)||void 0===r?void 0:r.url)){t.next=11;break}return t.next=4,e.$store.commit("setSettings",e.settings);case 4:return e.setUrl(),localStorage.removeItem("auth"),t.next=8,e.resetLocalStorage();case 8:e.$router.push({name:"sign-in"}),t.next=14;break;case 11:return t.next=13,e.$store.commit("setSettings",e.settings);case 13:e.$router.push({name:"home"});case 14:case"end":return t.stop()}}),t)})))()},clearLocalStorage:function(){this.clear(),localStorage.clear(),this.$router.push({name:"sign-in"})},setUrl:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("setting"));case 2:n=t.sent,e.$services.singInServices.setURL(n),e.$services.loadsServices.setURL(n),e.$services.loadsScanServices.setURL(n),e.$services.invoicesSevices.setURL(n),e.$services.deliverServices.setURL(n),e.$services.gpsServices.setURL(n),e.$services.driverVehicleAssignment.setURL(n),e.$services.exceptionServices.setURL(n);case 11:case"end":return t.stop()}}),t)})))()},resetLocalStorage:function(){localStorage.removeItem("auth"),localStorage.removeItem("allLoads"),localStorage.removeItem("userInfo"),localStorage.removeItem("loadType"),localStorage.removeItem("AllLoadS"),localStorage.removeItem("dateCheck"),localStorage.removeItem("currentProfile"),localStorage.removeItem("detailsException"),localStorage.removeItem("DeliveryCharges"),localStorage.removeItem("userInfo"),localStorage.removeItem("ordersDetails"),localStorage.removeItem("loglevel:webpack-dev-server")}}};n("8c84");const lu=F()(iu,[["render",cu],["__scopeId","data-v-7646b5a2"]]);var su=lu,uu=function(e){return Object(a["pushScopeId"])("data-v-2a1342a7"),e=e(),Object(a["popScopeId"])(),e},du={class:"uk-flex uk-flex-column cnt"},mu={class:"stiky"},pu={style:{"font-size":"13px !important","font-weight":"500"}},bu={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},vu={class:"uk-flex uk-flex-wrap"},fu={style:{"margin-right":"10px !important"}},Ou=uu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),gu=uu((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),hu=uu((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),ju={class:"uk-padding-small uk-width-1-2@m",style:{"margin-bottom":"50px!important"}},ku={class:"uk-text-left info-user uk-flex uk-flex-wrap"},Eu={class:"btn uk-flex"},Su={class:"uk-flex uk-flex-column uk-text-left"},xu={key:0,style:{display:"flex",position:"relative",top:"-4px",color:"green"}},yu=uu((function(){return Object(a["createElementVNode"])("strong",null,"Completado ",-1)})),Nu={class:"uk-width-1-1"},Cu=uu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),wu={style:{"margin-right":"10px !important"}},Vu=uu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),Du={class:""},Iu=uu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),Ru=uu((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),Bu={class:"uk-width-1-1"},Au=uu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Destino: ",-1)})),Lu=Object(a["createTextVNode"])(" "),Tu=uu((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Qu={class:"button-opt"};function Mu(e,t,n,r,o,c){var i,l,s=Object(a["resolveComponent"])("Loading"),u=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",du,[Object(a["createVNode"])(s,{class:"loading-position",active:o.loaded,color:"rgb(86, 76, 175)",loader:"spinner",width:100,"background-color":"rgba(252, 252, 252, 0.7)"},null,8,["active"]),Object(a["createElementVNode"])("div",mu,[Object(a["createElementVNode"])("p",pu,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",bu,[Object(a["createElementVNode"])("div",vu,[Object(a["createElementVNode"])("p",fu,[Ou,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(o.load)),1)]),gu,Object(a["createElementVNode"])("p",null,[hu,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=o.load)||void 0===l?void 0:l.firstOrdenInfo.sector),1)])])])]),Object(a["createElementVNode"])("div",ju,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e){var t;return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:null===e||void 0===e?void 0:e.completed}])},[Object(a["createElementVNode"])("div",ku,[Object(a["createElementVNode"])("div",Eu,[Object(a["createElementVNode"])("div",Su,[null!==e&&void 0!==e&&e.completed?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",xu,[yu,Object(a["createVNode"])(u,{icon:"check",style:{"font-size":"14px",margin:"3px"}})])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",Nu,[Cu,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.client_name),1)])])]),Object(a["createElementVNode"])("p",wu,[Vu,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("p",Du,[Iu,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===(t=e.products)||void 0===t?void 0:t.length),1),Ru]),Object(a["createElementVNode"])("p",Bu,[Au,Object(a["createVNode"])(u,{icon:"map-marker-alt"}),Lu,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.sector),1)])])],2)})),128))]),Tu,Object(a["createElementVNode"])("div",Qu,[Object(a["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(e){return c.uploadOrDownload(o.load)}),class:"uk-button uk-width-1-1 uk-button-blue"},Object(a["toDisplayString"])(c.messageStatusLoad),1)])])}var Pu={alias:"Montar Viaje",components:{Loading:Fn.a},data:function(){return{status:null,result:null,load:null,completed:"background-color: #2a307c !important",orders:null,loaded:!1,localStorageGps:new G["a"]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["loadStore","orderScan","loads","allLoadsStore","products"])),{},{productsBox:function(){var e,t;return 0!==(null===(e=this.products)||void 0===e?void 0:e.length)?null===(t=this.products[0])||void 0===t?void 0:t.quantity:null},messageStatusLoad:function(){var e,t=null===(e=this.orders)||void 0===e?void 0:e.some((function(e){return e.completed}));return t?"Desmontar Viaje":"Montar Viaje"}}),mounted:function(){this.localStorageGps.create(),this.loadStore&&(this.load=this.loadStore,this.orders=this.load.Orders.filter((function(e){return!e.isReturn})),0==this.orders.length&&(this.orders=this.load.Orders.filter((function(e){return e.isReturn})))),this.orderScan&&this.completedOrden(),this.orderObj()},methods:{orderObj:function(){var e;null===(e=this.orders)||void 0===e||e.sort((function(e){return 1==(null===e||void 0===e?void 0:e.completed)?1:-1}))},completedOrden:function(){var e=this;this.orders.forEach((function(t){var n;t.numberOfOrders==e.orderScan.numberOfOrders?t.completed=null===(n=e.orderScan)||void 0===n?void 0:n.completed:t.completed=!1}))},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e}));return null===n||void 0===n?void 0:n.name},firstOrderSector:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e}));return null===n||void 0===n?void 0:n.name},uploadOrDownload:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loaded=!0,t.localStorageGps.remove("gps ".concat(e.loadMapId)),n.next=4,t.setLoadTruck(e);case 4:return r=n.sent,n.next=7,t.$services.loadsScanServices.completeLoad(t.load.loadMapId,r);case 7:t.$router.push({name:"load-status"});case 8:case"end":return n.stop()}}),n)})))()},setLoadTruck:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0,o=0;case 2:if(!(o<e.Orders.length)){n.next=27;break}a=e.Orders[o],t.$store.commit("setloadStore",e),r+=a.no_of_boxes,c=0;case 7:if(!(c<a.products.length)){n.next=24;break}if(i=a.products[c],"no"!==i.scanOneByOne){n.next=14;break}return n.next=12,t.$services.loadsScanServices.scanProduct(a._id,i._id,i.loadScanningCounter,i.product._id,i.qrCode);case 12:n.next=21;break;case 14:l=0;case 15:if(!(l<=i.quantity)){n.next=21;break}return n.next=18,t.$services.loadsScanServices.scanProduct(a._id,i._id,i.loadScanningCounter,i.product._id,i.qrCode);case 18:l++,n.next=15;break;case 21:c++,n.next=7;break;case 24:o++,n.next=2;break;case 27:return n.abrupt("return",r);case 28:case"end":return n.stop()}}),n)})))()},setMap:function(){window.open("https://www.google.com/maps/dir/'18.475615,-69.957918'/'18.478645,-69.966486'")}}};n("28a1");const _u=F()(Pu,[["render",Mu],["__scopeId","data-v-2a1342a7"]]);var qu=_u,Fu=function(e){return Object(a["pushScopeId"])("data-v-54296f0c"),e=e(),Object(a["popScopeId"])(),e},zu={class:"stiky"},$u={style:{"font-size":"13px","font-weight":"500"},class:"web-font-small"},Uu={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},Ju={class:"uk-flex uk-flex-wrap web-font-small"},Yu={style:{"margin-right":"10px !important"}},Gu=Fu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),Hu=Fu((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Ku=Fu((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),Wu={class:"container-item"},Xu={key:0,class:"result-info"},Zu={class:"uk-list uk-list-divider",style:{"list-style":"none"}},ed={class:"uk-text-left info-user uk-flex uk-flex-wrap"},td={class:"btn uk-flex"},nd={class:"uk-flex uk-flex-column uk-text-left"},rd={class:"uk-width-1-1 web-font-small"},od=Fu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),ad={style:{"margin-right":"10px !important"},class:"web-font-small"},cd=Fu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),id={class:"web-font-small"},ld=Fu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),sd=Fu((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),ud={class:"uk-width-1-1 web-font-small"},dd=Fu((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Destino: ",-1)})),md={class:""},pd=["onClick"],bd=Fu((function(){return Object(a["createElementVNode"])("img",{src:Ko.a,class:"img-scan",alt:""},null,-1)})),vd=Fu((function(){return Object(a["createElementVNode"])("span",{style:{"white-space":"nowrap"}},"Ver Ruta",-1)})),fd=[bd,vd],Od={key:0,class:"uk-card uk-card-default uk-card-body uk-width-1 img-card"},gd={class:"uk-flex uk-flex-wrap img-scroll-8 summary-scroll"},hd={key:1,class:"uk-card uk-card-default uk-card-body uk-width-1 img-card"},jd={class:"uk-flex uk-flex-wrap img-scroll"},kd=["src"],Ed=["onClick"],Sd={key:1,class:"showCamera"},xd=["src"],yd={key:2,class:"cont-camera uk-flex-between uk-flex-wrap uk-card uk-card-default uk-card-hover uk-card-body",style:{"z-index":"0",padding:"4px 0px !important",border:"1px solid #ccc"}},Nd=Fu((function(){return Object(a["createElementVNode"])("label",{class:"uk-width-1-1 web-font-small",style:{margin:"0px 0px 10px","font-size":"14px"}},"Tomar las Fotos",-1)})),Cd={class:"img-div",style:{position:"relative"}},wd={class:"snapshot-div"},Vd={class:"button-div"},Dd={key:3},Id={key:4,class:"cont uk-card uk-card-default uk-card-hover uk-card-body",style:{"z-index":"0",padding:"4px 0px !important"}},Rd=Fu((function(){return Object(a["createElementVNode"])("h6",{style:{margin:"0px 0px 10px","font-size":"14px"}}," Click Para Tomar las Fotos y Firma ",-1)})),Bd={key:5,class:"cont-exception uk-card uk-card-default uk-card-hover uk-card-body"},Ad={class:"exception uk-padding-small web-font-small"},Ld=Object(a["createTextVNode"])(" Hubo Alguna Excepción? No "),Td={class:"onoffswitch"},Qd=["disabled"],Md=Fu((function(){return Object(a["createElementVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch"},null,-1)})),Pd=Object(a["createTextVNode"])(" Si ");function _d(e,t,n,r,o,c){var i,l,s,u,d=Object(a["resolveComponent"])("ion-loading"),m=Object(a["resolveComponent"])("font-awesome-icon"),p=Object(a["resolveComponent"])("invoice-summary"),b=Object(a["resolveComponent"])("camera"),v=Object(a["resolveComponent"])("timeline-action"),f=Object(a["resolveComponent"])("timeline");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["uk-flex uk-flex-column uk-flex-between",{backg:o.resultScan,backgroundBlack:o.cameraOn||o.image}])},[Object(a["createVNode"])(d,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeOut,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",zu,[Object(a["createElementVNode"])("p",$u,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",Uu,[Object(a["createElementVNode"])("div",Ju,[Object(a["createElementVNode"])("p",Yu,[Gu,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(o.load)),1)]),Hu,Object(a["createElementVNode"])("p",null,[Ku,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=o.load)||void 0===l||null===(s=l.firstOrdenInfo)||void 0===s?void 0:s.sector),1)])])])]),Object(a["createElementVNode"])("div",Wu,[o.cameraOn||o.image?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xu,[Object(a["createElementVNode"])("ul",Zu,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:null===e||void 0===e?void 0:e.completed}])},[Object(a["createElementVNode"])("div",ed,[Object(a["createElementVNode"])("div",td,[Object(a["createElementVNode"])("div",nd,[Object(a["createElementVNode"])("p",rd,[od,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.client_name),1)])])]),Object(a["createElementVNode"])("p",ad,[cd,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.order_num),1)]),Object(a["createElementVNode"])("p",id,[ld,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.no_of_boxes),1),sd]),Object(a["createElementVNode"])("p",ud,[dd,Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(m,{icon:"map-marker-alt"}),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.address),1)])])]),Object(a["createElementVNode"])("div",md,[Object(a["createElementVNode"])("div",{onClick:function(t){return c.setMap(e)},class:"uk-flex-column web-font-small",style:{"align-items":"center",display:"inline-flex"}},fd,8,pd)])],2)})),128)),e.invoiceDownloadStore.status&&e.invoiceDownloadStore.order==(null===(u=o.orderInformation)||void 0===u?void 0:u.order_num)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Od,[Object(a["createElementVNode"])("div",gd,[Object(a["createVNode"])(p)])])):Object(a["createCommentVNode"])("",!0),o.imagiElement.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hd,[Object(a["createElementVNode"])("div",jd,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.imagiElement,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e,class:"position-imagin"},[Object(a["createElementVNode"])("img",{class:"img-result",src:e,alt:"Red dot"},null,8,kd),Object(a["createElementVNode"])("img",{src:Xo.a,class:"icon-close",onClick:function(e){return c.deleteImage(t)},alt:""},null,8,Ed)])})),128))])])):Object(a["createCommentVNode"])("",!0)])])),o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Sd,[o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,icon:"times",class:"close",onClick:t[1]||(t[1]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("img",{class:"result-scan",src:o.image,alt:""},null,8,xd)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({showCamera:o.cameraOn,hideCamera:!o.cameraOn})},[o.cameraOn?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,icon:"times",class:"close",onClick:t[2]||(t[2]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(b,{class:"camera",resolution:{width:780,height:720},ref:"Camera"},null,512)],2),o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yd,[Nd,Object(a["createElementVNode"])("label",Cd,[Object(a["createVNode"])(m,{icon:"images"}),Object(a["createElementVNode"])("input",{type:"file",onChange:t[3]||(t[3]=function(e){return c.pickImage(e)}),id:"file-img",style:{position:"absolute",opacity:"0"}},null,32)]),Object(a["createElementVNode"])("div",wd,[Object(a["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(e){return c.snapshot()}),class:"take-photo"})]),Object(a["createElementVNode"])("div",Vd,[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])([{disabled:!o.image},"uk-button uk-button-blue web-font-small"]),onClick:t[5]||(t[5]=function(e){return c.setImage()})}," Aceptar ",2)])])):Object(a["createCommentVNode"])("",!0),o.cameraOn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Dd)):Object(a["createCommentVNode"])("",!0),o.cameraOn||o.image||!o.showSignaturform?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Id,[Rd,Object(a["createVNode"])(v,{step:o.step,exception:o.exception,resultScan:o.resultScan,imagiElement:o.imagiElement,showSignaturform:o.showSignaturform,onAction:t[6]||(t[6]=function(e){return c.getShow(e)}),onResetSign:t[7]||(t[7]=function(e){return c.resetSign()})},null,8,["step","exception","resultScan","imagiElement","showSignaturform"])])),o.cameraOn||o.image||o.showSignaturform?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Bd,[Object(a["createElementVNode"])("strong",Ad,[Ld,Object(a["createElementVNode"])("div",Td,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.exception=e}),name:"onoffswitch",class:Object(a["normalizeClass"])([{"checkbox-default":e.isChangeQuantityStore.exception},"onoffswitch-checkbox"]),id:"myonoffswitch",tabindex:"0",disabled:!0===e.isChangeQuantityStore.exception},null,10,Qd),[[a["vModelCheckbox"],o.exception]]),Md]),Pd]),Object(a["createVNode"])(f,{step:o.step,exception:o.exception,resultScan:o.resultScan,imagiElement:o.imagiElement,onAction:t[9]||(t[9]=function(e){return c.getShow(e)}),onResetSign:t[10]||(t[10]=function(e){return c.resetSign()})},null,8,["step","exception","resultScan","imagiElement"])]))])],2)}var qd=function(e){return Object(a["pushScopeId"])("data-v-60d91ce4"),e=e(),Object(a["popScopeId"])(),e},Fd={class:"container"},zd={key:0,class:"uk-padding-small"},$d={key:1,class:"uk-padding-small"},Ud={class:"uk-margin-small-top uk-flex uk-flex-right"},Jd={class:"progressbar"},Yd={class:"info active"},Gd=qd((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:gc.a,alt:"",srcset:""})],-1)})),Hd=qd((function(){return Object(a["createElementVNode"])("span",{style:{color:"#000"}},"Camara",-1)})),Kd={class:"info"},Wd=qd((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:Ec.a,alt:"",srcset:""})],-1)})),Xd=qd((function(){return Object(a["createElementVNode"])("span",{style:{color:"#000"}},"Firma",-1)})),Zd={class:"info"},em=qd((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:Kn.a,alt:"",srcset:""})],-1)})),tm=qd((function(){return Object(a["createElementVNode"])("span",null,"Guardar",-1)}));function nm(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("signature-action"),l=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Fd,["firm"===o.showSingnature?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zd,[Object(a["createElementVNode"])("img",{src:Xo.a,class:"icon-close",onClick:t[0]||(t[0]=function(e){return c.closeSingnature()})}),Object(a["createVNode"])(i,{onDigitalSignature:t[1]||(t[1]=function(e){return o.digitalFirm=e})})])):Object(a["createCommentVNode"])("",!0),o.showException&&n.exception?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$d,[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{class:"uk-textarea",rows:"3",placeholder:"Notas:","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.textException=e})},null,512),[[a["vModelText"],o.textException]]),Object(a["createElementVNode"])("div",Ud,[Object(a["createElementVNode"])("button",{type:"button",class:"uk-button uk-button-primary",onClick:t[3]||(t[3]=function(e){return c.setException()})}," Guardar ")])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("ul",Jd,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])(["stepTwo",{active:0!==n.imagiElement.length&&n.imagiElement.length>=1}]),onClick:t[4]||(t[4]=function(e){return c.getShow("camera")})},[Object(a["createElementVNode"])("div",Yd,[Object(a["createVNode"])(l,{icon:"check"})]),Gd,Hd,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:n.step<1})},null,2)],2),!1===n.showSignaturform?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:0,class:Object(a["normalizeClass"])(["stepThree",{"uk-disabled":2!==n.step,active:null!==o.digitalFirm}]),onClick:t[5]||(t[5]=function(e){return c.getShow("firm")})},[Object(a["createElementVNode"])("div",Kd,[Object(a["createVNode"])(l,{icon:"check"})]),Wd,Xd,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:n.step<2})},null,2)],2)):Object(a["createCommentVNode"])("",!0),!0===n.showSignaturform?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:Object(a["normalizeClass"])(["stepFour",{"uk-disabled":2!==n.step,active:null!==o.digitalFirm}]),onClick:t[6]||(t[6]=function(e){return c.getShow("save")})},[Object(a["createElementVNode"])("div",Zd,[Object(a["createVNode"])(l,{icon:"check"})]),em,tm,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({disabled:n.step<2})},null,2)],2)):Object(a["createCommentVNode"])("",!0)])])}var rm={components:{SignatureAction:ri},computed:Object(r["a"])({},Object(o["b"])(["loadStore"])),watch:{digitalFirm:{handler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!==t&&(this.showSingnature=null,this.$store.commit("setDigitalFirm",this.digitalFirm));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},exception:{handler:function(e){!1===e&&(this.textException=null)}}},props:{step:Number,exception:Boolean,imagiElement:Array,showSignaturform:Boolean},data:function(){return{textException:null,showException:null,showSingnature:null,digitalFirm:null}},methods:{getShow:function(e){this.$emit("action",e),"exception"===e&&(this.showException=!0),"firm"===e&&(this.showSingnature=e),"save"===e&&(this.digitalFirm=!0,this.$store.commit("setDigitalFirm",this.digitalFirm))},resetTextException:function(){P.a.modal("#modal-sections").hide(),this.textException=null},setException:function(){this.showException=!1,this.$store.commit("setTextException",this.textException)},closeSingnature:function(){this.showSingnature=null,this.$emit("resetSign",!1),this.digitalFirm=null}}};n("edc7");const om=F()(rm,[["render",nm],["__scopeId","data-v-60d91ce4"]]);var am=om,cm={name:"DeliveryActions",alias:"Realizar Entrega",components:{timeline:ci,timelineAction:am,IonLoading:Ct["a"],Camera:si.a,InvoiceSummary:ml},mixins:[sn],setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},data:function(){return{profile:T,show:null,orders:null,resultScan:null,cont:0,load:null,imagiElement:[],imagiToApi:[],step:1,exception:!1,firm:null,location:{latitude:null,longitude:null},timeOut:null,showSignaturform:!1,picture:null,camera:null,image:"",cameraOn:!1,orderInformation:null}},computed:Object(r["a"])({},Object(o["b"])(["orderScan","loadStore","exceptionStore","digitalFirmStore","causeExceptionsStore","settings","allLoadsStore","isChangeQuantityStore","invoicesIdStore","invoiceDownloadStore","causeExceptionsStore","structureToScan"])),beforeMount:function(){var e,t;null!==(e=this.loadStore)&&void 0!==e&&e.loadMapId?this.load=Object(r["a"])({},this.loadStore):(this.load=JSON.parse(localStorage.getItem("DeliveryCharges")),this.$store.commit("setloadStore",this.load));var n,o,a=this.loadStore;(this.loadStore&&this.$store.commit("setloadStore",a),(null===(t=this.load)||void 0===t?void 0:t.loadType)==(null===T||void 0===T?void 0:T.container))?this.orders=null===(n=this.load)||void 0===n?void 0:n.Orders:null!==(o=this.orderScan)&&void 0!==o&&o.length?this.orders=this.orderScan:(this.orders=JSON.parse(localStorage.getItem("scanOrder")),this.$store.commit("scanOrder",this.orders));this.$store.commit("scanOrder",this.orders)},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c,i,l,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.load.allowOrderChangesAtDelivery&&e.load.loadType==e.profile.container&&(l=null===(i=e.orders[0])||void 0===i?void 0:i.order_num,e.$store.commit("getOrdersToInvoicesId",l.split("").filter((function(e,t){return e>0||t>2})).join(""))),e.$store.commit("setExceptions",{note:null,type:null}),"/details-invoices"!=e.$router.options.history.state.back&&e.$store.commit("getChageQuantityToProduct",{exception:!1,changeQuantity:null,order_num:null}),e.$store.commit("setImagiElement",[]),e.camera=e.$refs.Camera,s=e.loadStore,e.loadStore&&e.$store.commit("setloadStore",s),e.load=Object(r["a"])({},e.loadStore),(null===(n=e.load)||void 0===n?void 0:n.loadType)==(null===T||void 0===T?void 0:T.container)?e.orders=null===(u=e.load)||void 0===u?void 0:u.Orders:e.orders=e.orderScan,e.$store.commit("scanOrder",e.orders),e.showSignaturform=!1,(null===(o=e.orderScan)||void 0===o?void 0:o.length)>1?e.$emit("setNameHeader","Entrega de Ordenes"):1==(null===(a=e.orderScan)||void 0===a?void 0:a.length)&&e.$emit("setNameHeader","Entrega de Orden No. ".concat(null===(d=e.orderScan[0])||void 0===d?void 0:d.numberOfOrders)),e.load.firstOrdenInfo=null===(c=e.load)||void 0===c?void 0:c.Orders[0],e.orderInformation=e.orders.find((function(e){return e.order_num})),e.isChangeQuantityStore.exception&&e.isChangeQuantityStore.order_num==e.orders[0].order_num?e.exception=e.isChangeQuantityStore.exception:localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))&&(e.exception=JSON.parse(localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))).exception,e.$store.commit("getChageQuantityToProduct",JSON.parse(localStorage.getItem("isChangeQuantity".concat(e.orderInformation.order_num))))),t.next=17,e.getLocation();case 17:case"end":return t.stop()}}),t)})))()},watch:{digitalFirmStore:{handler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,i,l,s,u,d,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===t){e.next=37;break}return this.firm=t,this.uploadOrDownload(this.orders),this.postImages(),n=JSON.parse(localStorage.getItem("ordersMissing".concat(this.load.loadMapId))),r=null===n||void 0===n?void 0:n.filter((function(e){var t;return null===(t=m.orderScan)||void 0===t?void 0:t.some((function(t){return t.order_num==e}))})),null===r||void 0===r||r.forEach((function(e){var t=null===n||void 0===n?void 0:n.findIndex((function(t){return t==e}));t>=0&&n.splice(t,1)})),localStorage.setItem("ordersMissing".concat(this.load.loadMapId),JSON.stringify(n)),o=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.next=11,o(5e3);case 11:return e.prev=11,e.next=14,this.$services.loadsServices.getLoadDetails(null===(a=this.load)||void 0===a?void 0:a.loadMapId);case 14:if(c=e.sent,i=[],c.Orders.forEach((function(e){i.push(e.products.every((function(e){return(null===e||void 0===e?void 0:e.loadScanningCounter)>=(null===e||void 0===e?void 0:e.quantity)})))})),l=JSON.parse(localStorage.getItem("allOrderScanned")),l?(l=[].concat(Object(mc["a"])(l),Object(mc["a"])(this.orders)),localStorage.setItem("allOrderScanned",JSON.stringify(l))):localStorage.setItem("allOrderScanned",JSON.stringify(this.orders)),0!=(null===n||void 0===n?void 0:n.length)&&c.loadType!=T.container){e.next=28;break}return localStorage.removeItem("ordersMissing".concat(this.load.loadMapId)),localStorage.setItem("sendInfo".concat(null===(s=this.load)||void 0===s?void 0:s.loadMapId),!0),localStorage.removeItem("allProducts".concat(null===(u=this.load)||void 0===u?void 0:u.loadMapId)),e.next=25,this.changeRouteLoads("Delivered",this.load);case 25:this.$router.push({name:"home"}),e.next=29;break;case 28:this.$router.push({name:"delivery-routes"});case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](11),localStorage.removeItem("allProducts".concat(null===(d=this.load)||void 0===d?void 0:d.loadMapId)),this.$router.push({name:"home"}).catch((function(){}));case 35:this.load.allowOrderChangesAtDelivery&&(localStorage.removeItem("isChangeQuantity".concat(this.orders[0].order_num)),this.confirmAndFinalizeCreationOfInvoices()),this.setOpen(!1);case 37:case"end":return e.stop()}}),e,this,[[11,31]])})));function t(t){return e.apply(this,arguments)}return t}()},$route:function(e){e&&this.stopScan()},imagiElement:{handler:function(e){0==e.length?this.$store.commit("setImagiElement",[]):this.$store.commit("setImagiElement",e)},deep:!0}},methods:{getLocation:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==(n=e.load)&&void 0!==n&&null!==(r=n.Vehicles[0])&&void 0!==r&&r.gpsProvider&&"Flai Mobile App"!=e.load.Vehicles[0].gpsProvider){t.next=14;break}return t.prev=1,t.next=4,X["a"].getCurrentPosition();case 4:o=t.sent,e.location.latitude=o.coords.latitude,e.location.longitude=o.coords.longitude,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:t.next=19;break;case 14:return t.next=16,e.$services.gpsProviderServices.getVehicleGpsId(e.load.Vehicles[0].gpsId);case 16:a=t.sent,e.location.latitude=null===a||void 0===a?void 0:a.lat,e.location.longitude=null===a||void 0===a?void 0:a.lng;case 19:case"end":return t.stop()}}),t,null,[[1,9]])})))()},checkPermissions:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].checkPermissions();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getShow:function(e){this.show=e,"scan"===e?this.uploadOrDownload():"camera"===e&&this.imagiElement.length<=6?this.getCam():"firm"===e&&(this.serieA=e,this.step++)},verificacion:function(e,t){for(var n=0;n<e.length;n++){var r;if((null===(r=n)||void 0===r?void 0:r.numberOfOrders)===t.content)return!0}},stopScan:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W["a"].showBackground();case 2:return e.next=4,W["a"].stopScan();case 4:case"end":return e.stop()}}),e)})))()},checkPermission:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W["a"].checkPermission({force:!0});case 2:if(t=e.sent,!t.granted){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))()},getCam:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cameraOn=!0,t.next=3,null===(n=e.camera)||void 0===n?void 0:n.start();case 3:case"end":return t.stop()}}),t)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},setMap:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getLocation();case 2:window.open("https://www.google.com/maps/dir/'".concat(t.location.latitude,",").concat(t.location.longitude,"'/").concat(e.latitude,",").concat(e.longitude,"/")),t.$store.commit("setStartRoute",!1);case 4:case"end":return n.stop()}}),n)})))()},postImages:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=0;r<e.orders.length;r++){for(o=e.orders[r],a=[],a.push.apply(a,Object(mc["a"])(e.imagiElement)),c=3,1===e.imagiElement.length?c=1:2===e.imagiElement.length&&(c=2),i=c;i<3;i++)a.push(e.imagiElement[0]);a.push(e.firm),e.$services.deliverServices.postImages(a,e.location.latitude,e.location.longitude,o._id)}if(null!==(n=e.causeExceptionsStore)&&void 0!==n&&n.note)for(l=0;l<e.orders.length;l++)s=e.orders[l],e.$services.exceptionServices.putExceptions(s._id,e.causeExceptionsStore);case 2:case"end":return t.stop()}}),t)})))()},uploadOrDownload:function(e){this.loadStore.allowOrderChangesAtDelivery?this.setLoadTruckInvoices(this.structureToScan.firstStructure):this.setLoadTruck(e)},setLoadTruck:function(e){this.timeOut=1e4,this.setOpen(!0);for(var t=0,n=e,r=0;r<n.length;r++){var o=n[r];t+=o.no_of_boxes;for(var a=0;a<o.products.length;a++){var c=o.products[a];try{if("no"===c.scanOneByOne)c.loadScanningCounter=c.quantity,this.$services.deliverServices.deliverProduct(o._id,c._id,c.loadScanningCounter,c.product,c.qrCode);else for(var i=0;i<=c.quantity;i++)c.loadScanningCounter=i,this.$services.deliverServices.deliverProduct(o._id,c._id,c.loadScanningCounter,c.product,c.qrCode)}catch(l){"Request failed with status code 401"===l.message?console.log("Error al introducir los datos"):"Network Error"===l.message&&console.log("Error de conexion, verifique que este conectado")}}}return t},setLoadTruckInvoices:function(e){var t=this;this.timeOut=1e4,this.setOpen(!0);for(var n=function(){var n=e[r],o=t.orders.find((function(e){return e.order_num===n.order_num})),a=o.products.find((function(e){return e.qrCode===n.qrCode&&e.name===n.name}));try{if("no"===n.scanOneByOne)n.loadScanningCounter=n.quantity,t.$services.deliverServices.deliverProduct(o._id,a._id,n.loadScanningCounter,a.product,n.qrCode);else for(var c=0;c<=n.quantity;c++)n.loadScanningCounter=c,t.$services.deliverServices.deliverProduct(o._id,a._id,n.loadScanningCounter,a.product,n.qrCode)}catch(i){"Request failed with status code 401"===i.message?console.log("Error al introducir los datos"):"Network Error"===i.message&&console.log("Error de conexion, verifique que este conectado")}},r=0;r<e.length;r++)n()},deleteImage:function(e){this.imagiElement.splice(e,1),0===this.imagiElement.length&&(this.step=1)},deleteInvoices:function(){var e={status:!1,order:null};this.$store.commit("getInvoiceDownload",e)},resetSign:function(){this.step=2},snapshot:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=3,null===(n=e.camera)||void 0===n?void 0:n.snapshot({width:780,height:720});case 3:return o=t.sent,a=new FileReader,a.readAsDataURL(o),a.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=a.result;case 1:case"end":return e.stop()}}),e)}))),t.next=9,r(1e3);case 9:e.image=c,e.cameraOn=!1;case 11:case"end":return t.stop()}}),t)})))()},setImage:function(){this.imagiElement.push(this.image),this.imagiElement.length>0&&(this.step=2),this.stopCamera()},stopCamera:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cameraOn=!1,e.image=null,t.next=4,null===(n=e.camera)||void 0===n?void 0:n.stop();case 4:case"end":return t.stop()}}),t)})))()},pickImage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.files[0],o=new FileReader,o.readAsDataURL(r),o.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=o.result;case 1:case"end":return e.stop()}}),e)}))),c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.next=7,c(1e3);case 7:t.cameraOn=!1,t.image=a;case 9:case"end":return n.stop()}}),n)})))()},confirmAndFinalizeCreationOfInvoices:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.a.post("https://jabiyaerp.flai.com.do/api/order/".concat(e.invoicesIdStore,"/post"),{withCredentials:!0});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}};n("c6e0");const im=F()(cm,[["render",_d],["__scopeId","data-v-54296f0c"]]);var lm=im,sm=function(e){return Object(a["pushScopeId"])("data-v-dfccf5b8"),e=e(),Object(a["popScopeId"])(),e},um={class:"uk-flex uk-flex-column cnt"},dm={class:"stiky"},mm={class:"web-font-small",style:{"font-size":"13px","font-weight":"500"}},pm={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},bm={class:"uk-flex uk-flex-wrap web-font-small"},vm={style:{"margin-right":"10px !important"}},fm=sm((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),Om=sm((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),gm={class:"web-font-small"},hm=sm((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),jm={class:"uk-card uk-card-default uk-width-1-2@m container-main"},km={class:"uk-card uk-card-default uk-card-body container-info",style:{}},Em=sm((function(){return Object(a["createElementVNode"])("h6",{class:"uk-text-center web-font-medium",style:{width:"100%"}},"Detalles del Viaje",-1)})),Sm={class:"uk-margin-top uk-text-left info-user-client"},xm={key:0,class:"uk-flex uk-flex-middle web-font-small"},ym=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Ingreso: ",-1)})),Nm={key:1,class:"uk-flex uk-flex-middle web-font-small"},Cm={class:"uk-text-bold"},wm={key:2,class:"uk-flex uk-flex-middle web-font-small"},Vm=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Rentabilidad: ",-1)})),Dm={class:"uk-flex uk-flex-middle web-font-small"},Im=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Estado del Viaje: ",-1)})),Rm={key:0},Bm={class:"uk-flex uk-flex-middle web-font-small"},Am=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Cliente: ",-1)})),Lm={class:"uk-flex uk-flex-middle web-font-small"},Tm=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Orden: ",-1)})),Qm={class:"uk-flex uk-flex-middle web-font-small"},Mm=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Recogida: ",-1)})),Pm={key:1,class:"uk-flex uk-flex-middle web-font-small"},_m=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Entrega: ",-1)})),qm={class:"uk-flex uk-flex-middle web-font-small"},Fm=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Chofer: ",-1)})),zm={class:"uk-flex uk-flex-middle info-driver web-font-small"},$m=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold position-text"},"Vehiculo: ",-1)})),Um={class:"uk-flex uk-flex-between info-user-address"},Jm={key:0,class:"uk-text-left uk-flex uk-flex-between info-user"},Ym={class:"web-font-small"},Gm=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Recoger en:",-1)})),Hm={class:"web-font-small"},Km=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Entregar en:",-1)})),Wm=sm((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Xm={key:0,class:"address-container"},Zm={class:"font-weight-medium uk-margin-top web-font-small",style:{"font-size":"14px",margin:"15px 0px",width:"100%"}},ep={class:"uk-text-left uk-flex uk-flex-wrap web-font-small"},tp={class:"uk-width-1-1",style:{"margin-right":"10px !important"}},np=sm((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cliente: ",-1)})),rp={class:"uk-flex uk-flex-middle uk-width-1-1 web-font-small"},op=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Entrega: ",-1)})),ap={style:{"margin-right":"10px !important"},class:"web-font-small"},cp=sm((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium uk-wi"},"Orden: ",-1)})),ip={class:"web-font-small"},lp=sm((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),sp=sm((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),up={class:"uk-text-left info-user"},dp={class:"web-font-small"},mp=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Warehouse:",-1)})),pp={class:"web-font-small"},bp=sm((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Entregar en:",-1)})),vp={id:"modal-center",class:"uk-flex-top","uk-modal":""},fp={class:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical",style:{padding:"40px 10px 5px !important"}},Op=sm((function(){return Object(a["createElementVNode"])("button",{class:"uk-modal-close-default",type:"button","uk-close":""},null,-1)})),gp=sm((function(){return Object(a["createElementVNode"])("h5",{class:"uk-text-center",style:{padding:"20px 0px"}}," Esta Seguro Que Deseea Rechazar Este Viaje? ",-1)})),hp={class:"uk-modal-footer uk-flex uk-flex-around uk-padding-remove",style:{padding:"10px 0px !important"}},jp=sm((function(){return Object(a["createElementVNode"])("button",{class:"uk-button uk-button-transparent uk-modal-close web-font-small",type:"button"}," Cancelar ",-1)})),kp={class:"button-opt"},Ep=sm((function(){return Object(a["createElementVNode"])("a",{href:"#modal-center uk-button","uk-toggle":"",class:"uk-button uk-button-red web-font-small"},"Rechazar Viaje  ",-1)}));function Sp(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w,V,D,I,R,B,A,L,T,Q,M,P,_,q,F,z,$,U,J,Y,G,H,K,W,X,Z,ee,te,ne,re,oe,ae,ce,ie,le,se,ue,de=Object(a["resolveComponent"])("ion-loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(de,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",um,[Object(a["createElementVNode"])("div",dm,[Object(a["createElementVNode"])("p",mm,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",pm,[Object(a["createElementVNode"])("div",bm,[Object(a["createElementVNode"])("p",vm,[fm,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(o.load)),1)]),Om,Object(a["createElementVNode"])("p",gm,[hm,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=o.load)||void 0===l||null===(s=l.firstOrdenInfo)||void 0===s?void 0:s.sector),1)])])])]),Object(a["createElementVNode"])("div",jm,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",km,[Em,Object(a["createElementVNode"])("div",Sm,[Object(a["createElementVNode"])("div",null,[(null===(u=e.userData)||void 0===u?void 0:u.userType)==(null===(d=o.userType)||void 0===d?void 0:d.provider)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xm,[ym,Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.setRound((null===(m=o.load)||void 0===m||null===(p=m.plannedProfitability)||void 0===p||null===(b=p.profitability)||void 0===b?void 0:b.revenue)*(null===(v=o.load)||void 0===v||null===(f=v.currencyExchange)||void 0===f?void 0:f.atTheTimeOfAssigning))),1)])):Object(a["createCommentVNode"])("",!0),(null===(O=e.userData)||void 0===O?void 0:O.userType)!==(null===(g=o.userType)||void 0===g?void 0:g.driver)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Nm,[Object(a["createElementVNode"])("p",Cm,Object(a["toDisplayString"])(o.costText)+": ",1),Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.setRound((null===(h=o.load)||void 0===h||null===(j=h.plannedProfitability)||void 0===j||null===(k=j.profitability)||void 0===k?void 0:k.transportCost)*(null===(E=o.load)||void 0===E||null===(S=E.currencyExchange)||void 0===S?void 0:S.atTheTimeOfAssigning))),1)])):Object(a["createCommentVNode"])("",!0),(null===(x=e.userData)||void 0===x?void 0:x.userType)==(null===(y=o.userType)||void 0===y?void 0:y.provider)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",wm,[Vm,Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.setRound((null===(N=o.load)||void 0===N||null===(C=N.plannedProfitability)||void 0===C||null===(w=C.profitability)||void 0===w?void 0:w.profitability)*(null===(V=o.load)||void 0===V||null===(D=V.currencyExchange)||void 0===D?void 0:D.atTheTimeOfAssigning))),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",Dm,[Im,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.loadStatus(o.load)),1)]),(null===(I=o.load)||void 0===I?void 0:I.loadType)==o.profile.container?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Rm,[Object(a["createElementVNode"])("div",Bm,[Am,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.load.Orders[0].client_name),1)]),Object(a["createElementVNode"])("div",Lm,[Tm,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(R=o.load)||void 0===R||null===(B=R.Orders[0])||void 0===B?void 0:B.order_num),1)])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Qm,[Mm,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(A=o.load)||void 0===A||null===(L=A.dateTime)||void 0===L?void 0:L.date)+" "+Object(a["toDisplayString"])(c.setLocaleDate(null===(T=e.detailsLoads)||void 0===T||null===(Q=T.loadingStatus)||void 0===Q?void 0:Q.slotStartTime)),1)]),(null===(M=o.load)||void 0===M?void 0:M.loadType)==(null===(P=o.profile)||void 0===P?void 0:P.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pm,[_m,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.setDateFormat(null===(_=o.load)||void 0===_||null===(q=_.Orders[0])||void 0===q?void 0:q.expected_date))+" "+Object(a["toDisplayString"])(c.setLocaleHour(null===(F=o.load)||void 0===F||null===(z=F.Orders[0])||void 0===z?void 0:z.expected_date)),1)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",qm,[Fm,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===($=o.load)||void 0===$?void 0:$.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.driver),1)})),128))]),Object(a["createElementVNode"])("div",zm,[$m,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(U=o.load)||void 0===U?void 0:U.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.brand)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.model)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.color)+", Placa: "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.license_no),1)})),128))])]),Object(a["createElementVNode"])("div",Um,[(null===(J=o.load)||void 0===J?void 0:J.loadType)==(null===(Y=o.profile)||void 0===Y?void 0:Y.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Jm,[Object(a["createElementVNode"])("div",Ym,[Gm,Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(G=o.load)||void 0===G?void 0:G.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(H=o.load)||void 0===H||null===(K=H.warehouse)||void 0===K||null===(W=K.location)||void 0===W?void 0:W.address),1)]),Object(a["createElementVNode"])("div",Hm,[Km,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(X=o.load)||void 0===X||null===(Z=X.firstOrdenInfo)||void 0===Z?void 0:Z.client_name),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(ee=o.load)||void 0===ee||null===(te=ee.firstOrdenInfo)||void 0===te?void 0:te.address),1)])])):Object(a["createCommentVNode"])("",!0)]),Wm,(null===(ne=o.load)||void 0===ne?void 0:ne.loadType)==(null===(re=o.profile)||void 0===re?void 0:re.b2b)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xm,[Object(a["createElementVNode"])("h6",Zm,"Número de Ordenes: "+Object(a["toDisplayString"])(null===(oe=o.orders)||void 0===oe?void 0:oe.length),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e,t){var n,r,i,l,s,u,d,m,p;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card order-item uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:null===e||void 0===e?void 0:e.completed}])},[Object(a["createElementVNode"])("div",ep,[Object(a["createElementVNode"])("p",tp,[np,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.client_name),1)]),Object(a["createElementVNode"])("div",rp,[op,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.setDateFormat(e.expected_date))+"  ",1),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.setLocaleHour(e.expected_date)),1)]),Object(a["createElementVNode"])("p",ap,[cp,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("p",ip,[lp,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===(n=e.products)||void 0===n?void 0:n.length),1),sp]),Object(a["createElementVNode"])("div",up,[Object(a["createElementVNode"])("div",dp,[mp,Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(r=o.load)||void 0===r?void 0:r.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i||null===(l=i.warehouse)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.address),1)]),Object(a["createElementVNode"])("div",pp,[bp,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(u=o.load)||void 0===u||null===(d=u.firstOrdenInfo)||void 0===d?void 0:d.client_name),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(m=o.load)||void 0===m||null===(p=m.firstOrdenInfo)||void 0===p?void 0:p.address),1)])])])],2)),[[a["vShow"],t<o.quantityShow]])})),128))])):Object(a["createCommentVNode"])("",!0),(null===(ae=o.orders)||void 0===ae?void 0:ae.length)>o.quantityShow&&(null===(ce=o.load)||void 0===ce?void 0:ce.loadType)==(null===(ie=o.profile)||void 0===ie?void 0:ie.b2b)&&o.showOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,style:{"font-size":"16px","font-weight":"900"},onClick:t[1]||(t[1]=function(e){return c.setShowOrders(!1,o.orders.length)})},".....Ver Más")):Object(a["createCommentVNode"])("",!0),(null===(le=o.orders)||void 0===le?void 0:le.length)>=o.quantityShow&&(null===(se=o.load)||void 0===se?void 0:se.loadType)==(null===(ue=o.profile)||void 0===ue?void 0:ue.b2b)&&!1===o.showOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:2,style:{"font-size":"16px","font-weight":"900"},onClick:t[2]||(t[2]=function(e){return c.setShowOrders(!0,3)})},".....Ver Menos")):Object(a["createCommentVNode"])("",!0)])])]),Object(a["createElementVNode"])("div",vp,[Object(a["createElementVNode"])("div",fp,[Op,gp,Object(a["createElementVNode"])("div",hp,[jp,Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])([{disabled:o.disabled},"uk-button button-reject uk-modal-close web-font-small"]),href:"#modal-group-1",onClick:t[3]||(t[3]=function(e){return c.acceptOrRejectLoad(o.load.loadMapId,o.load.__v,"REJECTED",o.load.loadForeignkeys.vehicleId)}),"uk-toggle":""}," Rechazar ",2)])])]),Object(a["createElementVNode"])("div",kp,[Ep,Object(a["createElementVNode"])("button",{onClick:t[4]||(t[4]=function(e){var t,n;return c.acceptOrRejectLoad(null===(t=o.load)||void 0===t?void 0:t.loadMapId,null===(n=o.load)||void 0===n?void 0:n.__v,"ACCEPTED",o.load.loadForeignkeys.vehicleId)}),class:Object(a["normalizeClass"])(["uk-button uk-button-blue web-font-small",{disabled:o.disabled}])}," Aceptar Viaje   ",2)])])],64)}n("b680");var xp={alias:"Aprobar Viaje",components:{IonLoading:Ct["a"]},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},data:function(){return{userType:A,userPosition:L,profile:T,costText:null,status:null,result:null,load:null,orders:null,userInfo:{},disabled:!1,timeout:1e4,showOrders:!0,quantityShow:3}},mixins:[sn],computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["loadStore","orderScan","loads","products","userData"])),{},{productsBox:function(){var e,t;return 0!==(null===(e=this.products)||void 0===e?void 0:e.length)?null===(t=this.products[0])||void 0===t?void 0:t.quantity:null},messageStatusLoad:function(){var e,t=null===(e=this.orders)||void 0===e?void 0:e.some((function(e){return e.completed}));return t?"Desmontar Viaje":"Montar Viaje"}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("userInfo"));case 2:e.userInfo=t.sent,e.loadStore||e.$store.commit("setloadStore",JSON.parse(localStorage.getItem("currentLoad"))),e.load=e.loadStore,e.orders=e.loadStore.Orders,e.load.firstOrdenInfo=e.orders[0],e.orderScan&&e.completedOrden(),e.orderObj(),"Transporter"===e.userInfo.userType?e.costText="Ingreso por el Viaje":"Provider"===e.userInfo.userType&&(e.costText="Costo de Transporte");case 10:case"end":return t.stop()}}),t)})))()},methods:{orderObj:function(){var e;null===(e=this.orders)||void 0===e||e.sort((function(e){return 1==(null===e||void 0===e?void 0:e.completed)?1:-1}))},uploadOrDownload:function(){this.orders.map((function(e){return e.completed=!e.completed}))},completedOrden:function(){var e=this;this.orders.forEach((function(t){var n;t.numberOfOrders==e.orderScan.numberOfOrders?t.completed=null===(n=e.orderScan)||void 0===n?void 0:n.completed:t.completed=!1}))},acceptOrRejectLoad:function(e,t,n,r){var o=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var c,i,l,s,u,d,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o.setOpen(!0),o.disabled=!0,a.next=4,o.$services.loadsServices.getLoadDetails(null===(c=o.load)||void 0===c?void 0:c.loadMapId);case 4:return s=a.sent,l=s.approvers[0].status?s.Vehicles.find((function(e){return e})).driver_id._id:null===s||void 0===s||null===(u=s.approvers[0])||void 0===u||null===(d=u.approver_id)||void 0===d?void 0:d._id,localStorage.setItem("loadInProgress",JSON.stringify(s.loadMapId)),localStorage.setItem("dateCheck",null===s||void 0===s||null===(i=s.dateTime)||void 0===i?void 0:i.date),a.next=10,o.$services.loadsServices.acceptOrRejectLoad(e,t,l,n,o.userInfo.userType,r);case 10:m=a.sent,o.setOpen(!1),m&&("REJECTED"==n?o.$router.push({name:"home"}):o.$router.push({name:"load-status"}));case 13:case"end":return a.stop()}}),a)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper[0])||void 0===t?void 0:t.name;return n},setRound:function(e){return e.toFixed(2)},setLocaleDate:function(e){return Vt()(e).format("LT")},setDateFormat:function(e){return Vt()(e).format("MM/DD/YYYY")},setLocaleHour:function(e){var t=Vt()(e).utc().format("YYYY-MM-DD HH:mm");return Vt()(t).format("hh:mm A")},setShowOrders:function(e,t){this.showOrders=e,this.quantityShow=t}}};n("97d3");const yp=F()(xp,[["render",Sp],["__scopeId","data-v-dfccf5b8"]]);var Np=yp,Cp=n("0edd"),wp=n.n(Cp),Vp=function(e){return Object(a["pushScopeId"])("data-v-2a6f27e4"),e=e(),Object(a["popScopeId"])(),e},Dp={class:"stiky"},Ip={style:{"font-size":"13px","font-weight":"500"},class:"web-font-small"},Rp={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},Bp={class:"uk-flex uk-flex-wrap web-font-small"},Ap={style:{"margin-right":"10px !important"}},Lp=Vp((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),Tp=Vp((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Qp=Vp((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),Mp={class:"container"},Pp=Vp((function(){return Object(a["createElementVNode"])("h6",{class:"web-font-medium"},"Seleccione el Siguiente Paso",-1)})),_p={class:"progressbar"},qp=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"0")],-1)})),Fp={class:"web-font-small"},zp={class:"icon-item"},$p={key:1,src:wp.a},Up={key:2,src:Kn.a},Jp=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)})),Yp=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"1")],-1)})),Gp={class:"web-font-small"},Hp={class:"icon-item"},Kp={key:1,src:wp.a},Wp={key:2,src:Kn.a},Xp=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)})),Zp=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"2")],-1)})),eb={class:"web-font-small"},tb={class:"icon-item"},nb={key:1,src:wp.a},rb={key:2,src:Kn.a},ob=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)})),ab=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"3")],-1)})),cb={class:"web-font-small"},ib={class:"icon-item"},lb={key:1,src:wp.a},sb={key:2,src:Kn.a},ub=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)})),db=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"4")],-1)})),mb={class:"web-font-small"},pb={class:"icon-item"},bb={key:0,class:""},vb={key:1,src:wp.a},fb={key:1,class:""},Ob={key:1,src:wp.a},gb={key:2,src:Kn.a},hb=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)})),jb=Vp((function(){return Object(a["createElementVNode"])("div",{class:"info web-font-small"},[Object(a["createElementVNode"])("span",null,"5")],-1)})),kb={class:"web-font-small"},Eb={class:"icon-item"},Sb={key:1,src:wp.a},xb={key:2,src:Kn.a},yb=Vp((function(){return Object(a["createElementVNode"])("div",{class:"disabled-container"},null,-1)}));function Nb(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y=Object(a["resolveComponent"])("font-awesome-icon"),N=Object(a["resolveComponent"])("ion-alert-controller");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",Dp,[Object(a["createElementVNode"])("p",Ip,Object(a["toDisplayString"])(null===(i=e.loadStore)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",Rp,[Object(a["createElementVNode"])("div",Bp,[Object(a["createElementVNode"])("p",Ap,[Lp,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(e.loadStore)),1)]),Tp,Object(a["createElementVNode"])("p",null,[Qp,Object(a["createElementVNode"])("span",null," "+Object(a["toDisplayString"])(null===(l=e.loadStore)||void 0===l||null===(s=l.Orders[0])||void 0===s?void 0:s.sector),1)])])])]),Object(a["createElementVNode"])("div",Mp,[Pp,Object(a["createElementVNode"])("ul",_p,[(null===(u=o.userInfo)||void 0===u?void 0:u.userType)==(null===(d=o.userType)||void 0===d?void 0:d.provider)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:0,class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.expectingApprovalProvider,"completed-status":c.loadStatus.step>o.step.expectingApprovalProvider})},[qp,Object(a["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(e){return c.changeRoute("Expecting Approval")}),class:"uk-card action uk-card-default uk-card-body uk-width-1-2@m item"},[Object(a["createElementVNode"])("h6",Fp,Object(a["toDisplayString"])(null===(m=c.messageStatus)||void 0===m||null===(p=m.expectingApprovalProvider)||void 0===p?void 0:p.message),1)]),Object(a["createElementVNode"])("div",zp,[c.loadStatus.step==o.step.expectingApprovalProvider?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[1]||(t[1]=function(e){return c.changeRoute("Expecting Approval")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.expectingApprovalProvider?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",$p)):Object(a["createCommentVNode"])("",!0),c.loadStatus.step>o.step.expectingApprovalProvider?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",Up)):Object(a["createCommentVNode"])("",!0)]),Jp],2)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.expectingApproval,"completed-status":c.loadStatus.step>o.step.expectingApproval})},[Yp,Object(a["createElementVNode"])("div",{onClick:t[2]||(t[2]=function(e){return c.changeRoute("Expecting Approval")}),class:"uk-card action uk-card-default uk-card-body uk-width-1-2@m item"},[Object(a["createElementVNode"])("h6",Gp,Object(a["toDisplayString"])(null===(b=c.messageStatus)||void 0===b||null===(v=b.expectingApproval)||void 0===v?void 0:v.message),1)]),Object(a["createElementVNode"])("div",Hp,[c.loadStatus.step==o.step.expectingApproval?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[3]||(t[3]=function(e){return c.changeRoute("Expecting Approval")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.expectingApproval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",Kp)):Object(a["createCommentVNode"])("",!0),c.loadStatus.step>o.step.expectingApproval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",Wp)):Object(a["createCommentVNode"])("",!0)]),Xp],2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.driverArrival,"completed-status":c.loadStatus.step>o.step.driverArrival})},[Zp,Object(a["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(e){return c.changeRoute("Driver Arrival")}),class:"uk-card action uk-card-default uk-card-body uk-width-1-2@m item"},[Object(a["createElementVNode"])("h6",eb,Object(a["toDisplayString"])(null===(f=c.messageStatus)||void 0===f||null===(O=f.driverArrival)||void 0===O?void 0:O.message),1)]),Object(a["createElementVNode"])("div",tb,[c.loadStatus.step==o.step.driverArrival?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[5]||(t[5]=function(e){return c.changeRoute("Driver Arrival")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.driverArrival?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",nb)):Object(a["createCommentVNode"])("",!0),c.loadStatus.step>o.step.driverArrival?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",rb)):Object(a["createCommentVNode"])("",!0)]),ob],2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.approved,"completed-status":c.loadStatus.step>o.step.approved})},[ab,Object(a["createElementVNode"])("div",{onClick:t[6]||(t[6]=function(e){return c.changeRoute("Approved")}),class:Object(a["normalizeClass"])([{"disabled-event":o.isMountProduct},"uk-card action uk-card-default uk-card-body uk-width-1-2@m item"])},[Object(a["createElementVNode"])("h6",cb,Object(a["toDisplayString"])(null===(g=c.messageStatus)||void 0===g||null===(h=g.approved)||void 0===h?void 0:h.message),1)],2),Object(a["createElementVNode"])("div",ib,[c.loadStatus.step==o.step.approved?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[7]||(t[7]=function(e){return c.changeRoute("Approved")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.approved?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",lb)):Object(a["createCommentVNode"])("",!0),c.loadStatus.step>o.step.approved?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",sb)):Object(a["createCommentVNode"])("",!0)]),ub],2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.truckLoaded&&!o.sendingInfo,"completed-status":c.loadStatus.step>o.step.truckLoaded})},[db,Object(a["createElementVNode"])("div",{onClick:t[8]||(t[8]=function(e){return c.changeRoute("Dispatched")}),class:"uk-card action on-way uk-card-default uk-card-body uk-width-1-2@m item"},[Object(a["createElementVNode"])("h6",mb,Object(a["toDisplayString"])(null===(j=c.messageStatus)||void 0===j||null===(k=j.startRoute)||void 0===k?void 0:k.message),1)]),Object(a["createElementVNode"])("div",pb,[o.setting.maps?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",bb,[c.loadStatus.step>=o.step.truckLoaded?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[9]||(t[9]=function(e){return c.changeRoute("Dispatched")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.truckLoaded?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",vb)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),o.setting.maps?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",fb,[c.loadStatus.step==o.step.truckLoaded?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[10]||(t[10]=function(e){return c.changeRoute("Dispatched")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.truckLoaded?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",Ob)):Object(a["createCommentVNode"])("",!0),(null===(E=o.setting)||void 0===E||!E.maps)&&c.loadStatus.step>o.step.truckLoaded?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",gb)):Object(a["createCommentVNode"])("",!0)]))]),hb],2),o.allOrderIsReturn?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:Object(a["normalizeClass"])({active:c.loadStatus.step==o.step.delivered&&!o.sendingInfo,"completed-status":c.loadStatus.step>o.step.delivered})},[jb,Object(a["createElementVNode"])("div",{onClick:t[11]||(t[11]=function(e){return c.changeRoute("Deliver-Load")}),class:"uk-card action uk-card-default uk-card-body uk-width-1-2@m item"},[Object(a["createElementVNode"])("h6",kb,Object(a["toDisplayString"])(null===(S=c.messageStatus)||void 0===S||null===(x=S.delivered)||void 0===x?void 0:x.message),1)]),Object(a["createElementVNode"])("div",Eb,[c.loadStatus.step==o.step.delivered?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,class:"icon",onClick:t[12]||(t[12]=function(e){return c.changeRoute("Deliver-Load")}),icon:"arrow-right"})):Object(a["createCommentVNode"])("",!0),c.loadStatus.step<o.step.delivered?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",Sb)):Object(a["createCommentVNode"])("",!0),c.loadStatus.step>o.step.delivered?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",xb)):Object(a["createCommentVNode"])("",!0)]),yb],2))])]),Object(a["createVNode"])(N)])}var Cb={alias:"Manejo de Viaje",data:function(){return{userType:A,userPosition:L,profile:T,step:{expectingApprovalProvider:0,expectingApproval:1,driverArrival:2,approved:3,truckLoaded:4,delivered:5,returnContainer:5},isReturnOrder:!1,statusDelivered:!1,load:[],loadStartRoute:null,LoadReturn:null,allOrderIsReturn:null,setting:{},userInfo:{},startRouteStorage:!1,deliverStorage:!1,uploadStorage:!1,isMountProduct:!1,sendingInfo:!1}},mixins:[sn,K],computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["loadStore","startRoute","userData"])),{},{loadStatus:function(){for(var e,t,n,r,o=0,a=null===(e=this.load)||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text,c=this.userInfo.userType,i=0;i<(null===(l=this.load)||void 0===l||null===(s=l.approvers)||void 0===s?void 0:s.length);i++){var l,s,u,d,m,p;0==i?n=null===(u=this.load)||void 0===u||null===(d=u.approvers[i])||void 0===d?void 0:d.status:r=null===(m=this.load)||void 0===m||null===(p=m.approvers[i])||void 0===p?void 0:p.status}"Expecting Approval"!=a||n||c!=this.userType.provider||(o=0),"Expecting Approval"==a&&"REJECT"==n&&c==this.userType.provider&&(o=0),"Reject by Admin"==a&&"REJECT"==n&&c==this.userType.provider&&(o=0),"Expecting Approval"==a&&"ACCEPTED"==n&&c==this.userType.provider&&(o=1),"ACCEPTED"!=n||r||"Expecting Approval"!=a||(o=1),"ACCEPTED"==n&&"REJECT"==r&&"Expecting Approval"==a&&(o=1),"ACCEPTED"==n&&"REJECT"==r&&"Reject by Driver"==a&&(o=1),"ACCEPTED"==n&&"ACCEPTED"==r&&"Expecting Approval"==a&&(o=2),"Approved"==a&&(o=2),"Driver Arrival"==a&&(o=3),"Loading Truck"==a&&(o=3),"Dispatched"==a&&(o=4),4!=o||"Dispatched"!=a||this.startRouteStorage||(o=4),4==o&&"Dispatched"==a&&this.startRouteStorage&&(o=5),5==o&&"Dispatched"==a&&this.startRouteStorage&&!this.deliverStorage&&(o=5),5==o&&"Dispatched"==a&&this.startRouteStorage&&this.deliverStorage&&(o=6),"Delivered"==a&&(o=6);var b={step:o};return b},messageStatus:function(){var e,t,n,r,o,a,c,i,l=null===(e=JSON.parse(localStorage.getItem("currentProfile")))||void 0===e?void 0:e.LoadStatus;(this.loadStatus.step>0&&(l.expectingApprovalProvider.message=null===l||void 0===l||null===(t=l.expectingApprovalProvider)||void 0===t?void 0:t.pastMessage),this.loadStatus.step>1&&(l.expectingApproval.message=null===l||void 0===l||null===(n=l.expectingApproval)||void 0===n?void 0:n.pastMessage),this.loadStatus.step>2&&(l.driverArrival.message=null===l||void 0===l||null===(r=l.driverArrival)||void 0===r?void 0:r.pastMessage),this.loadStatus.step>3&&(l.approved.message=null===l||void 0===l||null===(o=l.approved)||void 0===o?void 0:o.pastMessage),this.loadStatus.step>4)&&(this.setting.maps?l.startRoute.message=null===l||void 0===l||null===(i=l.startRoute)||void 0===i?void 0:i.pastMessage:l.startRoute.message="Comenzó la Ruta");return this.loadStatus.step>5&&(l.delivered.message=null===l||void 0===l||null===(a=l.delivered)||void 0===a?void 0:a.pastMessage),this.loadStatus.step>6&&(l.returnContainer.message=null===l||void 0===l||null===(c=l.returnContainer)||void 0===c?void 0:c.pastMessage),l}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.userInfo=JSON.parse(localStorage.getItem("userInfo")),e.setting=JSON.parse(localStorage.getItem("setting")),n=null,o=null,e.loadStore?o=e.loadStore.loadMapId:(a=JSON.parse(localStorage.getItem("currentLoad")),o=a.loadMapId),t.prev=5,t.next=8,e.$services.loadsServices.getLoadDetails(o);case 8:e.load=t.sent,e.load.firstOrdenInfo=null===(c=e.loadStore)||void 0===c?void 0:c.Orders[0],t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),n=e.loadStore?Object(r["a"])({},e.loadStore):JSON.parse(localStorage.getItem("currentLoad")),e.load=n;case 16:e.$store.commit("setloadStore",e.load),console.log(e.loadStore),e.sendingInfo=localStorage.getItem("sendInfo".concat(e.load.loadMapId)),i=JSON.parse(localStorage.getItem("allLoads")),l=Object(r["a"])({},e.load),i.forEach((function(t){var n;(null===t||void 0===t?void 0:t.loadMapId)==(null===(n=e.load)||void 0===n?void 0:n.loadMapId)&&Object.assign(t,l)})),localStorage.setItem("allLoads",JSON.stringify(i)),e.startRouteStorage=localStorage.getItem("startRoute".concat(e.load.loadMapId)),e.deliverStorage=localStorage.getItem("deliverLoad".concat(e.load.loadMapId)),e.uploadStorage=localStorage.getItem("uploadStorage".concat(e.load.loadMapId)),e.allOrderIsReturn=e.load.Orders.every((function(e){return e.isReturn})),localStorage.setItem("dateCheck",e.load.dateTime.date);case 28:case"end":return t.stop()}}),t,null,[[5,12]])})))()},methods:{changeRoute:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(localStorage.setItem("DeliveryCharges",JSON.stringify(t.load)),t.$store.commit("setloadStore",t.load),console.log(t.load),n.prev=3,"Approved"!=e||(null===(o=t.profile)||void 0===o?void 0:o.container)!=(null===(a=t.load)||void 0===a?void 0:a.loadType)){n.next=10;break}return t.isMountProduct=!0,c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.next=9,c(5e3);case 9:t.isMountProduct=!1;case 10:return n.next=12,t.ubication(t.load);case 12:if(i=n.sent,!i){n.next=28;break}return localStorage.setItem("ubication",JSON.stringify(i)),localStorage.setItem("loadInProgress",JSON.stringify(t.load.loadMapId)),n.next=18,t.changeRouteLoads(e,t.load);case 18:return t.startRouteStorage=localStorage.getItem("startRoute".concat(t.load.loadMapId)),t.deliverStorage=localStorage.getItem("deliverLoad".concat(t.load.loadMapId)),t.uploadStorage=localStorage.getItem("uploadStorage".concat(t.load.loadMapId)),n.next=23,t.$services.loadsServices.getLoadDetails(null===(l=t.load)||void 0===l?void 0:l.loadMapId);case 23:t.load=n.sent,s=JSON.parse(localStorage.getItem("allLoads")),u=Object(r["a"])({},t.load),s.forEach((function(e){var n;(null===e||void 0===e?void 0:e.loadMapId)==(null===(n=t.load)||void 0===n?void 0:n.loadMapId)&&Object.assign(e,u)})),localStorage.setItem("allLoads",JSON.stringify(s));case 28:n.next=33;break;case 30:n.prev=30,n.t0=n["catch"](3),console.log(n.t0);case 33:case"end":return n.stop()}}),n,null,[[3,30]])})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},deliveredLoad:function(e){localStorage.removeItem("loadStatus".concat(e.loadMapId)),this.changeRouteLoads("Delivered")},alertUbication:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ct["c"].create({header:e,message:t,buttons:["Ok"]});case 2:return r=n.sent,n.next=5,r.present();case 5:case"end":return n.stop()}}),n)})))()},ubication:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!==e&&void 0!==e&&null!==(r=e.Vehicles[0])&&void 0!==r&&r.gpsProvider&&"Flai Mobile App"!=e.Vehicles[0].gpsProvider){n.next=17;break}return n.prev=1,n.next=4,X["a"].getCurrentPosition({timeout:5e3});case 4:return o=n.sent,n.abrupt("return",o);case 8:return n.prev=8,n.t0=n["catch"](1),console.log(n.t0.message),"location disabled"==n.t0.message&&t.alertUbication("Active la ubicacion","Porfavor debe encender la ubicacion, para continuar el siguiente paso"),"Location permission was denied"==n.t0.message&&t.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),"User denied Geolocation"==n.t0.message&&t.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),n.abrupt("return",!1);case 15:n.next=18;break;case 17:return n.abrupt("return",!0);case 18:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}};n("8554");const wb=F()(Cb,[["render",Nb],["__scopeId","data-v-2a6f27e4"]]);var Vb=wb,Db=function(e){return Object(a["pushScopeId"])("data-v-145fab93"),e=e(),Object(a["popScopeId"])(),e},Ib={class:"uk-container uk-text-left"},Rb=Db((function(){return Object(a["createElementVNode"])("h4",{class:"uk-text-small web-title-small"}," Procesar Facturas y Devoluciones ",-1)})),Bb={class:"uk-card uk-card-default uk-card-body item-info uk-width-1-2@m details-order"},Ab={class:"web-sub-title-small"},Lb=Db((function(){return Object(a["createElementVNode"])("strong",null,"Orden:",-1)})),Tb=Object(a["createTextVNode"])(" "),Qb=Db((function(){return Object(a["createElementVNode"])("strong",null,"Dirección:",-1)})),Mb=Object(a["createTextVNode"])(" "),Pb=Db((function(){return Object(a["createElementVNode"])("strong",null,"Cliente:",-1)})),_b=Object(a["createTextVNode"])(" "),qb=Db((function(){return Object(a["createElementVNode"])("strong",null,"Total:",-1)})),Fb=Object(a["createTextVNode"])(" "),zb=Db((function(){return Object(a["createElementVNode"])("h4",{class:"uk-text-small text-returns web-title-small"}," Procesar Devoluciones ",-1)})),$b=Db((function(){return Object(a["createElementVNode"])("h6",{class:"subtitle"},"(de ser necesario)",-1)})),Ub={class:"table-thead uk-margin-left"},Jb={class:"uk-card uk-card-default uk-card-body table-scroll"},Yb={class:"uk-table uk-table-small uk-table-hover uk-table-divider uk-text-left"},Gb=Db((function(){return Object(a["createElementVNode"])("br",null,null,-1)})),Hb=Db((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Precio: ",-1)})),Kb=Db((function(){return Object(a["createElementVNode"])("br",null,null,-1)})),Wb=Db((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Ordenados: ",-1)})),Xb={key:0,class:"quantity-adjustment"},Zb={key:1},ev={key:0},tv={key:2,class:"f-span uk-margin-small"},nv={id:"products","uk-modal":""},rv={class:"uk-modal-dialog uk-modal-body"},ov={class:"uk-margin"},av={key:0},cv={key:1},iv={class:"uk-flex uk-flex-right"},lv=Db((function(){return Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("button",{id:"cancel",class:"uk-button uk-modal-close button-cancel",type:"button"}," Cancelar ")],-1)})),sv=["disabled"],uv={class:"button-position uk-flex uk-flex-between btn-position"},dv={class:"btn-style"},mv=["disabled"],pv={class:"btn-style"},bv=["disabled"];function vv(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x=Object(a["resolveComponent"])("ion-loading"),y=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ib,[Object(a["createVNode"])(x,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:n.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",null,[Rb,Object(a["createElementVNode"])("div",Bb,[Object(a["createElementVNode"])("p",Ab,[Lb,Tb,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(i=o.customerDetails)||void 0===i||null===(l=i.order)||void 0===l?void 0:l.name),1)]),Object(a["createElementVNode"])("p",null,[Qb,Mb,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(s=o.customerDetails)||void 0===s||null===(u=s.order)||void 0===u||null===(d=u.delivery_address)||void 0===d?void 0:d.full_address),1)]),Object(a["createElementVNode"])("p",null,[Pb,_b,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(m=o.customerDetails)||void 0===m||null===(p=m.order)||void 0===p?void 0:p.client),1)]),Object(a["createElementVNode"])("p",null,[qb,Fb,Object(a["createElementVNode"])("span",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===(b=o.customerDetails)||void 0===b||null===(v=b.order)||void 0===v?void 0:v.currencySymbol)+Object(a["toDisplayString"])(null===(f=o.customerDetails)||void 0===f||null===(O=f.order)||void 0===O?void 0:O.total_invoice.toFixed(2))+" ",1),o.showUpdating.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,class:Object(a["normalizeClass"])({recalculating:o.showUpdating.length>0})},"Se recalcula al guardar tus cambios",2)):Object(a["createCommentVNode"])("",!0)])])])]),zb,$b,Object(a["createElementVNode"])("div",Ub,[Object(a["createElementVNode"])("h6",{class:Object(a["normalizeClass"])(["uk-text-left uk-text-small web-sub-title-small",{"th-text":null===(g=o.customerDetails)||void 0===g||null===(h=g.order)||void 0===h?void 0:h.can_refund}]),style:{width:"45%","margin-right":"10px"}}," Productos Ordenados ",2),Object(a["createElementVNode"])("h6",{class:Object(a["normalizeClass"])(["uk-text-center uk-text-small web-sub-title-small",{"th-text":null===(j=o.customerDetails)||void 0===j||null===(k=j.order)||void 0===k?void 0:k.can_refund}]),style:{width:"45%"}}," Cantidad a Devolver ",2),Object(a["createElementVNode"])("h6",{class:Object(a["normalizeClass"])(["uk-text-left uk-text-small",{"th-text":null===(E=o.customerDetails)||void 0===E||null===(S=E.order)||void 0===S?void 0:S.can_refund}]),style:{width:"15%"}},null,2)]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",Jb,[Object(a["createElementVNode"])("table",Yb,[Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.order_lines,(function(e,t){var n,r,i,l,s,u,d,m,p,b,v,f;return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e},[e.isRewardLine?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{key:0,class:Object(a["normalizeClass"])([{"td-text":null===(n=o.customerDetails)||void 0===n||null===(r=n.order)||void 0===r?void 0:r.can_refund},"uk-table-small"])},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.productName),1),Gb,Hb,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.currencySymbol)+Object(a["toDisplayString"])(e.price),1),Kb,Wb,e.productQuantityToInvoice>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("del",Xb,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.productQuantity),1)])):Object(a["createCommentVNode"])("",!0),0==e.productQuantityToInvoice?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Zb,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.productQuantity),1)])):Object(a["createCommentVNode"])("",!0)],2)),e.isRewardLine?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",{key:1,class:Object(a["normalizeClass"])(["uk-text-center",{"show-active":e.productQuantityToInvoice!==o.NewOrdersQuantyti[t],"td-text":null===(i=o.customerDetails)||void 0===i||null===(l=i.order)||void 0===l?void 0:l.can_refund}])},[Object(a["createElementVNode"])("span",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.productQuantityToInvoice)+" ",1),e.productQuantityToInvoice>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ev,"/ "+Object(a["toDisplayString"])(e.productQuantity),1)):Object(a["createCommentVNode"])("",!0)])],2)),e.isRewardLine?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",tv,[null!==(s=o.customerDetails)&&void 0!==s&&null!==(u=s.order)&&void 0!==u&&u.can_refund?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,icon:"plus",class:Object(a["normalizeClass"])([{"plus-disabled":e.productQuantityToInvoice>=o.orderStoreQuantity[t]||!(null!==(d=o.customerDetails)&&void 0!==d&&null!==(m=d.order)&&void 0!==m&&m.can_refund)},"Space font-awesome uk-margin-bottom"]),onClick:function(n){return e.productQuantityToInvoice+=1,c.showproductQuantityToInvoice("plus",e.productQuantityToInvoice,o.NewOrdersQuantyti[t],e,e.productQuantity)}},null,8,["class","onClick"])):Object(a["createCommentVNode"])("",!0),null!==(p=o.customerDetails)&&void 0!==p&&null!==(b=p.order)&&void 0!==b&&b.can_refund?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,icon:"minus",class:Object(a["normalizeClass"])([{"plus-disabled":0==e.productQuantityToInvoice||!(null!==(v=o.customerDetails)&&void 0!==v&&null!==(f=v.order)&&void 0!==f&&f.can_refund)},"Space font-awesome uk-flex uk-flex-wrap-bottom"]),onClick:function(n){return e.productQuantityToInvoice-=1,c.showproductQuantityToInvoice("min",e.productQuantityToInvoice,o.NewOrdersQuantyti[t],e,e.productQuantity)}},null,8,["class","onClick"])):Object(a["createCommentVNode"])("",!0)]))])})),128))])])])]),Object(a["createElementVNode"])("div",nv,[Object(a["createElementVNode"])("div",rv,[Object(a["createElementVNode"])("div",ov,[o.isOriginalValue?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",av," Esta seguro que desea guardar los cambios ")),o.isOriginalValue?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",cv," Esta seguro que desea eliminar el rembolso ")):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",iv,[lv,Object(a["createElementVNode"])("div",null,[o.isOriginalValue?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,disabled:o.btnChange,class:"uk-button uk-button-primary uk-modal-close btn-modal",type:"button",onClick:t[1]||(t[1]=function(e){return c.changeProductQuantityRefudInvoiced()})}," ok ",8,sv)),o.isOriginalValue?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,class:"uk-button uk-button-primary uk-modal-close btn-modal",type:"button",onClick:t[2]||(t[2]=function(e){return c.removeInvoiceRefund()})}," ok ")):Object(a["createCommentVNode"])("",!0)])])])]),Object(a["createElementVNode"])("div",uv,[Object(a["createElementVNode"])("div",dv,[Object(a["createElementVNode"])("button",{type:"button","uk-toggle":"target: #products",disabled:o.btnSave,class:"uk-button uk-button-primary btn-style"}," Crear Devolución ",8,mv)]),Object(a["createElementVNode"])("div",pv,[Object(a["createElementVNode"])("button",{disabled:o.btnInvoices,type:"button",class:"uk-button uk-button-primary btn-style",onClick:t[3]||(t[3]=function(e){return c.downloadPDFRefundInvoice()})}," Descargar Facturas ",8,bv)])])])}n("25f0"),n("fb6a"),n("5319");var fv=n("da9c"),Ov={alias:"Detalles",components:{IonLoading:Ct["a"]},props:{timeout:{type:Number,default:15e3}},mixins:[sn],data:function(){return{isChangeQuantity:{changeQuantity:null,exception:!1,order_num:null},btnSave:!0,btnInvoices:!1,btnScan:!0,productOrder:null,OrderQuantity:null,staticQuantity:null,order_lines:null,customerDetails:null,NewOrdersQuantyti:[],showUpdating:[],orderStoreQuantity:[],idInvoices:null,btnChange:!1,isOriginalValue:!0,dataPrinter:null,invoiceStructure:"[L]\n[L]{{invoice_partner_display_name}}\n{{partner_address}}\n\n\n[L]<b>Factura {{name}}</b>\n[L]<b>Fecha de Factura</b> {{invoice_date}}\n[L]<b>Fecha de Vencimiento</b> {{invoice_date_due}}\n[L]<b>Origen</b> {{invoice_origin}}\n[C]<b>------------------------------------------------</b>\n[L]<b> Descripcion </b>[L]<b> Cantidad </b>[L]<b> Unitario </b>[L]<b> Importe </b>\n\n{{products}}[C]<b>------------------------------------------------</b>\n[L][L][R]<b>Subtotal</b>   RD$ {{subtotal}}\n[L][L][R]--------------------------\n[L][L][R]<b>ITBS</b>   RD$ {{amount_tax}}\n[L][L][R]--------------------------\n[L][L][R]<b>Total</b>   RD$ {{amount_total}}\n[L][L][R]<b>--------------------------</b>\n[L] \n[L]Por favor utilice la siguiente referencia al realizar su pago\n\n[L]<b>{{payment_reference}}</b>\n\n[R]Plazo  de pago: Pago inmediato \n[L]\n[L]\n[C]<b>------------------------------------------------</b>\n[R]Firma \n"}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},beforeMount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),e.invoicesIdStore?e.idInvoices=e.invoicesIdStore:e.idInvoices=JSON.parse(localStorage.getItem("getOrdersToInvoicesId")),t.prev=2,r={jsonrpc:"2.0",params:{login:"jabillaodoo@gmail.com",password:"admin"}},t.next=6,Lt.a.post("https://jabiyaerp.flai.com.do/api/exo/auth/sign_in",r,{withCredentials:!0});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log(t.t0);case 11:return null!==(n=e.orderScan)&&void 0!==n&&n.length||(o=JSON.parse(localStorage.getItem("scanOrder")),e.$store.commit("scanOrder",o)),localStorage.removeItem("SummaryInvoice"),t.next=15,e.productsOfOrders();case 15:e.setOpen(!1);case 16:case"end":return t.stop()}}),t,null,[[2,8]])})))()},computed:Object(r["a"])({},Object(o["b"])(["invoicesIdStore","structureToScan","isChangeQuantityStore","orderScan","loadStore"])),watch:{showUpdating:{handler:function(e){0!==e.length?(this.btnSave=!1,this.customerDetails.invoices.length>0&&0==e.length?this.btnInvoices=!1:this.btnInvoices=!0):0==e.length&&(this.btnInvoices=!1,this.customerDetails.invoices.length>0&&0==e.length?this.btnInvoices=!1:this.btnInvoices=!0)},deep:!0}},methods:{productsOfOrders:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setOpen(!0),t.next=4,Lt.a.get("https://jabiyaerp.flai.com.do/api/order/".concat(e.idInvoices),{withCredentials:!0});case 4:i=t.sent,e.order_lines=i.data.result.data.order_lines,e.customerDetails=i.data.result.data,e.NewOrdersQuantyti=i.data.result.data.order_lines.map((function(t,n){var r,o,a,c,i;(null===(r=e.orderScan[n])||void 0===r||r.products.forEach((function(t){e.orderStoreQuantity.push(t.quantity)})),e.OrderQuantity=t.productQuantityToInvoice,e.productOrder=t,0!==t.productQuantityToInvoice)?(e.isChangeQuantity.exception=!0,e.isChangeQuantity.changeQuantity=t.productQuantityToInvoice,e.isChangeQuantity.order_num=null===(o=e.customerDetails)||void 0===o||null===(a=o.order)||void 0===a?void 0:a.name,localStorage.setItem("isChangeQuantity".concat(null===(c=e.customerDetails)||void 0===c||null===(i=c.order)||void 0===i?void 0:i.name),JSON.stringify(e.isChangeQuantity)),e.$store.commit("getChageQuantityToProduct",e.isChangeQuantity)):e.order_lines.every((function(e){return 0===e.productQuantityToInvoice}))&&(localStorage.removeItem("isChangeQuantity".concat(e.orderScan[0].order_num)),e.$store.commit("getChageQuantityToProduct",{exception:!1,changeQuantity:null,order_num:null}));return t.productQuantityToInvoice})),(null===(n=e.customerDetails)||void 0===n||null===(r=n.order)||void 0===r||!r.can_refund||(null===(o=e.customerDetails)||void 0===o?void 0:o.invoices.length)>0)&&(e.btnScan=!1,e.btnSave=!0,e.btnInvoices=!1),e.setStructureInvoices(null,e.productOrder),e.isChangeQuantityStore.exception?e.isChangeQuantity.changeQuantity=e.isChangeQuantityStore.changeQuantity:localStorage.getItem("isChangeQuantity".concat(null===(a=e.customerDetails)||void 0===a||null===(c=a.order)||void 0===c?void 0:c.name))&&(e.isChangeQuantity=JSON.parse(localStorage.getItem("isChangeQuantity".concat(null===(l=e.customerDetails)||void 0===l||null===(s=l.order)||void 0===s?void 0:s.name)))),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:u=0,e.order_lines.forEach((function(e){e.isRewardLine||0!==e.productQuantityToInvoice?e.isRewardLine&&u++:u++})),e.order_lines.length===u?e.isOriginalValue=!0:e.isOriginalValue=!1;case 19:case"end":return t.stop()}}),t,null,[[0,13]])})))()},changeProductQuantityRefudInvoiced:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.btnChange=!0,e.setOpen(!0),c=[],i=e.order_lines.map((function(t){if(c.push(t.productQuantityToInvoice),e.orderScan.find((function(e){return e.products.find((function(e){return e.description===t.productName&&0!=t.productQuantityToInvoice}))})))return{product_id:t.productId,set_qty:t.productQuantityToInvoice}})),e.isChangeQuantity.changeQuantity=c,e.isChangeQuantity.exception=!0,e.isChangeQuantity.order_num=null===(n=e.customerDetails)||void 0===n||null===(r=n.order)||void 0===r?void 0:r.name,e.$store.commit("getChageQuantityToProduct",e.isChangeQuantity),localStorage.setItem("isChangeQuantity".concat(null===(o=e.customerDetails)||void 0===o||null===(a=o.order)||void 0===a?void 0:a.name),JSON.stringify(e.isChangeQuantity)),e.showUpdating=[],t.next=12,e.createRefudInvoices(i.filter((function(e){return void 0!=e})));case 12:case"end":return t.stop()}}),t)})))()},createRefudInvoices:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,Lt.a.post("https://jabiyaerp.flai.com.do/api/order/".concat(t.idInvoices,"/invoice/refund"),{withCredentials:!0});case 4:o=n.sent,r=o.data.result.data.refund_id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:return n.prev=11,n.next=14,Lt.a.patch("https://jabiyaerp.flai.com.do/api/invoice/refund/".concat(r,"/update"),{params:{products:e}},{withCredentials:!0});case 14:return t.btnSave=!0,t.btnChange=!1,t.btnInvoices=!1,n.next=19,t.productsOfOrders();case 19:return n.next=21,t.downloadPDFRefundInvoice();case 21:n.next=30;break;case 23:return n.prev=23,n.t1=n["catch"](11),console.log(n.t1),t.btnChange=!1,n.next=29,t.productsOfOrders();case 29:t.setOpen(!1);case 30:case"end":return n.stop()}}),n,null,[[1,8],[11,23]])})))()},removeInvoiceRefund:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),n=null,e.customerDetails.invoices.forEach((function(e){"out_refund"==e.move_type&&(n=e.id)})),t.prev=3,t.next=6,Lt.a.delete("https://jabiyaerp.flai.com.do/api/invoice/refund/".concat(n),{withCredentials:!0});case 6:return e.showUpdating=[],e.isChangeQuantity.exception=!1,e.isChangeQuantity.changeQuantity=null,e.isChangeQuantity.order_num=null,e.$store.commit("getChageQuantityToProduct",e.isChangeQuantity),localStorage.removeItem("isChangeQuantity".concat(e.orderScan[0].order_num)),t.next=14,e.productsOfOrders();case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),console.log(t.t0);case 19:e.setOpen(!1);case 20:case"end":return t.stop()}}),t,null,[[3,16]])})))()},downloadPDFRefundInvoice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setOpen(!0),e.summary(),o=[],e.customerDetails.invoices.forEach((function(e){o.push(e.id.toString())})),a=o.join(),e.getInvoicesPrint(a);try{c="https://jabiyaerp.flai.com.do/api/invoice/report?invoice_ids=".concat(a),i=new XMLHttpRequest,i.withCredentials=!0,i.open("GET",c,!0),i.responseType="blob",zn["a"].open({url:"https://jabiyaerp.flai.com.do/api/invoice/report?invoice_ids=".concat(a)})}catch(s){console.log(s)}e.btnScan=!1,e.btnInvoices=!1,e.loadStore.scanningRequired?e.$router.push({name:"deliveryActions"}).catch((function(){})):e.$router.push({name:"delivery-actions-auto"}).catch((function(){})),l={status:!0,order:null===(n=e.customerDetails)||void 0===n||null===(r=n.order)||void 0===r?void 0:r.name},e.$store.commit("getInvoiceDownload",l),e.setOpen(!1);case 13:case"end":return t.stop()}}),t)})))()},showproductQuantityToInvoice:function(e,t,n,r,o){var a=this;"plus"===e&&t==n?this.order_lines.every((function(e,t){return e.productQuantityToInvoice===a.orderStoreQuantity[t]}))||this.order_lines.every((function(e,t){return e.productQuantityToInvoice===a.NewOrdersQuantyti[t]}))?(this.btnSave=!0,this.showUpdating=[]):(this.showUpdating.splice(0,1),this.btnSave=!0):"plus"!==e||this.isChangeQuantity.changeQuantity?"plus"===e&&t<n?(this.btnSave=!1,this.showUpdating.splice(0,1)):"min"===e&&t==n?this.order_lines.every((function(e,t){return e.productQuantityToInvoice===a.orderStoreQuantity[t]}))||this.order_lines.every((function(e,t){return e.productQuantityToInvoice===a.NewOrdersQuantyti[t]}))?(this.btnSave=!0,this.showUpdating=[]):this.showUpdating.splice(0,1):(this.btnSave=!1,this.showUpdating.push(t)):(this.btnSave=!0,this.showUpdating.push(t)),this.OrderQuantity=t,this.staticQuantity=o,this.productOrder=r;var c=0;this.order_lines.forEach((function(e){e.isRewardLine||0!==e.productQuantityToInvoice?e.isRewardLine&&c++:c++})),this.order_lines.length===c?this.isOriginalValue=!0:this.isOriginalValue=!1,this.setStructureInvoices(this.OrderQuantity,this.productOrder)},setStructureInvoices:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.setStructure(n.orderScan[0],[],[],e,t,n.order_lines);case 2:o=r.sent,n.listOfOrders=o.firstStructure,n.listOfOrderTotal=o.secondStructure,a={firstStructure:n.listOfOrders,secondStructure:n.listOfOrderTotal},n.$store.commit("setStructureToScan",a);case 7:case"end":return r.stop()}}),r)})))()},setRound:function(e){return e.toFixed(2)},summary:function(){var e=[];this.customerDetails.invoices.forEach((function(t){e.push(t.id.toString())}));var t={orderId:this.customerDetails.order.name,summarys:e};this.$store.commit("getSummaryInvoice",t),localStorage.setItem("SummaryInvoice",JSON.stringify(t)),this.$router.push({name:"summary"}).catch((function(){}))},getInvoicesPrint:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r="",o=[],n.next=5,Lt.a.get("https://jabiyaerp.flai.com.do/api/invoice/".concat(e,"/report"),{withCredentials:!0});case 5:a=n.sent,c=a.data.result.data,t.$store.commit("getInvoiceDetails",c),localStorage.setItem("invoiceDetails",JSON.stringify(c)),c.products.forEach((function(e,n){for(var a="",c="",i="",l="",s="",u=0;u<=e.description.length;u++)u>15&&void 0!=e.description[u]?(a+=e.description[u],e.description.slice(u)):void 0!=e.description[u]&&(c+=e.description[u]),i=e.qty,l=e.price_unit,s=e.price_subtotal;if(o.push(a),e.description.length<15&&(c+=t.characterControl(e.description.length,15,!0)),e.qty<100&&(i+=t.characterControl(i,3,!1,"qty")),e.price_unit){var d=null;if(JSON.stringify(l).split("").some((function(e){return"."==e}))){var m=JSON.stringify(l).split("").filter((function(e){return"."!==e}));d=JSON.parse(m.join(""))}else d=l;l+=t.characterControl(d,4,!1,"unit")}e.description=c,e.qty=i,e.price_unit=l,e.price_subtotal=s,r+="[L]"+e.description+"[R] "+e.qty+"[R] RD$ "+e.price_unit+"[R] RD$ "+e.price_subtotal+"\n"+o[n]+"\n\n"})),i=t.invoiceStructure.replace("{{name}}",c.name).replace("{{invoice_date}}",c.invoice_date).replace("{{invoice_date_due}}",c.invoice_date_due).replace("{{invoice_origin}}",c.invoice_origin).replace("{{subtotal}}",c.subtotal).replace("{{amount_tax}}",c.amount_tax).replace("{{amount_total}}",c.amount_total).replace("{{payment_reference}}",c.payment_reference).replace("{{invoice_partner_display_name}}",c.invoice_partner_display_name).replace("{{partner_address}}",c.partner_address).replace("{{products}}",r),t.dataPrinter=i,t.testingPrint(),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](0),console.log(n.t0,"error print");case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()},characterControl:function(e,t,n,r){var o="",a=0;for(a=n?e:e<10?0:e>=10&&e<100&&"qty"==r||e>=10&&e<100&&"unit"==r?1:e>=100&&e<1e3?2:e>=1e3&&e<1e4?3:5,a;a<=t;a++)o+=" ";return o},testingPrint:function(){fv["a"].blPrint({value:this.dataPrinter})}}};n("0fd8");const gv=F()(Ov,[["render",vv],["__scopeId","data-v-145fab93"]]);var hv=gv,jv=Object(a["createElementVNode"])("h1",null,"Reconciliacion con Almacen",-1),kv=[jv];function Ev(e,t,n,r,o,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,kv)}var Sv={};const xv=F()(Sv,[["render",Ev]]);var yv=xv,Nv=function(e){return Object(a["pushScopeId"])("data-v-85815514"),e=e(),Object(a["popScopeId"])(),e},Cv={class:"stiky"},wv={style:{"font-size":"13px !important","font-weight":"500"}},Vv={class:"uk-flex uk-flex uk-flex-center uk-flex-left uk-margin-remove uk-padding-remove",style:{"align-items":"center"}},Dv={class:"uk-flex uk-flex-wrap"},Iv={style:{"margin-right":"10px !important"}},Rv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Shipper: ",-1)})),Bv=Nv((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),Av=Nv((function(){return Object(a["createElementVNode"])("span",{style:{"font-weight":"500"}},"Destino:",-1)})),Lv={key:0,class:"result-info"},Tv={class:"uk-list uk-list-divider",style:{"list-style":"none"}},Qv={class:"uk-text-left info-user uk-flex uk-flex-wrap"},Mv={class:"btn uk-flex"},Pv={class:"uk-flex uk-flex-column uk-text-left"},_v={class:"uk-width-1-1"},qv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium web-font-small"},"Cliente: ",-1)})),Fv={style:{"margin-right":"10px !important"}},zv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium web-font-small"},"Orden: ",-1)})),$v={class:""},Uv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium web-font-small"},"Cajas / Pallets: ",-1)})),Jv=Nv((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),Yv={class:"uk-width-1-1"},Gv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium web-font-small"},"Destino: ",-1)})),Hv=["onClick"],Kv=Nv((function(){return Object(a["createElementVNode"])("img",{src:Ko.a,class:"img-scan",alt:""},null,-1)})),Wv=Nv((function(){return Object(a["createElementVNode"])("span",{class:"web-font-small"},"Ver Ruta",-1)})),Xv=[Kv,Wv],Zv={key:0,class:"uk-card uk-card-default uk-card-body uk-width-1 img-card",style:{padding:"5px 0px 10px !important"}},ef={class:"uk-flex uk-flex-wrap img-scroll"},tf=["src"],nf=["onClick"],rf={key:1,class:"showCamera"},of=["src"],af={key:2,class:"cont-camera uk-flex-between uk-flex-wrap uk-card uk-card-default uk-card-hover uk-card-body",style:{"z-index":"0",padding:"4px 0px !important",border:"1px solid #ccc"}},cf=Nv((function(){return Object(a["createElementVNode"])("label",{class:"uk-width-1-1 web-font-small",style:{margin:"0px 0px 10px","font-size":"14px"}},"Tomar las Fotos",-1)})),lf={class:"img-div",style:{position:"relative"}},sf={class:"snapshot-div"},uf={class:"button-div"},df={key:3},mf={key:4,class:"cont uk-card uk-card-default uk-card-hover uk-card-body",style:{"z-index":"0",padding:"16px 0px !important"}},pf=Nv((function(){return Object(a["createElementVNode"])("h6",{style:{margin:"0px 0px 10px","font-size":"14px"}}," Click Para Tomar las Fotos y Firma ",-1)}));function bf(e,t,n,r,o,c){var i,l,s=Object(a["resolveComponent"])("ion-loading"),u=Object(a["resolveComponent"])("font-awesome-icon"),d=Object(a["resolveComponent"])("camera"),m=Object(a["resolveComponent"])("timeline");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["uk-flex uk-flex-column uk-flex-between",{backg:o.resultScan}])},[Object(a["createVNode"])(s,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeOut,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",Cv,[Object(a["createElementVNode"])("p",wv,Object(a["toDisplayString"])(null===(i=o.load)||void 0===i?void 0:i.loadNumber),1),Object(a["createElementVNode"])("div",Vv,[Object(a["createElementVNode"])("div",Dv,[Object(a["createElementVNode"])("p",Iv,[Rv,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(c.shipperName(o.load)),1)]),Bv,Object(a["createElementVNode"])("p",null,[Av,Object(a["createElementVNode"])("span",null,"  "+Object(a["toDisplayString"])(null===(l=o.load)||void 0===l?void 0:l.firstOrdenInfo.sector),1)])])])]),o.cameraOn||o.image?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Lv,[Object(a["createElementVNode"])("ul",Tv,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:Object(a["normalizeClass"])(["uk-card uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:e.completed}])},[Object(a["createElementVNode"])("div",Qv,[Object(a["createElementVNode"])("div",Mv,[Object(a["createElementVNode"])("div",Pv,[Object(a["createElementVNode"])("p",_v,[qv,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.client_name),1)])])]),Object(a["createElementVNode"])("p",Fv,[zv,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.order_num),1)]),Object(a["createElementVNode"])("p",$v,[Uv,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.no_of_boxes),1),Jv]),Object(a["createElementVNode"])("p",Yv,[Gv,Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(u,{icon:"map-marker-alt"}),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.address),1)])])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",{onClick:function(t){return c.setMap(e)},class:"uk-flex-column",style:{"align-items":"center",display:"inline-flex"}},Xv,8,Hv)])],2)})),128)),o.imagiElement.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Zv,[Object(a["createElementVNode"])("div",ef,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.imagiElement,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e,style:{position:"relative",width:"85px",display:"flex",margin:"0px 10px"}},[Object(a["createElementVNode"])("img",{class:"img-result",src:e,alt:"Red dot"},null,8,tf),Object(a["createElementVNode"])("img",{src:Xo.a,class:"icon-close",onClick:function(e){return c.deleteImage(t)},alt:""},null,8,nf)])})),128))])])):Object(a["createCommentVNode"])("",!0)])])),o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",rf,[o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,icon:"times",class:"close",onClick:t[1]||(t[1]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("img",{class:"result-scan",src:o.image,alt:""},null,8,of)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({showCamera:o.cameraOn,hideCamera:!o.cameraOn})},[o.cameraOn?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0,icon:"times",class:"close",onClick:t[2]||(t[2]=function(e){return c.stopCamera()})})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(d,{class:"camera",resolution:{width:1620,height:1450},ref:"Camera"},null,512)],2),o.cameraOn||o.image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",af,[cf,Object(a["createElementVNode"])("label",lf,[Object(a["createVNode"])(u,{icon:"images"}),Object(a["createElementVNode"])("input",{type:"file",onChange:t[3]||(t[3]=function(e){return c.pickImage(e)}),id:"file-img",style:{position:"absolute",opacity:"0"},accept:"image/*"},null,32)]),Object(a["createElementVNode"])("div",sf,[Object(a["createElementVNode"])("div",{onClick:t[4]||(t[4]=function(e){return c.snapshot()}),class:"take-photo"})]),Object(a["createElementVNode"])("div",uf,[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])([{disabled:!o.image},"uk-button uk-button-blue web-font-small"]),onClick:t[5]||(t[5]=function(e){return c.setImage()})}," Aceptar ",2)])])):Object(a["createCommentVNode"])("",!0),o.cameraOn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",df)):Object(a["createCommentVNode"])("",!0),o.cameraOn||o.image?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",mf,[pf,Object(a["createVNode"])(m,{step:o.step,exception:o.exception,resultScan:o.resultScan,imagiElement:o.imagiElement,showSignaturform:o.showSignaturform,onAction:t[6]||(t[6]=function(e){return c.getShow(e)}),onResetSign:t[7]||(t[7]=function(e){return c.resetSign()})},null,8,["step","exception","resultScan","imagiElement","showSignaturform"])]))],2)}var vf={name:"DeliveryActions",alias:"Retornar Contenedor",components:{timeline:am,IonLoading:Ct["a"],Camera:si.a},mixins:[sn],setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},data:function(){return{show:null,orders:null,resultScan:null,cont:0,load:null,imagiElement:[],imagiToApi:[],step:1,exception:!1,firm:null,location:{latitude:null,longitude:null},timeOut:null,showSignaturform:!1,picture:null,camera:null,image:"",cameraOn:!1}},computed:Object(r["a"])({},Object(o["b"])(["orderScan","loadStore","exceptionStore","digitalFirmStore","settings","allLoadsStore"])),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c,i,l,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.camera=e.$refs.Camera,null!==(n=e.loadStore)&&void 0!==n&&n.loadMapId?e.load=Object(r["a"])({},e.loadStore):(e.load=JSON.parse(localStorage.getItem("DeliveryCharges")),e.$store.commit("setloadStore",e.load)),l=e.loadStore,e.loadStore&&e.$store.commit("setloadStore",l),(null===(o=e.load)||void 0===o?void 0:o.loadType)==(null===T||void 0===T?void 0:T.container)?e.orders=null===(s=e.load)||void 0===s?void 0:s.Orders.filter((function(e){return e.isReturn})):null!==(u=e.orderScan)&&void 0!==u&&u.length?e.orders=e.orderScan:(e.orders=JSON.parse(localStorage.getItem("scanOrder")),e.$store.commit("scanOrder",e.orders)),e.showSignaturform=e.orders.some((function(e){return e.isReturn})),(null===(a=e.orderScan)||void 0===a?void 0:a.length)>1?e.$emit("setNameHeader","Entrega de Ordenes"):1==(null===(c=e.orderScan)||void 0===c?void 0:c.length)&&e.$emit("setNameHeader","Entrega de Orden No. ".concat(null===(d=e.orderScan[0])||void 0===d?void 0:d.numberOfOrders)),e.load.firstOrdenInfo=null===(i=e.load)||void 0===i?void 0:i.Orders[0],t.next=10,e.getLocation();case 10:case"end":return t.stop()}}),t)})))()},watch:{digitalFirmStore:{handler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===t){e.next=19;break}return this.firm=t,this.uploadOrDownload(this.orders),this.postImages(),n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.next=7,n(5e3);case 7:return e.prev=7,localStorage.setItem("sendInfo".concat(null===(r=this.load)||void 0===r?void 0:r.loadMapId),!0),localStorage.removeItem("allProducts".concat(null===(o=this.load)||void 0===o?void 0:o.loadMapId)),e.next=12,this.changeRouteLoads("Delivered",this.load);case 12:this.$router.push({name:"home"}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),this.$router.push({name:"home"}).catch((function(){}));case 18:this.setOpen(!1);case 19:case"end":return e.stop()}}),e,this,[[7,15]])})));function t(t){return e.apply(this,arguments)}return t}()},$route:function(e){e&&this.stopScan()}},methods:{getLocation:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==(n=e.load)&&void 0!==n&&null!==(r=n.Vehicles[0])&&void 0!==r&&r.gpsProvider&&"Flai Mobile App"!=e.load.Vehicles[0].gpsProvider){t.next=17;break}return t.prev=1,t.next=4,X["a"].getCurrentPosition();case 4:o=t.sent,e.location.latitude=o.coords.latitude,e.location.longitude=o.coords.longitude,t.next=15;break;case 9:return t.prev=9,t.t0=t["catch"](1),"location disabled"==t.t0.message&&e.alertUbication("Active la ubicacion","Porfavor debe encender la ubicacion, para continuar el siguiente paso"),"Location permission was denied"==t.t0.message&&e.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),"User denied Geolocation"==t.t0.message&&e.alertUbication("Ubicacion denegada","Por favor permita que la aplicacion pueda acceder a permiso de ubicacion"),t.abrupt("return",!1);case 15:t.next=22;break;case 17:return t.next=19,e.$services.gpsProviderServices.getVehicleGpsId(e.load.Vehicles[0].gpsId);case 19:a=t.sent,e.location.latitude=null===a||void 0===a?void 0:a.lat,e.location.longitude=null===a||void 0===a?void 0:a.lng;case 22:case"end":return t.stop()}}),t,null,[[1,9]])})))()},checkPermissions:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].checkPermissions();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getShow:function(e){this.show=e,"scan"===e?this.scanOrder():"camera"===e&&this.imagiElement.length<=6?this.getCam():"firm"===e&&(this.serieA=e,this.step++)},verificacion:function(e,t){for(var n=0;n<e.length;n++){var r;if((null===(r=n)||void 0===r?void 0:r.numberOfOrders)===t.content)return!0}},stopScan:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W["a"].showBackground();case 2:return e.next=4,W["a"].stopScan();case 4:case"end":return e.stop()}}),e)})))()},checkPermission:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W["a"].checkPermission({force:!0});case 2:if(t=e.sent,!t.granted){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))()},getCam:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cameraOn=!0,t.next=3,null===(n=e.camera)||void 0===n?void 0:n.start();case 3:case"end":return t.stop()}}),t)})))()},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},setMap:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getLocation();case 2:window.open("https://www.google.com/maps/dir/'".concat(t.location.latitude,",").concat(t.location.longitude,"'/").concat(e.latitude,",").concat(e.longitude,"/")),t.$store.commit("setStartRoute",!1);case 4:case"end":return n.stop()}}),n)})))()},postImages:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=e.orders.filter((function(e){return e.isReturn})),r=0;r<n.length;r++){for(o=n[r],a=[],a.push.apply(a,Object(mc["a"])(e.imagiElement)),c=3,1===e.imagiElement.length?c=1:2===e.imagiElement.length&&(c=2),i=c;i<3;i++)a.push(e.imagiElement[0]);a.push(e.firm),e.$services.deliverServices.postImages(a,e.location.latitude,e.location.longitude,o._id)}case 2:case"end":return t.stop()}}),t)})))()},uploadOrDownload:function(e){this.setLoadTruck(e)},setLoadTruck:function(e){this.timeOut=1e4,this.setOpen(!0);for(var t=0,n=e.filter((function(e){return e.isReturn})),r=0;r<n.length;r++){var o=n[r];t+=o.no_of_boxes;for(var a=0;a<o.products.length;a++){var c=o.products[a];try{if("no"===c.scanOneByOne)c.loadScanningCounter=c.quantity,this.$services.deliverServices.deliverProduct(o._id,c._id,c.loadScanningCounter,c.product,c.qrCode);else for(var i=0;i<=c.quantity;i++)c.loadScanningCounter=i,this.$services.deliverServices.deliverProduct(o._id,c._id,c.loadScanningCounter,c.product,c.qrCode)}catch(l){"Request failed with status code 401"===l.message?console.log("Error al introducir los datos"):"Network Error"===l.message&&console.log("Error de conexion, verifique que este conectado")}}}return t},deleteImage:function(e){this.imagiElement.splice(e,1),0===this.imagiElement.length&&(this.step=1)},resetSign:function(){this.step=2},snapshot:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,null===(n=e.camera)||void 0===n?void 0:n.snapshot({width:1620,height:1450});case 2:return r=t.sent,o=new FileReader,o.readAsDataURL(r),o.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=o.result;case 1:case"end":return e.stop()}}),e)}))),c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.next=9,c(1e3);case 9:e.image=a,e.cameraOn=!1;case 11:case"end":return t.stop()}}),t)})))()},setImage:function(){this.imagiElement.push(this.image),this.imagiElement.length>0&&(this.step=2),this.stopCamera()},stopCamera:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cameraOn=!1,e.image=null,t.next=4,null===(n=e.camera)||void 0===n?void 0:n.stop();case 4:case"end":return t.stop()}}),t)})))()},pickImage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.files[0],o=new FileReader,o.readAsDataURL(r),o.onloadend=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=o.result;case 1:case"end":return e.stop()}}),e)}))),c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.next=7,c(1e3);case 7:t.cameraOn=!1,t.image=a;case 9:case"end":return n.stop()}}),n)})))()}}};n("7bc1");const ff=F()(vf,[["render",bf],["__scopeId","data-v-85815514"]]);var Of=ff,gf=function(e){return Object(a["pushScopeId"])("data-v-443297e3"),e=e(),Object(a["popScopeId"])(),e},hf={class:""},jf={class:"uk-card uk-card-default uk-width-1-1 container"},kf={class:"uk-flex status-load"},Ef={class:"uk-text-bold web-font-medium"},Sf={class:"uk-margin-top uk-text-left",style:{"margin-top":"25px !important"}},xf={class:"uk-flex web-font-small"},yf={class:"uk-flex uk-flex-middle web-font-small"},Nf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Tipo: ",-1)})),Cf={key:0,class:"uk-flex uk-flex-middle web-font-small"},wf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Ingreso: ",-1)})),Vf={key:1,class:"uk-flex uk-flex-middle web-font-small"},Df={class:"uk-text-bold"},If={key:2,class:"uk-flex uk-flex-middle web-font-small"},Rf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Rentabilidad: ",-1)})),Bf={class:"web-font-small"},Af={class:"web-font-small"},Lf={class:"uk-flex uk-flex-middle web-font-small"},Tf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Fecha de Recogida: ",-1)})),Qf={key:2,class:"uk-flex uk-flex-middle web-font-small"},Mf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"No de Orden: ",-1)})),Pf={key:5,class:"uk-flex uk-flex-middle info-driver web-font-small"},_f=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold position-text"},"Fecha de Entrega: ",-1)})),qf={key:6,class:"uk-flex uk-flex-middle web-font-small"},Ff=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Chofer: ",-1)})),zf={key:7,class:"uk-flex uk-flex-middle web-font-small"},$f=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Vehiculo: ",-1)})),Uf={class:"uk-flex uk-flex-between web-font-small"},Jf={style:{width:"100%"}},Yf={key:0,class:"uk-text-left info-user-client web-font-small"},Gf={key:0},Hf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Recoger en:",-1)})),Kf={key:1,class:"web-font-small"},Wf=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Entregar en:",-1)})),Xf={key:0,class:"start-load uk-flex-middle"},Zf={key:0,class:"item-order-deliver"},eO={class:"font-weight-medium uk-margin-top web-font-small uk-width-1-1",style:{"font-size":"14px","margin-top":"5px"}},tO={class:"uk-text-left uk-flex uk-flex-wrap addres-info"},nO={class:"info-client"},rO={class:"uk-width-1-1 web-font-small",style:{"margin-right":"10px !important"}},oO=gf((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium uk-text-bold"},"Cliente: ",-1)})),aO={class:"uk-flex uk-flex-middle info-driver web-font-small"},cO=gf((function(){return Object(a["createElementVNode"])("p",{class:"font-weight-medium position-text"},"Fecha de Entrega: ",-1)})),iO={style:{"margin-right":"10px !important"},class:"web-font-small"},lO=gf((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Orden: ",-1)})),sO={class:"web-font-small"},uO=gf((function(){return Object(a["createElementVNode"])("span",{class:"font-weight-medium"},"Cajas / Pallets: ",-1)})),dO=gf((function(){return Object(a["createElementVNode"])("span",null,null,-1)})),mO={key:0,class:"web-font-small"},pO=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Warehouse:",-1)})),bO={key:2,class:"web-font-small"},vO=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold"},"Entregar en:",-1)})),fO={key:3,class:"uk-text-left"},OO=gf((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-bold text-bold web-font-small"},"Información Adicional:",-1)})),gO={class:"uk-margin-medium-bottom web-font-small"},hO=["href"],jO={key:4};function kO(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w,V,D,I,R,B,A,L,T,Q,M,P,_,q,F,z,$,U,J,Y,G,H,K,W,X,Z,ee,te,ne,re,oe,ae,ce,ie,le,se,ue,de,me,pe,be,ve,fe,Oe,ge,he,je,ke,Ee,Se,xe,ye,Ne,Ce,we,Ve,De,Ie,Re,Be,Ae,Le,Te,Qe,Me,Pe,_e,qe,Fe,ze,$e,Ue,Je,Ye,Ge,He,Ke,We,Xe,Ze,et,tt,nt,rt,ot,at,ct,it,lt,st,ut,dt,mt,pt=Object(a["resolveComponent"])("ion-loading"),bt=Object(a["resolveComponent"])("font-awesome-icon"),vt=Object(a["resolveComponent"])("driver-truck");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",hf,[Object(a["createVNode"])(pt,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:e.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",jf,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])([{"load-delivered":"Delivered"==(null===(i=o.detailsLoads)||void 0===i||null===(l=i.loadingStatus)||void 0===l?void 0:l.text),"load-assigned":"Driver selection in progress"==(null===(s=o.detailsLoads)||void 0===s||null===(u=s.loadingStatus)||void 0===u?void 0:u.text)},"uk-card uk-card-default uk-card-body load-default-status"])},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])({"disabled-event":"Driver selection in progress"===(null===(d=o.detailsLoads)||void 0===d||null===(m=d.loadingStatus)||void 0===m?void 0:m.text)}),onClick:t[1]||(t[1]=function(e){return c.setLoad(o.detailsLoads)})},[Object(a["createElementVNode"])("p",kf,[Object(a["createElementVNode"])("span",Ef,Object(a["toDisplayString"])(c.loadStatus(o.detailsLoads)),1)]),Object(a["createElementVNode"])("div",Sf,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("p",xf,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(p=o.detailsLoads)||void 0===p?void 0:p.loadNumber),1)])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",yf,[Nf,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.ordenIsReturn(o.detailsLoads)),1)]),(null===(b=e.userData)||void 0===b?void 0:b.userType)==(null===(v=o.userType)||void 0===v?void 0:v.provider)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Cf,[wf,Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.getRevenue(o.detailsLoads)),1)])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"===(null===(f=o.detailsLoads)||void 0===f||null===(O=f.loadingStatus)||void 0===O?void 0:O.text)||(null===(g=e.userData)||void 0===g?void 0:g.userType)!=(null===(h=o.userType)||void 0===h?void 0:h.provider)&&(null===(j=e.userData)||void 0===j?void 0:j.userType)!=(null===(k=o.userType)||void 0===k?void 0:k.transporter)?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Vf,[Object(a["createElementVNode"])("p",Df,Object(a["toDisplayString"])(o.costText)+": ",1),Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.setRound((null===(E=o.detailsLoads)||void 0===E||null===(S=E.plannedProfitability)||void 0===S||null===(x=S.profitability)||void 0===x?void 0:x.transportCost)*(null===(y=o.detailsLoads)||void 0===y||null===(N=y.currencyExchange)||void 0===N?void 0:N.atTheTimeOfAssigning))),1)])),"Driver selection in progress"!==(null===(C=o.detailsLoads)||void 0===C||null===(w=C.loadingStatus)||void 0===w?void 0:w.text)&&(null===(V=e.userData)||void 0===V?void 0:V.userType)==(null===(D=o.userType)||void 0===D?void 0:D.provider)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",If,[Rf,Object(a["createElementVNode"])("span",null," RD $"+Object(a["toDisplayString"])(c.setRound((null===(I=o.detailsLoads)||void 0===I||null===(R=I.plannedProfitability)||void 0===R||null===(B=R.profitability)||void 0===B?void 0:B.profitability)*(null===(A=o.detailsLoads)||void 0===A||null===(L=A.currencyExchange)||void 0===L?void 0:L.atTheTimeOfAssigning))),1)])):Object(a["createCommentVNode"])("",!0)]),"Driver selection in progress"!==(null===(T=o.detailsLoads)||void 0===T||null===(Q=T.loadingStatus)||void 0===Q?void 0:Q.text)||c.isReturnLoad(o.detailsLoads)?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:Object(a["normalizeClass"])(["uk-flex uk-flex-middle web-font-small",{"info-driver":"Driver selection in progress"===(null===(M=o.detailsLoads)||void 0===M||null===(P=M.loadingStatus)||void 0===P?void 0:P.text)}])},[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])(["uk-text-bold web-font-small",{"position-text":"Driver selection in progress"===(null===(_=o.detailsLoads)||void 0===_||null===(q=_.loadingStatus)||void 0===q?void 0:q.text)}])},"Recoger en: ",2),Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(F=e.load)||void 0===F?void 0:F.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(z=o.detailsLoads)||void 0===z||null===($=z.warehouse)||void 0===$||null===(U=$.location)||void 0===U?void 0:U.address),1)],2)),"Driver selection in progress"===(null===(J=o.detailsLoads)||void 0===J||null===(Y=J.loadingStatus)||void 0===Y?void 0:Y.text)&&c.isReturnLoad(o.detailsLoads)&&(null===(G=o.detailsLoads)||void 0===G?void 0:G.loadType)==(null===(H=o.profile)||void 0===H?void 0:H.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:Object(a["normalizeClass"])({"info-driver":"Driver selection in progress"===(null===(K=o.detailsLoads)||void 0===K||null===(W=K.loadingStatus)||void 0===W?void 0:W.text)})},[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])(["uk-text-bold web-font-small",{"position-text":"Driver selection in progress"===(null===(X=o.detailsLoads)||void 0===X||null===(Z=X.loadingStatus)||void 0===Z?void 0:Z.text)}])},"Recoger en: ",2),Object(a["createElementVNode"])("p",Bf,Object(a["toDisplayString"])(null===(ee=o.detailsLoads)||void 0===ee||null===(te=ee.firstOrdenInfo)||void 0===te?void 0:te.client_name),1),Object(a["createElementVNode"])("p",Af,Object(a["toDisplayString"])(null===(ne=o.detailsLoads)||void 0===ne||null===(re=ne.firstOrdenInfo)||void 0===re?void 0:re.address),1)],2)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",Lf,[Tf,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(oe=o.detailsLoads)||void 0===oe||null===(ae=oe.dateTime)||void 0===ae?void 0:ae.date)+" "+Object(a["toDisplayString"])(c.setLocaleDate(null===(ce=o.detailsLoads)||void 0===ce||null===(ie=ce.loadingStatus)||void 0===ie?void 0:ie.slotStartTime)),1)]),o.detailsLoads.loadType==(null===(le=o.profile)||void 0===le?void 0:le.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Qf,[Mf,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===(se=o.detailsLoads)||void 0===se||null===(ue=se.Orders[0])||void 0===ue?void 0:ue.order_num),1)])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"!==(null===(de=o.detailsLoads)||void 0===de||null===(me=de.loadingStatus)||void 0===me?void 0:me.text)||o.detailsLoads.loadType!=o.profile.container||c.isReturnLoad(o.detailsLoads)?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:3,class:Object(a["normalizeClass"])([{"info-driver":"Driver selection in progress"===(null===(pe=o.detailsLoads)||void 0===pe||null===(be=pe.loadingStatus)||void 0===be?void 0:be.text)},"web-font-small"])},[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])([{"position-text":"Driver selection in progress"===(null===(ve=o.detailsLoads)||void 0===ve||null===(fe=ve.loadingStatus)||void 0===fe?void 0:fe.text)},"uk-text-bold"])},"Entregar en:",2),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(Oe=o.detailsLoads)||void 0===Oe||null===(ge=Oe.firstOrdenInfo)||void 0===ge?void 0:ge.client_name)+" "+Object(a["toDisplayString"])(null===(he=o.detailsLoads)||void 0===he||null===(je=he.firstOrdenInfo)||void 0===je?void 0:je.address),1)],2)),"Driver selection in progress"===(null===(ke=o.detailsLoads)||void 0===ke||null===(Ee=ke.loadingStatus)||void 0===Ee?void 0:Ee.text)&&c.isReturnLoad(o.detailsLoads)&&(null===(Se=o.detailsLoads)||void 0===Se?void 0:Se.loadType)==(null===(xe=o.profile)||void 0===xe?void 0:xe.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:4,class:Object(a["normalizeClass"])({"info-driver":"Driver selection in progress"===(null===(ye=o.detailsLoads)||void 0===ye||null===(Ne=ye.loadingStatus)||void 0===Ne?void 0:Ne.text)})},[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])(["uk-text-bold",{"position-text":"Driver selection in progress"===(null===(Ce=o.detailsLoads)||void 0===Ce||null===(we=Ce.loadingStatus)||void 0===we?void 0:we.text)}])},"Entregar en:",2),Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.detailsLoads.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(Ve=o.detailsLoads)||void 0===Ve||null===(De=Ve.warehouse)||void 0===De||null===(Ie=De.location)||void 0===Ie?void 0:Ie.address),1)],2)):Object(a["createCommentVNode"])("",!0),o.detailsLoads.loadType==(null===(Re=o.profile)||void 0===Re?void 0:Re.container)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pf,[_f,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.setDateFormat(null===(Be=o.detailsLoads)||void 0===Be||null===(Ae=Be.Orders[0])||void 0===Ae?void 0:Ae.expected_date))+" "+Object(a["toDisplayString"])(c.setLocaleHour(null===(Le=o.detailsLoads)||void 0===Le||null===(Te=Le.Orders[0])||void 0===Te?void 0:Te.expected_date)),1)])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"!==(null===(Qe=o.detailsLoads)||void 0===Qe||null===(Me=Qe.loadingStatus)||void 0===Me?void 0:Me.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qf,[Ff,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.detailsLoads.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.driver),1)})),128))])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"!==(null===(Pe=o.detailsLoads)||void 0===Pe||null===(_e=Pe.loadingStatus)||void 0===_e?void 0:_e.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zf,[$f,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.detailsLoads.Vehicles,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.brand)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.model)+" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.color)+", Placa: "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.license_no),1)})),128))])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",Uf,[Object(a["createElementVNode"])("div",Jf,[o.detailsLoads.loadType==o.profile.container?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Yf,["Driver selection in progress"!==(null===(qe=o.detailsLoads)||void 0===qe||null===(Fe=qe.loadingStatus)||void 0===Fe?void 0:Fe.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gf,[Hf,Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.detailsLoads.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(ze=o.detailsLoads)||void 0===ze||null===($e=ze.warehouse)||void 0===$e||null===(Ue=$e.location)||void 0===Ue?void 0:Ue.address),1)])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"!==(null===(Je=o.detailsLoads)||void 0===Je||null===(Ye=Je.loadingStatus)||void 0===Ye?void 0:Ye.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Kf,[Wf,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(Ge=o.detailsLoads)||void 0===Ge||null===(He=Ge.firstOrdenInfo)||void 0===He?void 0:He.client_name),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(Ke=o.detailsLoads)||void 0===Ke||null===(We=Ke.firstOrdenInfo)||void 0===We?void 0:We.address),1)])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]),"Driver selection in progress"!==(null===(Xe=o.detailsLoads)||void 0===Xe||null===(Ze=Xe.loadingStatus)||void 0===Ze?void 0:Ze.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xf,[Object(a["createVNode"])(bt,{icon:"arrow-right",style:{"font-size":"20px"}})])):Object(a["createCommentVNode"])("",!0)])],2),(null===(et=o.detailsLoads)||void 0===et?void 0:et.loadType)==(null===(tt=o.profile)||void 0===tt?void 0:tt.b2b)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Zf,[Object(a["createElementVNode"])("h6",eO,"Número de Ordenes: "+Object(a["toDisplayString"])(null===(nt=o.orders)||void 0===nt?void 0:nt.length),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(t,n){var r,i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w,V,D;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:Object(a["normalizeClass"])(["uk-card item-order uk-card-default uk-card-body uk-flex uk-flex-between",{ordenCompleted:null===t||void 0===t?void 0:t.completed}])},[Object(a["createElementVNode"])("div",tO,[Object(a["createElementVNode"])("div",nO,[Object(a["createElementVNode"])("p",rO,[oO,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.client_name),1)]),Object(a["createElementVNode"])("div",aO,[cO,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.setDateFormat(null===t||void 0===t?void 0:t.expected_date))+" "+Object(a["toDisplayString"])(c.setLocaleHour(null===t||void 0===t?void 0:t.expected_date)),1)]),Object(a["createElementVNode"])("p",iO,[lO,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.order_num),1)]),Object(a["createElementVNode"])("p",sO,[uO,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===t||void 0===t||null===(r=t.products)||void 0===r?void 0:r.length),1),dO])]),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["uk-text-left info-user",{"info-driver":"Driver selection in progress"===(null===(i=o.detailsLoads)||void 0===i||null===(l=i.loadingStatus)||void 0===l?void 0:l.text)}])},["Driver selection in progress"!==(null===(s=o.detailsLoads)||void 0===s||null===(u=s.loadingStatus)||void 0===u?void 0:u.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",mO,[pO,Object(a["createElementVNode"])("p",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===(d=e.load)||void 0===d?void 0:d.shipper,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))]),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(m=o.detailsLoads)||void 0===m||null===(p=m.warehouse)||void 0===p||null===(b=p.location)||void 0===b?void 0:b.address),1)])):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"===(null===(v=o.detailsLoads)||void 0===v||null===(f=v.loadingStatus)||void 0===f?void 0:f.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:Object(a["normalizeClass"])([{"info-driver":"Driver selection in progress"===(null===(O=o.detailsLoads)||void 0===O||null===(g=O.loadingStatus)||void 0===g?void 0:g.text)},"web-font-small"])},[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])(["uk-text-bold",{"position-text":"Driver selection in progress"===(null===(h=o.detailsLoads)||void 0===h||null===(j=h.loadingStatus)||void 0===j?void 0:j.text)}])},"Entregar en:",2),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(k=o.detailsLoads)||void 0===k||null===(E=k.firstOrdenInfo)||void 0===E?void 0:E.client_name)+" "+Object(a["toDisplayString"])(null===(S=o.detailsLoads)||void 0===S||null===(x=S.firstOrdenInfo)||void 0===x?void 0:x.address),1)],2)):Object(a["createCommentVNode"])("",!0),"Driver selection in progress"!==(null===(y=o.detailsLoads)||void 0===y||null===(N=y.loadingStatus)||void 0===N?void 0:N.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",bO,[vO,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(C=o.detailsLoads)||void 0===C||null===(w=C.firstOrdenInfo)||void 0===w?void 0:w.client_name),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===(V=o.detailsLoads)||void 0===V||null===(D=V.firstOrdenInfo)||void 0===D?void 0:D.address),1)])):Object(a["createCommentVNode"])("",!0)],2)])],2)),[[a["vShow"],n<o.quantityShow]])})),128))])):Object(a["createCommentVNode"])("",!0),(null===(rt=o.orders)||void 0===rt?void 0:rt.length)>o.quantityShow&&(null===(ot=e.load)||void 0===ot?void 0:ot.loadType)==(null===(at=o.profile)||void 0===at?void 0:at.b2b)&&o.showOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:1,class:"web-font-small",style:{"font-size":"16px","font-weight":"900"},onClick:t[2]||(t[2]=function(e){return c.setShowOrders(!1,o.orders.length)})},".....Ver Más")):Object(a["createCommentVNode"])("",!0),(null===(ct=o.orders)||void 0===ct?void 0:ct.length)>=o.quantityShow&&(null===(it=e.load)||void 0===it?void 0:it.loadType)==(null===(lt=o.profile)||void 0===lt?void 0:lt.b2b)&&!1===o.showOrders?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:2,class:"web-font-small",style:{"font-size":"16px","font-weight":"900"},onClick:t[3]||(t[3]=function(e){return c.setShowOrders(!0,3)})},".....Ver Menos")):Object(a["createCommentVNode"])("",!0),(null===(st=e.userData)||void 0===st?void 0:st.userType)===(null===(ut=o.userType)||void 0===ut?void 0:ut.driver)||c.hasAddAdditionalInfo?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fO,[OO,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orders,(function(e){var t;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",{key:e,class:"file"},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(null===e||void 0===e?void 0:e.addAdditionalInfo,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e},[Object(a["createElementVNode"])("div",gO,[Object(a["createElementVNode"])("a",{target:"_blank",style:{color:"red"},href:e},Object(a["toDisplayString"])(c.baseName(e)),9,hO)])])})),128))],512)),[[a["vShow"],(null===e||void 0===e||null===(t=e.addAdditionalInfo)||void 0===t?void 0:t.length)>0]])})),128))])),"Driver selection in progress"===(null===(dt=o.detailsLoads)||void 0===dt||null===(mt=dt.loadingStatus)||void 0===mt?void 0:mt.text)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jO,[Object(a["createVNode"])(vt,{detailsLoads:o.detailsLoads},null,8,["detailsLoads"])])):Object(a["createCommentVNode"])("",!0)],2)])])])}var EO=function(e){return Object(a["pushScopeId"])("data-v-5dad1ce7"),e=e(),Object(a["popScopeId"])(),e},SO=EO((function(){return Object(a["createElementVNode"])("div",{class:"md-6",style:{"text-align":"center"}},[Object(a["createElementVNode"])("h5",{class:"uk-text-bold uk-text-left text-bold"},"Asignar Chofer y Vehículo:")],-1)})),xO={class:"uk-text-left web-font-small",style:{color:"#666 !important","font-size":"13px"}},yO=Object(a["createTextVNode"])("Transportista: "),NO={class:"web-font-small"},CO={action:"",class:"table-border uk-margin-medium-bottom"},wO={class:"table"},VO=EO((function(){return Object(a["createElementVNode"])("h5",{class:"uk-text-left web-font-small",style:{padding:"0px 15px"}},"1. Elija un Conductor",-1)})),DO={class:"uk-table uk-table-striped uk-table-hover uk-table-divider"},IO=EO((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",{class:""},[Object(a["createElementVNode"])("th",{scope:"col",class:"driverName web-font-small"},"Nombre del Conductor")])],-1)})),RO=["for","onClick"],BO={class:"web-font-small"},AO={class:"table"},LO=EO((function(){return Object(a["createElementVNode"])("h5",{class:"uk-text-left web-font-small",style:{padding:"0px 15px"}},"2. Elija un Vehículo",-1)})),TO={class:"uk-table uk-table-striped uk-table-hover uk-table-divider"},QO=EO((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("label",{class:"list uk-flex uk-flex-around"},[Object(a["createElementVNode"])("th",{class:"web-font-small",scope:"col"},"Marca"),Object(a["createElementVNode"])("th",{class:"web-font-small",scope:"col"},"Placa"),Object(a["createElementVNode"])("th",{class:"web-font-small",scope:"col"},"Costo"),Object(a["createElementVNode"])("th",{class:"web-font-small",scope:"col"},"Chofer Habitual")])])],-1)})),MO=["onClick"],PO={class:"web-font-small"},_O={class:"web-font-small"},qO={class:"web-font-small"},FO={class:"web-font-small"},zO={class:"button-opt"},$O=["disabled"];function UO(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("ion-loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(i,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:e.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),SO,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("h6",xO,[yO,Object(a["createElementVNode"])("span",NO,Object(a["toDisplayString"])(o.transporterName),1)])]),Object(a["createElementVNode"])("form",CO,[Object(a["createElementVNode"])("div",wO,[VO,Object(a["createElementVNode"])("table",DO,[IO,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.drivers,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",{key:e},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("label",{class:Object(a["normalizeClass"])(["list-name uk-flex uk-flex-center",{active:null!==o.carrierSelection.driverId&&!0===e.isSelectedDriver}]),for:e.driverId,onClick:function(t){return c.selectDriver(e.driverId)}},[Object(a["createElementVNode"])("td",BO,Object(a["toDisplayString"])(e.driverName),1)],10,RO)])])})),128))])]),Object(a["createElementVNode"])("div",AO,[LO,Object(a["createElementVNode"])("table",TO,[QO,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.vehicles,(function(e){var t,r;return Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",{key:e},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("label",{class:Object(a["normalizeClass"])(["web-font-small uk-flex uk-flex-around list",{active:null!==o.carrierSelection.vehicleId&&!0===e.isSelectedVehicles}]),onClick:function(t){return c.selectVehicle(e.vehicleId)}},[Object(a["createElementVNode"])("td",PO,Object(a["toDisplayString"])(e.brand),1),Object(a["createElementVNode"])("td",_O,Object(a["toDisplayString"])(e.vehicleNo),1),Object(a["createElementVNode"])("td",qO,"RD$"+Object(a["toDisplayString"])(c.setRound(e.cost*(null===(t=n.detailsLoads)||void 0===t||null===(r=t.currencyExchange)||void 0===r?void 0:r.atTheTimeOfAssigning))),1),Object(a["createElementVNode"])("td",FO,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.driverName),1)],10,MO)])])})),128))])])])]),Object(a["createElementVNode"])("div",zO,[Object(a["createElementVNode"])("button",{type:"button",disabled:o.disabledButton,class:"uk-button uk-button-primary web-font-small",onClick:t[1]||(t[1]=function(e){return c.selectDriverAndVehicle()})},"Seleccionar Conductor y Vehículo ",8,$O)])],64)}n("c35a");var JO={name:"AddDriverAndTruck",components:{IonLoading:Ct["a"]},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},props:{detailsLoads:Object},data:function(){return{carrierSelection:{vehicleId:null,driverId:null},drivers:[],vehicles:[],transporterName:null,disabledButton:!0,timeOut:1e4}},watch:{carrierSelection:{handler:function(){null!==this.carrierSelection.vehicleId&&null!==this.carrierSelection.driverId&&(this.disabledButton=!1)},deep:!0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),n=null,t.prev=2,t.next=5,e.$services.driverVehicleAssignment.getDriverAndVehicle(e.detailsLoads.loadMapId);case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),e.setOpen(!1);case 11:e.setOpen(!1),e.drivers=Object(mc["a"])(n.drivers),e.vehicles=Object(mc["a"])(n.vehicles),e.transporterName=n.transporterName;case 15:case"end":return t.stop()}}),t,null,[[2,8]])})))()},methods:{selectVehicle:function(e){this.carrierSelection.vehicleId=e,this.vehicles.forEach((function(t){t.isSelectedVehicles=t.vehicleId===e}))},selectDriver:function(e){this.carrierSelection.driverId=e,this.drivers.forEach((function(t){t.isSelectedDriver=t.driverId===e}))},selectDriverAndVehicle:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.disabledButton=!0,e.setOpen(!0),localStorage.setItem("loadInProgress",JSON.stringify(e.detailsLoads.loadMapId)),null===e.carrierSelection.vehicleId||null===e.carrierSelection.driverId){t.next=16;break}return localStorage.removeItem("dateCheck"),localStorage.setItem("dateCheck",null===(n=e.detailsLoads)||void 0===n||null===(r=n.dateTime)||void 0===r?void 0:r.date),t.prev=6,t.next=9,e.$services.driverVehicleAssignment.postDriverVehicleAssignment(e.detailsLoads.loadMapId,e.carrierSelection);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](6),console.log(t.t0);case 14:e.setOpen(!1),e.$router.push({name:"home"}).catch((function(){}));case 16:case"end":return t.stop()}}),t,null,[[6,11]])})))()},setRound:function(e){return JSON.parse(Number.parseFloat(e).toFixed(3))}}};n("1620");const YO=F()(JO,[["render",UO],["__scopeId","data-v-5dad1ce7"]]);var GO=YO,HO={name:"DetailsLoad",alias:"Detalles del Viaje",components:{IonLoading:Ct["a"],DriverTruck:GO},mixins:[sn,K],data:function(){return{userType:A,userPosition:L,costText:null,profile:T,orders:[],userInfo:{},loaded:!1,detailsLoads:[],dateAvalaible:[],showOrders:!0,quantityShow:3,timeOut:1e4}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},beforeMount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),o=null,e.detailsLoadsStore.loadMapId?o=e.detailsLoadsStore.loadMapId:(a=JSON.parse(localStorage.getItem("currentLoad")),e.$store.commit("setDetailsLoadsStore",JSON.stringify(a)),o=a.loadMapId),t.prev=3,t.next=6,e.$services.loadsServices.getLoadDetails(o);case 6:e.detailsLoads=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),e.detailsLoads=e.detailsLoadsStore;case 12:e.orders=null===(n=e.detailsLoads)||void 0===n?void 0:n.Orders,e.detailsLoads.firstOrdenInfo=null===(r=e.orders)||void 0===r?void 0:r.find((function(e){return e})),e.setOpen(!1);case 15:case"end":return t.stop()}}),t,null,[[3,9]])})))()},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["detailsLoadsStore","userData"])),{},{hasAddAdditionalInfo:function(){var e;return null===(e=this.orders)||void 0===e||!e.some((function(e){return null===e||void 0===e?void 0:e.addAdditionalInfo}))||this.orders.every((function(e){return(null===e||void 0===e?void 0:e.addAdditionalInfo)<=0}))}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("userInfo"));case 2:e.userInfo=t.sent,e.$store.commit("setSettings",null),"Transporter"===e.userInfo.userType?e.costText="Ingreso por el Viaje":"Provider"===e.userInfo.userType&&(e.costText="Costo de Transporte");case 5:case"end":return t.stop()}}),t)})))()},methods:{setOpe:function(e){var t=this;this.loaded=e,setTimeout((function(){t.loaded=!1}),2e3)},setLoad:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$store.commit("setloadStore",e),localStorage.setItem("DeliveryCharges",JSON.stringify(e)),t.$router.push({name:"load-status"}).catch((function(){}));case 3:case"end":return n.stop()}}),n)})))()},changeRoute:function(e){this.$router.push({name:e}).catch((function(){}))},loadIsReject:function(e){var t,n;return"Approved"!=(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text)||null===e||void 0===e||null===(n=e.approvers)||void 0===n||!n.some((function(e){return"ACCEPTED"!=e.status}))},loadIsAccepted:function(e){var t,n;return!("Approved"!=(null===e||void 0===e||null===(t=e.loadingStatus)||void 0===t?void 0:t.text)||null===e||void 0===e||null===(n=e.approvers)||void 0===n||!n.every((function(e){return"ACCEPTED"==e.status})))},shipperName:function(e){var t,n=null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.find((function(e){return e.name}));return null===n||void 0===n?void 0:n.name},loadStatus:function(e){return this.setStatus(e)},setLocaleDate:function(e){return Vt()(e).format("LT")},ordenIsReturn:function(e){var t,n=null===e||void 0===e||null===(t=e.Orders)||void 0===t?void 0:t.find((function(e){return e}));return e.loadType===this.profile.b2b?"B2B":null!==n&&void 0!==n&&n.isReturn?"Devolver Contenedor":"Entregar Contenedor"},isReturnLoad:function(e){var t;return null===e||void 0===e||null===(t=e.Orders)||void 0===t?void 0:t.find((function(e){return e.isReturn}))},baseName:function(e){return e.split("/").reverse()[0]},getRevenue:function(e){var t,n,r,o,a=null===e||void 0===e||null===(t=e.plannedProfitability)||void 0===t||null===(n=t.allVariable)||void 0===n||null===(r=n.revenueMatrix)||void 0===r?void 0:r.find((function(t){var n;return(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e||null===(n=e.loadForeignkeys)||void 0===n?void 0:n.transporterId)}));return((null===a||void 0===a?void 0:a.totalRevenue)*(null===e||void 0===e||null===(o=e.currencyExchange)||void 0===o?void 0:o.atTheTimeOfAssigning)).toFixed(2)},setRound:function(e){return e.toFixed(2)},setLocaleHour:function(e){var t=Vt()(e).utc().format("YYYY-MM-DD HH:mm");return Vt()(t).format("hh:mm A")},setDateFormat:function(e){return Vt()(e).format("MM/DD/YYYY")},setShowOrders:function(e,t){this.showOrders=e,this.quantityShow=t}}};n("7548");const KO=F()(HO,[["render",kO],["__scopeId","data-v-443297e3"]]);var WO=KO,XO=function(e){return Object(a["pushScopeId"])("data-v-235769dc"),e=e(),Object(a["popScopeId"])(),e},ZO={class:"uk-container"},eg={class:"uk-card uk-card-default uk-card-body uk-text-left uk-margin-top"},tg=XO((function(){return Object(a["createElementVNode"])("h3",{class:"uk-card-title title"},[Object(a["createTextVNode"])("Flai App "),Object(a["createElementVNode"])("span",null,"®")],-1)})),ng={class:"item web-font-medium"},rg=XO((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Versión:",-1)})),og=Object(a["createTextVNode"])(),ag={class:"item web-font-medium"},cg=XO((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Fecha:",-1)})),ig=Object(a["createTextVNode"])(),lg={class:"item web-font-medium"},sg=XO((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Autores:",-1)})),ug=Object(a["createTextVNode"])(),dg={class:"item web-font-medium"},mg=XO((function(){return Object(a["createElementVNode"])("span",{class:"uk-text-bold"},"Copyright:",-1)})),pg=Object(a["createTextVNode"])();function bg(e,t,n,r,o,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ZO,[Object(a["createElementVNode"])("div",eg,[tg,Object(a["createElementVNode"])("p",ng,[rg,og,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.version),1)]),Object(a["createElementVNode"])("p",ag,[cg,ig,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.date),1)]),Object(a["createElementVNode"])("p",lg,[sg,ug,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.authors),1)]),Object(a["createElementVNode"])("p",dg,[mg,pg,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(o.copyright)+" © ",1)])])])}var vg={name:"Version",alias:"Version",data:function(){return{version:"1.0.8",date:"Feb 20, 2022",authors:"Wilson Soto, Kenny Martinez, Miguel Gonzalez",copyright:"Flai Logistics, 2022 "}}};n("2f44");const fg=F()(vg,[["render",bg],["__scopeId","data-v-235769dc"]]);var Og=fg;function gg(e,t,n,r,o,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div")}var hg={mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=JSON.parse(localStorage.getItem("userInfo")),t.prev=1,r={},r.email=JSON.parse(localStorage.getItem("rememberData")),r.password=JSON.parse(localStorage.getItem("rememberPassword")),!n){t.next=12;break}return t.next=8,e.$services.singInServices.getToken(r);case 8:e.$store.commit("setUserData"),e.$router.push({name:"home"}),t.next=13;break;case 12:e.$router.push({name:"sign-in"});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),n?e.$router.push({name:"home"}):e.$router.push({name:"sign-in"});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()}};const jg=F()(hg,[["render",gg]]);var kg=jg,Eg=function(e){return Object(a["pushScopeId"])("data-v-16b32a30"),e=e(),Object(a["popScopeId"])(),e},Sg={class:"uk-card uk-card-body uk-text-left"},xg={action:""},yg=Eg((function(){return Object(a["createElementVNode"])("h6",{class:"uk-width-1-1"},"Datos Generales:",-1)})),Ng={class:"section-data"},Cg={class:"item"},wg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Numero de Orden: *",-1)})),Vg={class:"uk-form-controls"},Dg={key:0,style:{"font-size":"10px",color:"rgb(255, 38, 38)"}},Ig={class:"item"},Rg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Fecha de Entrega: *",-1)})),Bg={class:"uk-form-controls"},Ag={class:"item"},Lg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Almacen: *",-1)})),Tg={class:"uk-form-controls"},Qg={class:"item"},Mg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Tipo de Servicio: *",-1)})),Pg={class:"uk-form-controls"},_g=["value"],qg={class:"item"},Fg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Es Retorno? *",-1)})),zg={class:"uk-form-controls"},$g=Eg((function(){return Object(a["createElementVNode"])("option",{value:!1},"No",-1)})),Ug=Eg((function(){return Object(a["createElementVNode"])("option",{value:!0},"Si",-1)})),Jg=[$g,Ug],Yg={class:"item"},Gg=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Tiene Orden Asociada?",-1)})),Hg={class:"uk-form-controls"},Kg=Eg((function(){return Object(a["createElementVNode"])("option",{value:!1},"No",-1)})),Wg=Eg((function(){return Object(a["createElementVNode"])("option",{value:!0},"Si",-1)})),Xg=[Kg,Wg],Zg={key:1},eh={class:"item"},th=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Estado: *",-1)})),nh={class:"item"},rh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Ciclo de Entrega:",-1)})),oh={class:"uk-form-controls"},ah={class:"item"},ch=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Numero de Secuencia:",-1)})),ih={class:"uk-form-controls"},lh=Eg((function(){return Object(a["createElementVNode"])("h6",{class:"uk-width-1-1"},"Cliente:",-1)})),sh={class:"section-data"},uh={class:"item"},dh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Shipper: *",-1)})),mh={class:"uk-form-controls"},ph=["value"],bh={class:"item"},vh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Nombre del Cliente: *",-1)})),fh={class:"uk-form-controls",style:{position:"relative"}},Oh={class:"autocomplete-results"},gh=["onClick"],hh={class:"item"},jh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Id Oficial:",-1)})),kh={class:"uk-form-controls"},Eh={class:"item"},Sh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Dirección: *",-1)})),xh={class:"uk-form-controls"},yh={class:"item"},Nh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Provincia: *",-1)})),Ch={class:"uk-form-controls"},wh=["value"],Vh={class:"item"},Dh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Ciudad: *",-1)})),Ih={class:"uk-form-controls"},Rh={class:"item"},Bh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Sector: *",-1)})),Ah={class:"uk-form-controls"},Lh={class:"item"},Th=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Codigo Zip:",-1)})),Qh={class:"uk-form-controls"},Mh={class:"item"},Ph=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Latitud y Longitud del Sector:",-1)})),_h={class:"uk-form-controls"},qh={class:"item"},Fh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Email: *",-1)})),zh={class:"uk-form-controls"},$h={class:"item"},Uh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Prefijo Telefonico: *",-1)})),Jh={class:"uk-form-controls"},Yh={class:"item"},Gh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Telefono: *",-1)})),Hh={class:"uk-form-controls"},Kh={class:"item"},Wh=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Latitud del Cliente:",-1)})),Xh={class:"uk-form-controls"},Zh={class:"item"},ej=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Longitud del Cliente:",-1)})),tj={class:"uk-form-controls"},nj=Eg((function(){return Object(a["createElementVNode"])("h6",{class:"uk-width-1-1"},"Agregar Nuevo Producto:",-1)})),rj={class:"uk-card product-item"},oj={class:"uk-badge"},aj={class:"uk-flex uk-flex-wrap"},cj=Eg((function(){return Object(a["createElementVNode"])("strong",null,"ID del Producto:",-1)})),ij={class:"uk-width-1-2"},lj=Eg((function(){return Object(a["createElementVNode"])("strong",null,"QrCode:",-1)})),sj=Eg((function(){return Object(a["createElementVNode"])("strong",null,"Descripción:",-1)})),uj=Eg((function(){return Object(a["createElementVNode"])("strong",null,"Cantidad:",-1)})),dj={class:"icon"},mj={style:{margin:"10px 0px"}},pj=Object(a["createTextVNode"])("  "),bj={key:0,style:{margin:"0px 10px"}},vj=Eg((function(){return Object(a["createElementVNode"])("h6",{class:"uk-width-1-1"},"Agregar Información Adicional:",-1)})),fj={class:"files-container"},Oj={class:"add-file"},gj=Eg((function(){return Object(a["createElementVNode"])("h6",{class:"uk-width-1-1"},"Comentario:",-1)})),hj={class:"uk-form-controls"},jj={class:"uk-margin uk-flex uk-flex-right"},kj=["disabled"],Ej={key:0},Sj={class:"modal"},xj={class:""},yj=Eg((function(){return Object(a["createElementVNode"])("p",{class:"uk-text-center",style:{margin:"0px 0px 10px"}},[Object(a["createElementVNode"])("strong",null,"Añadir Producto")],-1)})),Nj={class:"uk-flex uk-flex-between uk-flex-wrap"},Cj={class:"item"},wj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"ID del Producto:",-1)})),Vj={class:"uk-form-controls"},Dj={class:"item"},Ij=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Escanear 1 por 1: *",-1)})),Rj={class:"uk-form-controls"},Bj=Eg((function(){return Object(a["createElementVNode"])("option",{value:"no"},"No",-1)})),Aj=Eg((function(){return Object(a["createElementVNode"])("option",{value:"yes"},"Si",-1)})),Lj=[Bj,Aj],Tj={class:"item"},Qj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"QrCode por Defecto:",-1)})),Mj={class:"uk-form-controls"},Pj={class:"item"},_j=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"QrCode para usar en Orden:",-1)})),qj={class:"uk-form-controls"},Fj={class:"item"},zj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Descripcion: *",-1)})),$j={class:"uk-form-controls"},Uj={class:"item"},Jj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Cantidad: *",-1)})),Yj={class:"uk-form-controls"},Gj={class:"item"},Hj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},[Object(a["createTextVNode"])("Volumen (m"),Object(a["createElementVNode"])("sup",null,"3"),Object(a["createTextVNode"])("):")],-1)})),Kj={class:"uk-form-controls"},Wj={class:"item"},Xj=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Peso (Kg):",-1)})),Zj={class:"uk-form-controls"},ek={class:"item"},tk=Eg((function(){return Object(a["createElementVNode"])("label",{class:"uk-form-label text-small",for:"form-stacked-text"},"Manejo especial y tipo de facturación:",-1)})),nk={class:"uk-form-controls"},rk={class:"uk-text-right uk-flex uk-flex-right",style:{"margin-top":"20px !important"}},ok=["disabled"];function ak(e,t,n,r,o,c){var i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w,V,D,I,R,B,A,L,T,Q,M,P=Object(a["resolveComponent"])("ion-loading"),_=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Sg,[Object(a["createVNode"])(P,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("form",xg,[yg,Object(a["createElementVNode"])("div",Ng,[Object(a["createElementVNode"])("div",Cg,[wg,Object(a["createElementVNode"])("div",Vg,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isDuplicated:o.orderIsDuplicated,isEmpty:!(null!==(i=o.generalData)&&void 0!==i&&i.order_num)&&o.isValidate,"disabled-item":o.isOrderEdit||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.generalData.order_num=e}),autocomplete:"off",id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.generalData.order_num]]),o.orderIsDuplicated?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",Dg,"Numero de Orden Duplicado, Porfavor Introduzca Otro")):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",Ig,[Rg,Object(a["createElementVNode"])("div",Bg,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!(null!==(l=o.generalData)&&void 0!==l&&l.expected_date)&&o.isValidate,"disabled-item":o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.generalData.expected_date=e}),style:{padding:"0px 0px 0px 3px !important"},id:"form-stacked-text",type:"datetime-local"},null,2),[[a["vModelText"],o.generalData.expected_date]])])]),Object(a["createElementVNode"])("div",Ag,[Lg,Object(a["createElementVNode"])("div",Tg,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{isEmpty:!(null!==(s=o.generalData)&&void 0!==s&&null!==(u=s.warehouse)&&void 0!==u&&u.name)&&o.isValidate,"disabled-item":o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.generalData.warehouse.name=e})},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listWarehouse,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))],2),[[a["vModelSelect"],o.generalData.warehouse.name]])])]),Object(a["createElementVNode"])("div",Qg,[Mg,Object(a["createElementVNode"])("div",Pg,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{isEmpty:!o.generalData.serviceType&&o.isValidate,"disabled-item":o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.generalData.serviceType=e}),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listservicesType,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{value:e,key:e},Object(a["toDisplayString"])(e),9,_g)})),128))],2),[[a["vModelSelect"],o.generalData.serviceType]])])]),Object(a["createElementVNode"])("div",qg,[Fg,Object(a["createElementVNode"])("div",zg,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{isEmpty:!o.generalData.isReturn&&o.isValidate,"disabled-item":o.isNotModificate},"uk-select"]),onChange:t[5]||(t[5]=function(e){return c.orderIsReturn()}),"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.generalData.isReturn=e}),name:"",id:""},Jg,34),[[a["vModelSelect"],o.generalData.isReturn]])])]),Object(a["createElementVNode"])("div",Yg,[Gg,Object(a["createElementVNode"])("div",Hg,[o.generalData.isReturn?Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("select",{key:0,class:Object(a["normalizeClass"])([{"disabled-item":o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.generalData.hasAssociatedOrder=e}),name:"",id:""},Xg,2)),[[a["vModelSelect"],o.generalData.hasAssociatedOrder]]):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",Zg,"No"))])]),Object(a["createElementVNode"])("div",eh,[th,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.translateOrderStatus(o.generalData.status)),1)]),Object(a["createElementVNode"])("div",nh,[rh,Object(a["createElementVNode"])("div",oh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.generalData.deliverCycle=e}),class:Object(a["normalizeClass"])([{"disabled-item":o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.generalData.deliverCycle]])])]),Object(a["createElementVNode"])("div",ah,[ch,Object(a["createElementVNode"])("div",ih,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.generalData.orderSequence=e}),class:Object(a["normalizeClass"])([{"disabled-item":o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"number"},null,2),[[a["vModelText"],o.generalData.orderSequence]])])])]),lh,Object(a["createElementVNode"])("div",sh,[Object(a["createElementVNode"])("div",uh,[dh,Object(a["createElementVNode"])("div",mh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.client.customer.name=e}),onChange:t[11]||(t[11]=function(e){return c.changeShipper()}),class:Object(a["normalizeClass"])([{isEmpty:!o.client.customer&&o.isValidate,"disabled-item":o.isNotModificate},"uk-select"]),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listCustomers,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e.name},Object(a["toDisplayString"])(e.name),9,ph)})),128))],34),[[a["vModelSelect"],o.client.customer.name]])])]),Object(a["createElementVNode"])("div",bh,[vh,Object(a["createElementVNode"])("div",fh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.client_name&&o.isValidate,"disabled-item":!(null!==(d=o.client)&&void 0!==d&&null!==(m=d.customer)&&void 0!==m&&m.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.client.client_name=e}),autocomplete:"off",id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.client_name]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("ul",Oh,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.results,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t,class:"autocomplete-result",onClick:function(t){return c.autoComplete(e)}},Object(a["toDisplayString"])(e.client_name),9,gh)})),128))],512),[[a["vShow"],o.isOpen&&(null===(p=o.results)||void 0===p?void 0:p.length)>0]])])]),Object(a["createElementVNode"])("div",hh,[jh,Object(a["createElementVNode"])("div",kh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.client.Official_ID=e}),class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(b=o.client)&&void 0!==b&&null!==(v=b.customer)&&void 0!==v&&v.name)||o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.Official_ID]])])]),Object(a["createElementVNode"])("div",Eh,[Sh,Object(a["createElementVNode"])("div",xh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.address&&o.isValidate,"disabled-item":!(null!==(f=o.client)&&void 0!==f&&null!==(O=f.customer)&&void 0!==O&&O.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[14]||(t[14]=function(e){return o.client.address=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.address]])])]),Object(a["createElementVNode"])("div",yh,[Nh,Object(a["createElementVNode"])("div",Ch,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"onUpdate:modelValue":t[15]||(t[15]=function(e){return o.client.province=e}),class:Object(a["normalizeClass"])([{isEmpty:!o.client.province&&o.isValidate,"disabled-item":!(null!==(g=o.client)&&void 0!==g&&null!==(h=g.customer)&&void 0!==h&&h.name)||o.isNotModificate},"uk-select"]),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listProvinces,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e},Object(a["toDisplayString"])(e),9,wh)})),128))],2),[[a["vModelSelect"],o.client.province]])])]),Object(a["createElementVNode"])("div",Vh,[Dh,Object(a["createElementVNode"])("div",Ih,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.city&&o.isValidate,"disabled-item":!(null!==(j=o.client)&&void 0!==j&&null!==(k=j.customer)&&void 0!==k&&k.name)||o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[16]||(t[16]=function(e){return o.client.city=e}),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listCities,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e},Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)})),128))],2),[[a["vModelSelect"],o.client.city]])])]),Object(a["createElementVNode"])("div",Rh,[Bh,Object(a["createElementVNode"])("div",Ah,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.sector&&o.isValidate,"disabled-item":!(null!==(E=o.client)&&void 0!==E&&null!==(S=E.customer)&&void 0!==S&&S.name)||o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[17]||(t[17]=function(e){return o.client.sector=e}),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.listSectors,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e},Object(a["toDisplayString"])(e.sector),1)})),128))],2),[[a["vModelSelect"],o.client.sector]])])]),Object(a["createElementVNode"])("div",Lh,[Th,Object(a["createElementVNode"])("div",Qh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[18]||(t[18]=function(e){return o.client.zipCode=e}),class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(x=o.client)&&void 0!==x&&null!==(y=x.customer)&&void 0!==y&&y.name)||o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.zipCode]])])]),Object(a["createElementVNode"])("div",Mh,[Ph,Object(a["createElementVNode"])("div",_h,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return o.client.lat_Long_Sector=e}),class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(N=o.client)&&void 0!==N&&null!==(C=N.customer)&&void 0!==C&&C.name)||o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.lat_Long_Sector]])])]),Object(a["createElementVNode"])("div",qh,[Fh,Object(a["createElementVNode"])("div",zh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.email&&o.isValidate,"disabled-item":!(null!==(w=o.client)&&void 0!==w&&null!==(V=w.customer)&&void 0!==V&&V.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[20]||(t[20]=function(e){return o.client.email=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.email]])])]),Object(a["createElementVNode"])("div",$h,[Uh,Object(a["createElementVNode"])("div",Jh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.phoneCountryCode&&o.isValidate,"disabled-item":!(null!==(D=o.client)&&void 0!==D&&null!==(I=D.customer)&&void 0!==I&&I.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[21]||(t[21]=function(e){return o.client.phoneCountryCode=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.phoneCountryCode]])])]),Object(a["createElementVNode"])("div",Yh,[Gh,Object(a["createElementVNode"])("div",Hh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{isEmpty:!o.client.phone&&o.isValidate,"disabled-item":!(null!==(R=o.client)&&void 0!==R&&null!==(B=R.customer)&&void 0!==B&&B.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[22]||(t[22]=function(e){return o.client.phone=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.client.phone]])])]),Object(a["createElementVNode"])("div",Kh,[Wh,Object(a["createElementVNode"])("div",Xh,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[23]||(t[23]=function(e){return o.client.latitudeClient=e}),class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(A=o.client)&&void 0!==A&&null!==(L=A.customer)&&void 0!==L&&L.name)||o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"number"},null,2),[[a["vModelText"],o.client.latitudeClient]])])]),Object(a["createElementVNode"])("div",Zh,[ej,Object(a["createElementVNode"])("div",tj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[24]||(t[24]=function(e){return o.client.longitudeClient=e}),class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(T=o.client)&&void 0!==T&&null!==(Q=T.customer)&&void 0!==Q&&Q.name)||o.isNotModificate},"uk-input"]),id:"form-stacked-text",type:"number"},null,2),[[a["vModelText"],o.client.longitudeClient]])])])]),nj,Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["section-data",{isEmpty:0==o.productsCreated.length&&o.isValidate}])},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.productsCreated,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{style:{width:"100%"},key:e},[Object(a["createElementVNode"])("div",rj,[Object(a["createElementVNode"])("span",oj,Object(a["toDisplayString"])(t+1),1),Object(a["createElementVNode"])("div",aj,[Object(a["createElementVNode"])("p",null,[cj,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.productId),1)]),Object(a["createElementVNode"])("p",ij,[lj,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.qrCode),1)]),Object(a["createElementVNode"])("p",null,[sj,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.description),1)]),Object(a["createElementVNode"])("p",null,[uj,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.quantity),1)])]),Object(a["createElementVNode"])("div",dj,[Object(a["createVNode"])(_,{onClick:function(e){return c.editProduct(t)},icon:"pen",class:"icon-action"},null,8,["onClick"]),Object(a["createVNode"])(_,{class:Object(a["normalizeClass"])([{"icon-disabled":o.isNotModificate},"icon-action"]),onClick:function(e){return c.deleteProduct(t)},icon:"trash-alt"},null,8,["class","onClick"])])])])})),128)),o.addProduct?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,onClick:t[25]||(t[25]=function(e){return o.isOpenModal=!0}),class:"uk-flex uk-flex-middle"},[Object(a["createElementVNode"])("p",mj,[pj,Object(a["createVNode"])(_,{class:Object(a["normalizeClass"])([{"icon-disabled":o.isNotModificate},"plus"]),icon:"plus"},null,8,["class"])]),null!==(M=o.client.customer)&&void 0!==M&&M.name?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",bj," Por favor, Elija un Shipper"))]))],2)]),vj,Object(a["createElementVNode"])("div",fj,[Object(a["createElementVNode"])("div",Oj,[Object(a["createElementVNode"])("label",{for:"file",class:Object(a["normalizeClass"])({"icon-disabled":o.isNotModificate})},[Object(a["createElementVNode"])("span",null,[Object(a["createVNode"])(_,{class:Object(a["normalizeClass"])([{"icon-disabled":o.isNotModificate},"plus"]),icon:"plus"},null,8,["class"])]),Object(a["createElementVNode"])("input",{type:"file",id:"file",ref:"File",onChange:t[26]||(t[26]=function(e){return c.pickFile(e)})},null,544)],2)]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.files,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"product-file",key:e},[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(null===e||void 0===e?void 0:e.name),1),Object(a["createVNode"])(_,{icon:"trash-alt",onClick:function(e){return c.deleteFile(t)},class:"icon-file"},null,8,["onClick"])])})),128))]),gj,Object(a["createElementVNode"])("div",hj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[27]||(t[27]=function(e){return o.comment=e}),class:"uk-input",id:"form-stacked-text",type:"text"},null,512),[[a["vModelText"],o.comment]])]),Object(a["createElementVNode"])("div",jj,[Object(a["createElementVNode"])("button",{onClick:t[28]||(t[28]=function(e){return c.cancel()}),class:"uk-button-red uk-button"},"Cancelar"),Object(a["createElementVNode"])("button",{onClick:t[29]||(t[29]=function(e){return c.sendInfo()}),disabled:c.isEmptyFields||o.isNotModificate,class:"uk-button-primary uk-button"},"Guardar",8,kj)]),Object(a["createVNode"])(a["Transition"],{name:"modal"},{default:Object(a["withCtx"])((function(){var e,n,r,i,l,s,u,d,m,p,b,v,f,O,g,h,j,k;return[o.isOpenModal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ej,[Object(a["createElementVNode"])("div",{class:"overlay",onClick:t[42]||(t[42]=Object(a["withModifiers"])((function(e){return c.closeModal()}),["self"]))},[Object(a["createElementVNode"])("div",Sj,[Object(a["createElementVNode"])("div",xj,[yj,Object(a["createElementVNode"])("div",Nj,[Object(a["createElementVNode"])("div",Cj,[wj,Object(a["createElementVNode"])("div",Vj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(e=o.client)&&void 0!==e&&null!==(n=e.customer)&&void 0!==n&&n.name)||o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[30]||(t[30]=function(e){return o.product.productId=e}),onChange:t[31]||(t[31]=function(e){return c.changeProduct(o.product)}),name:"",id:""},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.products,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e},Object(a["toDisplayString"])(e.productId),1)})),128))],34),[[a["vModelSelect"],o.product.productId]])])]),Object(a["createElementVNode"])("div",Dj,[Ij,Object(a["createElementVNode"])("div",Rj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(r=o.client)&&void 0!==r&&null!==(i=r.customer)&&void 0!==i&&i.name)||o.isNotModificate},"uk-select"]),"onUpdate:modelValue":t[32]||(t[32]=function(e){return o.product.scanOneByOne=e}),name:"",id:""},Lj,2),[[a["vModelSelect"],o.product.scanOneByOne]])])]),Object(a["createElementVNode"])("div",Tj,[Qj,Object(a["createElementVNode"])("div",Mj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(l=o.client)&&void 0!==l&&null!==(s=l.customer)&&void 0!==s&&s.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[33]||(t[33]=function(e){return o.product.qrCode_Default=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.qrCode_Default]])])]),Object(a["createElementVNode"])("div",Pj,[_j,Object(a["createElementVNode"])("div",qj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(u=o.client)&&void 0!==u&&null!==(d=u.customer)&&void 0!==d&&d.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[34]||(t[34]=function(e){return o.product.qrCode=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.qrCode]])])]),Object(a["createElementVNode"])("div",Fj,[zj,Object(a["createElementVNode"])("div",$j,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(m=o.client)&&void 0!==m&&null!==(p=m.customer)&&void 0!==p&&p.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[35]||(t[35]=function(e){return o.product.description=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.description]])])]),Object(a["createElementVNode"])("div",Uj,[Jj,Object(a["createElementVNode"])("div",Yj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(b=o.client)&&void 0!==b&&null!==(v=b.customer)&&void 0!==v&&v.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[36]||(t[36]=function(e){return o.product.quantity=e}),id:"form-stacked-text",type:"number"},null,2),[[a["vModelText"],o.product.quantity]])])]),Object(a["createElementVNode"])("div",Gj,[Hj,Object(a["createElementVNode"])("div",Kj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(f=o.client)&&void 0!==f&&null!==(O=f.customer)&&void 0!==O&&O.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[37]||(t[37]=function(e){return o.product.volume=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.volume]])])]),Object(a["createElementVNode"])("div",Wj,[Xj,Object(a["createElementVNode"])("div",Zj,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(g=o.client)&&void 0!==g&&null!==(h=g.customer)&&void 0!==h&&h.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[38]||(t[38]=function(e){return o.product.weight=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.weight]])])]),Object(a["createElementVNode"])("div",ek,[tk,Object(a["createElementVNode"])("div",nk,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:Object(a["normalizeClass"])([{"disabled-item":!(null!==(j=o.client)&&void 0!==j&&null!==(k=j.customer)&&void 0!==k&&k.name)||o.isNotModificate},"uk-input"]),"onUpdate:modelValue":t[39]||(t[39]=function(e){return o.product.typeInvoices=e}),id:"form-stacked-text",type:"text"},null,2),[[a["vModelText"],o.product.typeInvoices]])])])]),Object(a["createElementVNode"])("p",rk,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-red uk-modal-close",style:{margin:"0px 10px"},onClick:t[40]||(t[40]=function(e){return c.closeModal()}),type:"button"},"Cancelar"),Object(a["createElementVNode"])("button",{class:"uk-button uk-button-primary uk-modal-close",disabled:c.productEmptyFields||o.isNotModificate,onClick:t[41]||(t[41]=function(e){return c.saveProduct()}),type:"button"},"Guardar",8,ok)])])])])])):Object(a["createCommentVNode"])("",!0)]})),_:1})])}var ck={alias:"Crear Orden",components:{IonLoading:Ct["a"]},mixins:[sn],data:function(){return{isFalse:!1,listWarehouse:[],listservicesType:[],listCustomers:[],listProvinces:[],listCities:[],listSectors:[],listOrders:[],typeScan:[{yes:"si",no:"no"}],generalData:{order_num:null,expected_date:null,warehouse:{name:null,id:null},isReturn:!1,status:"Created",hasAssociatedOrder:!1,deliverCycle:null,orderSequence:null,serviceType:null},client:{Official_ID:null,customer:{name:null,_id:null},client_name:null,address:null,province:"",city:null,sector:null,zipCode:null,lat_Long_Sector:null,email:null,phoneCountryCode:null,phone:null,latitude:null,longitude:null},product:{productId:null,scanOneByOne:"no",qrCode_Default:null,qrCode:null,description:null,quantity:null,volume:null,weight:null,typeInvoices:null},addProduct:!1,comment:null,cities:[],sectors:[],products:[],results:[],isOpen:!1,orderIsDuplicated:!1,productsCreated:[],files:[],isOpenModal:!1,isValidate:!1,productForReset:{},clientForReset:{},isOrderEdit:!1,isNotModificate:!1,timeout:2e4,selectedItem:2}},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["orderManageStore"])),{},{isEmptyFields:function(){var e=[],t=this.generalData,n=t.order_num,r=t.expected_date,o=t.warehouse,a=t.isReturn,c=this.client,i=c.customer,l=c.client_name,s=c.address,u=c.province,d=c.city,m=c.sector,p=c.email,b=c.phoneCountryCode,v=c.phone;return e.push(n,r,o,a,i,l,s,u,d,m,i,s,u,d,m,p,b,v,this.productsCreated),null===e||void 0===e?void 0:e.some((function(e){return null===e||""===e||0==(null===e||void 0===e?void 0:e.length)}))},productEmptyFields:function(){var e=this.product,t=e.productId,n=e.scanOneByOne,r=e.qrCode_Default,o=e.qrCode,a=e.description,c=e.quantity,i=e.volume,l=e.weight,s=[t,n,r,o,a,c,i,l];return s.some((function(e){return null===e||""===e||0==(null===e||void 0===e?void 0:e.length)}))}}),mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),t.prev=1,t.next=4,e.$services.manageOrders.getCustomers();case 4:return e.listCustomers=t.sent,t.next=7,e.$services.manageOrders.getServicesType();case 7:return e.listservicesType=t.sent,t.next=10,e.$services.manageOrders.getWarehouse();case 10:return e.listWarehouse=t.sent,t.next=13,e.$services.manageOrders.getCity();case 13:e.cities=t.sent,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),alert(t.t0);case 19:return n=[],e.cities.forEach((function(e){n.push(null===e||void 0===e?void 0:e.province)})),n=new Set(n),e.listProvinces=Object(mc["a"])(n),e.productForReset=Object(r["a"])({},e.product),e.clientForReset=Object(r["a"])({},e.client),t.next=27,e.$services.manageOrders.getSector();case 27:e.sectors=t.sent,e.orderManageStore&&e.editManageOrder(),e.setOpen(!1);case 30:case"end":return t.stop()}}),t,null,[[1,16]])})))()},watch:{generalData:{handler:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!((null===t||void 0===t?void 0:t.order_num)>0&&t.order_num)||this.isOrderEdit){e.next=10;break}return n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.next=5,n(2e3);case 5:if(!t.order_num){e.next=10;break}return e.next=8,this.$services.manageOrders.orderNumIsDuplicated(t.order_num);case 8:r=e.sent,this.orderIsDuplicated=r.isDuplicate;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},client:{handler:function(e){var t=this.cities.filter((function(t){return t.province==e.province}));t&&(this.listCities=Object(mc["a"])(t));var n=this.sectors.filter((function(t){return t.province==e.province}));n&&(this.listSectors=Object(mc["a"])(n))},deep:!0},"generalData.warehouse.name":{handler:function(e){if(e){var t=this.listWarehouse.find((function(t){return t.name==e}));t&&(this.generalData.warehouse=Object(r["a"])({},t))}},deep:!0},"client.client_name":{handler:function(){this.onChange()}}},methods:{cancel:function(){this.$router.push({name:"manage-orders"})},filterResults:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!((null===(n=e.client.client_name)||void 0===n?void 0:n.length)>2)){t.next=4;break}return t.next=3,e.$services.manageOrders.getClientName(e.client.client_name);case 3:e.results=t.sent;case 4:case"end":return t.stop()}}),t)})))()},onChange:function(){this.filterResults(),this.isOpen=!0},autoComplete:function(e){this.isOpen=!1,e&&(this.client.client_name=e.client_name,this.client.Official_ID=e.Official_ID,this.client.address=e.address,this.client.province=e.province,this.client.city=e.city,this.client.sector=e.sector,this.client.zipCode=e.zipCode,this.client.lat_Long_Sector="".concat(e.latitude," ").concat(e.longitude),this.client.email=e.email,this.client.phoneCountryCode=e.countryCode,this.client.phone=e.phone,this.client.latitude=e.latitude,this.client.longitude=e.longitude),this.results=[]},changeShipper:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,a,c,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.client.customer,e.client=Object(r["a"])({},e.clientForReset),e.productsCreated=[],n=e.listCustomers.find((function(e){return e.name==n.name})),n&&(e.client.customer._id=null===(o=n)||void 0===o?void 0:o._id,e.client.customer.name=null===(a=n)||void 0===a?void 0:a.name),t.prev=5,t.next=8,e.$services.manageOrders.getProductForShipper(null===(c=e.client)||void 0===c||null===(i=c.customer)||void 0===i?void 0:i._id);case 8:l=t.sent,l&&(e.products=l),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()},editManageOrder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u,d,m,p,b,v,f,O,g,h,j,k,E,S,x,y,N,C,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"Created"!=e.orderManageStore.status&&(e.isNotModificate=!0),e.isOrderEdit=!0,o=e.orderManageStore,a=o.order_num,c=o.expected_date,i=o.warehouse,l=o.isReturn,s=o.hasAssociatedOrder,u=o.serviceType,d=o.status,m=o.deliverCycle,p=o.customer,b=o.client_name,v=o.Official_ID,f=o.address,O=o.province,g=o.city,h=o.sector,j=o.zipCode,k=o.latitude,E=o.longitude,S=o.email,x=o.phone,y=o.products,c=c.split("."),e.generalData={order_num:a,expected_date:c[0],warehouse:i,isReturn:l,hasAssociatedOrder:s,status:d,serviceType:u,deliverCycle:m,orderSequence:null},O=O.toLowerCase(),g=g.toLowerCase(),h=h.toLowerCase(),e.client={customer:p,client_name:b,Official_ID:v,address:f,province:O,city:g,sector:h,zipCode:j,lat_Long_Sector:"".concat(k," ").concat(E),latitude:k,longitude:E,email:S,phone:x},e.productsCreated=Object(mc["a"])(y),e.productsCreated.map((function(e){return e.productId=e.name})),e.$store.commit("editOrder",null),e.cities.forEach((function(e){var t;return e.province=null===e||void 0===e||null===(t=e.province)||void 0===t?void 0:t.toLowerCase()})),N=e.cities.filter((function(t){var n;return(null===t||void 0===t?void 0:t.province)==(null===(n=e.client)||void 0===n?void 0:n.province)})),N&&(e.listCities=Object(mc["a"])(N)),C=e.sectors.filter((function(t){var n;return(null===t||void 0===t?void 0:t.province)==(null===(n=e.client)||void 0===n?void 0:n.province)})),C&&(e.listSectors=Object(mc["a"])(C)),t.next=19,e.$services.manageOrders.getProductForShipper(null===(n=e.client)||void 0===n||null===(r=n.customer)||void 0===r?void 0:r._id);case 19:w=t.sent,w&&(e.products=w);case 21:case"end":return t.stop()}}),t)})))()},changeProduct:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.products.find((function(t){return t.productId==e.productId})),r&&(t.product.qrCode_Default=r.qrCode,t.product.qrCode=r.qrCode,t.product.description=r.description,t.product.volume=r.volume,t.product.weight=r.weight,t.product.quantity=r.unitDetails.defaultNumberOfUnit);case 2:case"end":return n.stop()}}),n)})))()},sendInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={client:e.client,generalData:e.generalData,products:e.productsCreated,files:e.files},t.next=3,e.$services.manageOrders.createOrder(n);case 3:case"end":return t.stop()}}),t)})))()},saveProduct:function(){this.productsCreated.push(this.product),this.isOpenModal=!1,this.product=Object(r["a"])({},this.productForReset)},deleteProduct:function(e){this.productsCreated.splice(e,1)},editProduct:function(e){this.isOpenModal=!0,this.product=Object(r["a"])({},this.productsCreated[e])},pickFile:function(e){var t=e.target.files[0];this.files.push(t)},deleteFile:function(e){this.files.splice(e,1)},closeModal:function(){this.isOpenModal=!1,this.product=Object(r["a"])({},this.productForReset)},orderIsReturn:function(){this.generalData.hasAssociatedOrder=0==this.generalData.isReturn}}};n("91c7");const ik=F()(ck,[["render",ak],["__scopeId","data-v-16b32a30"]]);var lk=ik,sk=n("0d32"),uk=n.n(sk),dk=n("1558"),mk=n.n(dk),pk=function(e){return Object(a["pushScopeId"])("data-v-42ec4939"),e=e(),Object(a["popScopeId"])(),e},bk={class:"uk-card uk-padding uk-flex uk-flex-between uk-flex-wrap"},vk=pk((function(){return Object(a["createElementVNode"])("img",{src:uk.a,alt:""},null,-1)})),fk=pk((function(){return Object(a["createElementVNode"])("p",null,"Crear Orden",-1)})),Ok=[vk,fk],gk=pk((function(){return Object(a["createElementVNode"])("img",{src:mk.a,alt:""},null,-1)})),hk=pk((function(){return Object(a["createElementVNode"])("p",null,"Ver Todas las Ordenes",-1)})),jk=[gk,hk];function kk(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("ion-loading");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(i,{"is-open":r.isOpenRef,cssClass:"my-custom-class",message:"Por favor Espere...",duration:o.timeout,onDidDismiss:t[0]||(t[0]=function(e){return r.setOpen(!1)})},null,8,["is-open","duration"]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",bk,[Object(a["createElementVNode"])("div",{class:"item",onClick:t[1]||(t[1]=function(e){return c.changeRoute("order-registration")})},Ok),Object(a["createElementVNode"])("div",{onClick:t[2]||(t[2]=function(e){return c.changeRoute("list-orders")}),class:"item"},jk)])])],64)}var Ek={alias:"Manejo de Ordenes",components:{IonLoading:Ct["a"]},data:function(){return{timeout:1e4}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setOpen(!0),t.prev=1,t.next=4,e.$services.manageOrders.getOrders();case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),n=[];case 10:e.$store.commit("setListOrders",n),e.setOpen(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))()},setup:function(){var e=Object(a["ref"])(!1),t=function(t){return e.value=t};return{isOpenRef:e,setOpen:t}},methods:{changeRoute:function(e){this.$router.push({name:e})}}};n("4d70");const Sk=F()(Ek,[["render",kk],["__scopeId","data-v-42ec4939"]]);var xk=Sk,yk=function(e){return Object(a["pushScopeId"])("data-v-5fc117d5"),e=e(),Object(a["popScopeId"])(),e},Nk={class:"uk-card container"},Ck={class:"menu"},wk={class:"filter-Card"},Vk={class:"header"},Dk={class:"uk-flex uk-flex-wrap uk-flex-between"},Ik={"uk-accordion":"",class:"uk-margin-remove uk-padding-remove"},Rk={class:"uk-margin-remove"},Bk={key:0,class:"isFilter"},Ak=yk((function(){return Object(a["createElementVNode"])("a",{class:"uk-accordion-title",href:"#"}," Mostrar / Ocultar Filtros",-1)})),Lk={class:"uk-accordion-content uk-margin-remove uk-padding-remove"},Tk=yk((function(){return Object(a["createElementVNode"])("span",null,"No. de Orden",-1)})),Qk={style:{"justify-content":"center !important"}},Mk=yk((function(){return Object(a["createElementVNode"])("span",null,"Estado",-1)})),Pk=yk((function(){return Object(a["createElementVNode"])("option",{value:"Created"},"Creada",-1)})),_k=yk((function(){return Object(a["createElementVNode"])("option",{value:"Assigned"},"Asignada",-1)})),qk=yk((function(){return Object(a["createElementVNode"])("option",{value:"Delivered"},"Entregada",-1)})),Fk=yk((function(){return Object(a["createElementVNode"])("option",{value:"en-route"},"En Ruta",-1)})),zk=[Pk,_k,qk,Fk],$k=yk((function(){return Object(a["createElementVNode"])("span",null,"Fecha de Entrega",-1)})),Uk=yk((function(){return Object(a["createElementVNode"])("span",null,"Nombre del Cliente",-1)})),Jk=Object(a["createTextVNode"])(),Yk=yk((function(){return Object(a["createElementVNode"])("span",null,"Shipper",-1)})),Gk=yk((function(){return Object(a["createElementVNode"])("span",null,"No. de Carga",-1)})),Hk=yk((function(){return Object(a["createElementVNode"])("span",null,"Nombre del Chofer",-1)})),Kk=yk((function(){return Object(a["createElementVNode"])("span",null,"Tipo de Servicio",-1)})),Wk={class:"uk-width-1-1 uk-flex uk-flex-right",style:{padding:"0px 10px"}},Xk={class:"section"},Zk={class:"icon"},eE={style:{"font-size":"10px"}},tE={class:"info"},nE=yk((function(){return Object(a["createElementVNode"])("strong",null," Nombre:",-1)})),rE={class:"uk-flex uk-flex-wrap"},oE=yk((function(){return Object(a["createElementVNode"])("strong",null,"No. de orden:",-1)})),aE=yk((function(){return Object(a["createElementVNode"])("strong",null,"Shipper:",-1)})),cE={class:"uk-flex uk-flex-between uk-flex-wrap",style:{"align-items":"center"}},iE=yk((function(){return Object(a["createElementVNode"])("strong",null," Fecha de Espera:",-1)})),lE={key:0},sE=yk((function(){return Object(a["createElementVNode"])("p",{class:"has-no-orders"},"No Encontro Ordenes Con Esos Filtros",-1)})),uE=[sE],dE={key:1},mE=yk((function(){return Object(a["createElementVNode"])("p",{class:"has-no-orders"},"No Tiene Ordenes Disponibles",-1)})),pE=[mE],bE={class:"uk-width-1-1"},vE={class:"uk-pagination uk-flex-center","uk-margin":""},fE=yk((function(){return Object(a["createElementVNode"])("a",{href:"#"},[Object(a["createElementVNode"])("span",{"uk-pagination-previous":""})],-1)})),OE=[fE],gE=yk((function(){return Object(a["createElementVNode"])("a",{href:"#"},[Object(a["createElementVNode"])("span",{"uk-pagination-next":""})],-1)})),hE=[gE],jE={key:0},kE={class:"modal"},EE={class:""},SE=yk((function(){return Object(a["createElementVNode"])("p",null,"Esta Seguro que Desea Eliminar Esta Orden",-1)})),xE={class:"uk-text-right uk-flex uk-flex-right",style:{"margin-top":"20px !important"}};function yE(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Nk,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",Ck,[Object(a["createElementVNode"])("div",wk,[Object(a["createElementVNode"])("div",Vk,[Object(a["createElementVNode"])("div",Dk,[Object(a["createElementVNode"])("div",Ik,[Object(a["createElementVNode"])("li",Rk,[o.isFiltered?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Bk,"Filtrados")):Object(a["createCommentVNode"])("",!0),Ak,Object(a["createElementVNode"])("div",Lk,[Object(a["createElementVNode"])("label",null,[Tk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.filters.orderNum=e}),class:"uk-input",type:"input",checked:""},null,512),[[a["vModelText"],o.filters.orderNum]])]),Object(a["createElementVNode"])("label",Qk,[Mk,Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.filters.status=e}),class:"uk-select"},zk,512),[[a["vModelSelect"],o.filters.status]])]),Object(a["createElementVNode"])("label",null,[$k,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.filters.expected_date=e}),class:"uk-input",type:"date",checked:""},null,512),[[a["vModelText"],o.filters.expected_date]])]),Object(a["createElementVNode"])("label",null,[Uk,Jk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.filters.client_name=e}),class:"uk-input",type:"input"},null,512),[[a["vModelText"],o.filters.client_name]])]),Object(a["createElementVNode"])("label",null,[Yk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.filters.shipper=e}),class:"uk-input",type:"input",checked:""},null,512),[[a["vModelText"],o.filters.shipper]])]),Object(a["createElementVNode"])("label",null,[Gk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.filters.loadNumber=e}),class:"uk-input",type:"input",checked:""},null,512),[[a["vModelText"],o.filters.loadNumber]])]),Object(a["createElementVNode"])("label",null,[Hk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.filters.driver_name=e}),class:"uk-input",type:"input",checked:""},null,512),[[a["vModelText"],o.filters.driver_name]])]),Object(a["createElementVNode"])("label",null,[Kk,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.filters.serviceType=e}),class:"uk-input",type:"input",checked:""},null,512),[[a["vModelText"],o.filters.serviceType]])]),Object(a["createElementVNode"])("div",Wk,[Object(a["createElementVNode"])("button",{onClick:t[8]||(t[8]=function(e){return c.clearFilters()}),class:"uk-button uk-button-red uk-button-small"},"Limpiar Filtros"),Object(a["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(e){return c.setFilters()}),class:"uk-button uk-button-primary uk-button-small"},"Aplicar Filtros")])])])])])])])]),Object(a["createElementVNode"])("div",Xk,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.orderToDisplay,(function(t,n){var r;return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"item",key:t},[Object(a["createElementVNode"])("div",Zk,[Object(a["createVNode"])(i,{onClick:function(e){return c.editOrder(t)},icon:"pen",class:"icon-action"},null,8,["onClick"]),Object(a["createVNode"])(i,{onClick:function(e){return c.openModal(t)},class:Object(a["normalizeClass"])([{disabled:"Created"!=t.status},"icon-action"]),icon:"trash-alt"},null,8,["onClick","class"])]),Object(a["createElementVNode"])("span",eE,Object(a["toDisplayString"])(e.translateOrderStatus(null===t||void 0===t?void 0:t.status)),1),Object(a["createElementVNode"])("div",tE,[Object(a["createElementVNode"])("p",null,[nE,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.client_name),1)]),Object(a["createElementVNode"])("div",rE,[Object(a["createElementVNode"])("p",null,[oE,Object(a["createTextVNode"])(Object(a["toDisplayString"])(null===t||void 0===t?void 0:t.order_num),1)]),Object(a["createElementVNode"])("p",null,[aE,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.name),1)])]),Object(a["createElementVNode"])("div",cE,[Object(a["createElementVNode"])("p",null,[iE,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(c.setDateFormat(null===t||void 0===t?void 0:t.expected_date))+" "+Object(a["toDisplayString"])(c.setLocaleHour(null===t||void 0===t?void 0:t.expected_date)),1)])])])],512)),[[a["vShow"],n>=o.currentPage&&n<=o.totalInPages]])})),128)),0==o.orderToDisplay.length&&o.isFiltered?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",lE,uE)):Object(a["createCommentVNode"])("",!0),0!=o.orderToDisplay.length||o.isFiltered?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",dE,pE))])]),Object(a["createElementVNode"])("div",bE,[Object(a["createElementVNode"])("ul",vE,[Object(a["createElementVNode"])("li",{onClick:t[10]||(t[10]=function(e){return c.changePage(-10)})},OE),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.pages,(function(e,t){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e},[Object(a["createElementVNode"])("a",{class:Object(a["normalizeClass"])({active:t+1==o.totalInPages/10})},Object(a["toDisplayString"])(e),3)],512)),[[a["vShow"],e<o.lastPage&&e>o.firstPage]])})),128)),Object(a["createElementVNode"])("li",{onClick:t[11]||(t[11]=function(e){return c.changePage(10,!0)})},hE)])]),Object(a["createVNode"])(a["Transition"],{name:"modal"},{default:Object(a["withCtx"])((function(){return[o.isOpenModal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jE,[Object(a["createElementVNode"])("div",{class:"overlay",onClick:t[14]||(t[14]=Object(a["withModifiers"])((function(e){o.isOpenModal=!1}),["self"]))},[Object(a["createElementVNode"])("div",kE,[Object(a["createElementVNode"])("div",EE,[SE,Object(a["createElementVNode"])("p",xE,[Object(a["createElementVNode"])("button",{class:"uk-button uk-button-red uk-modal-close",style:{margin:"0px 10px"},onClick:t[12]||(t[12]=function(e){return o.isOpenModal=!1}),type:"button"},"Cancelar"),Object(a["createElementVNode"])("button",{class:"uk-button uk-button-primary uk-modal-close",onClick:t[13]||(t[13]=function(e){return c.deleteOrder()}),type:"button"},"Eliminar")])])])])])):Object(a["createCommentVNode"])("",!0)]})),_:1})])}n("5b81");var NE={alias:"Lista de Ordenes",mixins:[sn],computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["listOrdersStore"])),{},{pages:function(){var e=this.orderToDisplay.length/10;return Math.ceil(e)<1?1:Math.ceil(e)}}),data:function(){return{orders:[],orderToDisplay:[],totalInPages:10,currentPage:0,totalOrders:null,filter:!1,order:null,filters:{expected_date:null,orderNum:null,status:null,client_name:null,shipper:null,loadNumber:null,driver_name:null,serviceType:null},isFiltered:!1,isOpenModal:!1,lastPage:8,firstPage:0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.listOrdersStore){t.next=4;break}e.orders=null===(r=e.listOrdersStore)||void 0===r?void 0:r.data,t.next=14;break;case 4:return t.prev=4,t.next=7,e.$services.manageOrders.getOrders();case 7:o=t.sent,e.orders=o.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),e.$router.push({name:"home"});case 14:e.orderToDisplay=Object(mc["a"])(e.orders),e.totalOrders=null===(n=e.orders)||void 0===n?void 0:n.length;case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()},methods:{changePage:function(e,t){t&&this.totalInPages<this.totalOrders?(this.lastPage++,this.firstPage++,this.totalInPages=this.totalInPages+e,this.currentPage=this.currentPage+e):!t&&this.currentPage>0&&(this.lastPage--,this.firstPage--,this.totalInPages=this.totalInPages+e,this.currentPage=this.currentPage+e)},setLocaleHour:function(e){var t=Vt()(e).utc().format("YYYY-MM-DD HH:mm");return Vt()(t).format("hh:mm A")},setDateFormat:function(e){return Vt()(e).format("MM/DD/YYYY")},editOrder:function(e){this.$store.commit("editOrder",e),this.$router.push({name:"order-registration"})},openModal:function(e){this.order=e,this.isOpenModal=!0},deleteOrder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.orderToDisplay.findIndex((function(t){return t.order_num==e.order.order_num})),e.orderToDisplay.splice(n,1),t.next=4,e.$services.manageOrders.deleteOrder(e.order._id);case 4:return t.next=6,e.$services.manageOrders.getOrders();case 6:r=t.sent,e.orderToDisplay=null===r||void 0===r?void 0:r.data,e.isOpenModal=!1,e.order=null;case 10:case"end":return t.stop()}}),t)})))()},setFilters:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,i,l,s,u,d,m,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.filters,r=n.expected_date,o=n.orderNum,a=n.client_name,c=n.status,i=n.shipper,l=n.loadNumber,s=n.driver_name,u=n.serviceType,d=null,r&&(d=null===(m=r)||void 0===m?void 0:m.replaceAll("-","/")),r=d,!(r||o||a||c||i||l||s||u)){t.next=12;break}return e.isFiltered=!0,t.next=8,e.$services.manageOrders.getOrdersFilter(r,o,a,c,i,l,s,u);case 8:p=t.sent,e.orderToDisplay=null===p||void 0===p?void 0:p.data,t.next=13;break;case 12:e.clearFilters();case 13:case"end":return t.stop()}}),t)})))()},clearFilters:function(){var e={expected_date:null,orderNum:null,status:null,client_name:null,shipper:null,loadNumber:null,driver_name:null,serviceType:null};this.isFiltered=!1,this.filters=Object(r["a"])({},e),this.orderToDisplay=Object(mc["a"])(this.orders)}}};n("f393");const CE=F()(NE,[["render",yE],["__scopeId","data-v-5fc117d5"]]);var wE=CE;function VE(e,t,n,r,o,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{onClick:t[0]||(t[0]=function(e){return c.download()})}," Download Image ")}n("2b3d"),n("9861");var DE={methods:{download:function(){Lt()({url:"https://source.unsplash.com/random/500x500",method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","image.jpg"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}}};const IE=F()(DE,[["render",VE]]);var RE=IE,BE=[{path:"/",name:"redirect",component:kg},{path:"/",name:"sign-in",component:Jn},{path:"/settings",name:"settings",component:su},{path:"/recover",name:"recover-password",component:zs},{path:"/home",name:"home",component:fn},{path:"/details-load",name:"details-load",component:WO},{path:"/orders",name:"orders",component:Go},{path:"/delivery-actions",name:"deliveryActions",component:fl},{path:"/delivery-routes",name:"delivery-routes",component:fs},{path:"/scan-order",name:"scan-order",component:Gr},{path:"/drayage-orden",name:"drayage-orden",component:qu},{path:"/delivery-actions-auto",name:"delivery-actions-auto",component:lm},{path:"/return-container",name:"return-container",component:Of},{path:"/confirm-trip",name:"confirm-trip",component:Np},{path:"/load-status",name:"load-status",component:Vb},{path:"/details-invoices",name:"details-invoices",component:hv},{path:"/warehouse",name:"reconciliation-warehouse",component:yv},{path:"/about",name:"about",component:RE},{path:"/version",name:"version",component:Og},{path:"/manage-orders",name:"manage-orders",component:xk},{path:"/order-registration",name:"order-registration",component:lk},{path:"/list-orders",name:"list-orders",component:wE},{path:"/invoice-summary",name:"summary",component:ml}],AE=Object(Ie["a"])({history:Object(Ie["b"])("/"),routes:BE}),LE=AE,TE={install:function(e){e.config.globalProperties.$services=ln}},QE=n("2169"),ME=n("ad3d"),PE=n("ecee"),_E=n("c074"),qE=n("8537"),FE=n("85fe");n("95ad");if(PE["c"].add(_E["d"]),PE["c"].add(_E["p"]),PE["c"].add(_E["a"]),PE["c"].add(_E["k"]),PE["c"].add(_E["c"]),PE["c"].add(_E["e"]),PE["c"].add(_E["f"]),PE["c"].add(_E["g"]),PE["c"].add(_E["h"]),PE["c"].add(_E["l"],_E["n"]),PE["c"].add(_E["b"]),PE["c"].add(_E["i"]),PE["c"].add(_E["o"]),PE["c"].add(_E["q"]),PE["c"].add(_E["j"]),PE["c"].add(_E["m"]),PE["c"].add(_E["r"]),!JSON.parse(localStorage.getItem("setting"))){var zE={maps:!1,url:Q.production};localStorage.setItem("setting",JSON.stringify(zE))}var $E=Object(o["a"])(Object(r["a"])({},De));Object(a["createApp"])(me).component("font-awesome-icon",ME["a"]).component("DatePicker",un["a"]).use(Ct["b"]).use(LE).use($E).use(FE["a"]).use(TE).use(QE["a"]).use(qE["a"]).mount("#app"),Object(qE["a"])(window)},"5bd9":function(e,t,n){},"5c3f":function(e,t,n){var r={"./pwa-action-sheet.entry.js":["cfc4","chunk-2d222cca"],"./pwa-camera-modal-instance.entry.js":["fa8e","chunk-2d23721e"],"./pwa-camera-modal.entry.js":["4977","chunk-2d0c211b"],"./pwa-camera.entry.js":["da8b","chunk-2d22895d"],"./pwa-toast.entry.js":["6357","chunk-2d0cf315"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="5c3f",e.exports=o},"5e9e":function(e,t,n){"use strict";n("3fea")},"63e8":function(e,t,n){},7548:function(e,t,n){"use strict";n("7a2e")},"7a2e":function(e,t,n){},"7a8c":function(e,t,n){},"7bc1":function(e,t,n){"use strict";n("e796")},"7e22":function(e,t,n){},8554:function(e,t,n){"use strict";n("2706")},"897f":function(e,t,n){},"8ae8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAflBMVEX///8AAAD5+fkICAgEBAQYGBgoKCi2traWlpY8PDz4+PgMDAzz8/N6enri4uISEhLt7e1dXV3R0dHd3d2rq6scHByxsbHGxsYzMzNmZma7u7tPT09BQUFISEgtLS3IyMiJiYmHh4ehoaFwcHCRkZF/f38hISFVVVVfX190dHTrfhhdAAAHA0lEQVR4nO2ciZKiMBCGJyCCA4gXCniMxzjuvv8LLg2CgCCdQABn+6vaKp1NsH+SdJqkyccHQRAEQRAEQRAEQRAEQRAEQRAEQRAE8X+h6P7BYRU4nq/3bSCSs1slIuHn3LeNCGb7OhnAfta3nXXMxhgdjI2nfVv6mk8PrFT9oPKOzwJfhTLeZ5d2cXMBG3c1d3s6gVKXbiwqoFcMYDfvgZaj8G9bpe5qyjYsNlpKs/YFlY7IzRWbQ++36i9n/YQF55JsfUn1qM2WmkLvX2Gut4KR1Md4xwmxoUFwFwTnZsuwtIbY5Od/OSEWTOcG7oJGWNRBdMK2QQnhMY5HdJughHB1F45u2CYYIWvwqegBHDmGtQxbX4IRsgu//cFf8k9YfNe+pTUghCzg2wJ/Sd7y7YAQMue9w7s+JsV6IVGf53pk4htTTZka+7FZPR3m4fRCyIifMXO8N5opnl1G2B8DOOcFg+fabN5AyhrdFrVM4HqTzOeP+6SIxxR+1je4moNfyMe69uk+x0gwElhHtQ/fix5CojzW4vsQKRFqkyn0K7WHcKgcA7yiKTJOfNCxad0gYQJQ4vPXm8IAGUx7AODkBOYdqHaQYE4DDkK3FtbZviVY04Dv0KQ9dy2YdrsM6SYVLjsDhJn8jzDgs7r0u2UTR6GIBX5L6MLtmIj9PcxfBGwiIYKQkPoLkxAhfpGQWvf7HkIQE+J7CMFAQpr+8HR93XpjTVW1sbe9rhsv/fQiRAl8rdjpNT+o3ZZr3aZmQpZ+xQqJ4zfYOuxcyGL+av1lK/z8LCykKebePn8tZ4oyW36d7X3dKlnG3U5K/6cfIdrfTWFAKJu/T8OmGyHclZJkAMZ2FUtQ+u5umogL61BIEI/x/Vd1kU0sRQv4r96dkO9okLs1W+2raKV0xL+00ZmQU3Sv57WP+tY8KnjswiaRSpEOFZVUFi2AspN8m0QqwbITc5CTxCYaTJy9qxshAYwPLb8UZun2duyMRs54a+v5HrcATzziG/GdCJnCLXZyOvSbmp0M1FvOJS9gfnS4vHAXQhRIncst3q8O4R2f2KsFzOyLlT0JW+yQzRCIltc9niiyCyFHKJ8Z58twtnCPufs9PYZud5+JGQ3eYdKBkGhXKLNpfjaZZjzdbMVwmJmZZMAL8+zddCAEcvvcx2i2Q1Wl6Zmz0PZr+s2CmXEryyaRShso/bjV/ovZxBhl0jIhkY69CGea2CRUCRrksXNhv9xJ1tVMm0DcdZNjk0ilJRROPdaqZvc19FZpe31BTfQ2jHQhsG+a5tMsTVYTpRjMTH0XNAl6h1O2EAXmwrQRduUpP9bVM03vGjmE+aMf6jArYucS2ULAGC35smJamb9a3JMcXOhHMyfNnVMgUsEGKrKFQM/6m3w5lG68Wj9sElhWMGE/0CYG85L/uXD0LdlCtMxQ15lb1lFO7BAl9X8eothdcdOuuMk2Z3s2iVSawvycWH9jx7IyXtKX1nFbnFKnq0DEhZzdJQtZZyYRSy3PTVDZfeDM4n3ZKVOTOAA29JHZppKFXNkj3Vd/3guIKAoJmygZ4ZAAfC2t1MAmoUrbTNxrV2QwF7tWpuAZH29JFuJl4qVtxcsKhcEOXjoxHkZ7eTM2sEmoEiR7LNPP5fFGwf1COkaSjAHxDTIxQ7IQ8L7JHOiwiperkgnx5y50xpyP5BPa/0oWAv5TST9XhRvWCUKUU+KrPpmafmLp59ZsEqqEE1JgiEJQXavIELsWZrA/McTBjnG/TwzR/WImxCfyEyLyaXcAIcoTQwxRMEFjkUEGjZgwvsgpfR4eUBiPebAq8OmmPQvGuvuysJBNQpUQj7oFBvqoG2SntDVzaufEoS4+5JeD9vVvgN0Guhz0tEBX07kM5gxzgY5zyVQfPab/aPUbnWYjXUg0uT/eQbwy9U0XseO16EeUdXnxOtSwtxWKGz3Xyo2e27A3ep623lYmc5633j4NhzmZ8PjGBrf1Fm+GZvrTMgyh3FN+M/T0BpuhJdvTa/iL99iejr4Of3sakzAwz83gUcKANriEgYoUjgBSOFQVUjiCN0nh4EyqCUzeASJkk1ilU9SBUC/YxWlOR/k2iVWKXBcm8ezGRHRQKqBIcmacD7t7MVLeIjmzNl1W6SddthHa5TmB+fIygbmaXjOxQ9S9fd7EKeWbs71X62tIEsJd6c7gkvxFf/DXvHYBlL0I477fizAx0/X1NolfTZrc3vXVJBmQEAm2NOL/FtL1UQkIxI5K6PrwCgRih1cM9DgRjlWwO7/mgJdfc+ROfAiSwNOPLEQPQRrksVT1m2Fl6FEs/v4HhbV7dFsbiB7dFrZJe4fptYDT4OD8mS3+eNoyI7/ZUwDXgZOyaH7gJEEQBEEQBEEQBEEQBEEQBEEQBEEQBNEv/wDIYlJmQBEVnQAAAABJRU5ErkJggg=="},"8b55":function(e,t,n){e.exports=n.p+"img/map.819d8881.png"},"8b8e":function(e,t,n){},"8c84":function(e,t,n){"use strict";n("9579")},"91c7":function(e,t,n){"use strict";n("a9a6")},9262:function(e,t,n){"use strict";n("ff15")},9579:function(e,t,n){},"97d3":function(e,t,n){"use strict";n("63e8")},"9fa6":function(e,t,n){e.exports=n.p+"img/rejected.4f253d42.png"},a09c:function(e,t,n){e.exports=n.p+"img/parcel.f1e2b2c6.png"},a2af:function(e,t,n){e.exports=n.p+"img/warning.6f9f6e8a.png"},a9a6:function(e,t,n){},aa55:function(e,t,n){var r={"./ion-action-sheet.entry.js":["6618","chunk-485adc83"],"./ion-alert.entry.js":["f06c","chunk-106fab1a"],"./ion-app_8.entry.js":["c215","chunk-53b1137a"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3","chunk-5ff96a24"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-1bff95de"],"./ion-nav_2.entry.js":["e44f","chunk-4739acd0"],"./ion-popover.entry.js":["4285","chunk-e5275ddc"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8d","chunk-1bc223c0"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-47245a33"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="aa55",e.exports=o},adba:function(e,t,n){},af23:function(e,t,n){},b027:function(e,t,n){e.exports=n.p+"img/offline-icon.447ce5e0.png"},bcbc:function(e,t,n){"use strict";n("de83")},bd66:function(e,t,n){},be63:function(e,t,n){"use strict";n("8b8e")},bfd3:function(e,t,n){},c30d:function(e,t,n){},c4d7:function(e,t,n){e.exports=n.p+"img/invoice.01d1c760.png"},c62e:function(e,t,n){"use strict";n("f6b7")},c6a5:function(e,t,n){"use strict";n("3cd3")},c6e0:function(e,t,n){"use strict";n("af23")},cd5c:function(e,t,n){e.exports=n.p+"img/close.f98c482e.png"},cf05:function(e,t,n){e.exports=n.p+"img/logo.75b40837.png"},d92c:function(e,t,n){},de83:function(e,t,n){},e796:function(e,t,n){},ec38:function(e,t,n){"use strict";n("adba")},edc7:function(e,t,n){"use strict";n("bfd3")},f0c8:function(e,t,n){e.exports=n.p+"img/check.b24434d3.png"},f393:function(e,t,n){"use strict";n("bd66")},f6b7:function(e,t,n){},f754:function(e,t,n){"use strict";n("c30d")},ff15:function(e,t,n){}});
//# sourceMappingURL=app.c7dc9c66.js.map